var animate=function(){var a,n,l=(n=(a=[0,6e-5,24e-5,54e-5,97e-5,.00153,.00221,.00303,.00398,.00506,.00629,.00765,.00916,.01081,.0126,.01455,.01664,.01889,.0213,.02386,.02658,.02946,.0325,.03571,.03908,.04262,.04632,.05019,.05423,.05844,.06283,.06738,.0721,.07699,.08206,.0873,.0927,.09827,.104,.1099,.11597,.12219,.12857,.1351,.14179,.14861,.15559,.16271,.16995,.17734,.18484,.19247,.20021,.20805,.216,.22405,.23219,.24041,.24871,.25708,.26552,.27401,.28256,.29114,.29978,.30844,.31712,.32583,.33455,.34328,.352,.36073,.36945,.37815,.38682,.39548,.40411,.41269,.42126,.42977,.43824,.44666,.45502,.46334,.4716,.4798,.48793,.496,.50399,.51192,.51978,.52757,.53528,.54293,.55049,.55796,.56538,.5727,.57996,.58713,.59421,.60122,.60815,.615,.62175,.62844,.63504,.64157,.648,.65437,.66064,.66684,.67296,.679,.68496,.69084,.69665,.70238,.70803,.7136,.71911,.72452,.72988,.73515,.74036,.74549,.75054,.75554,.76045,.7653,.77007,.77479,.77942,.784,.78851,.79295,.79733,.80163,.80589,.81007,.81419,.81825,.82225,.82619,.83007,.83388,.83765,.84135,.845,.84858,.85211,.85559,.85902,.86239,.8657,.86895,.87217,.87532,.87842,.88149,.88448,.88743,.89034,.89319,.896,.89876,.90147,.90414,.90675,.90933,.91185,.91434,.91678,.91917,.92152,.92383,.92609,.92831,.93049,.93264,.93473,.9368,.93881,.94079,.94273,.94463,.9465,.94832,.95011,.95186,.95357,.95525,.95689,.95849,.96006,.9616,.96309,.96455,.96599,.96738,.96874,.97007,.97136,.97263,.97386,.97506,.97623,.97736,.97847,.97954,.98058,.98159,.98258,.98353,.98445,.98535,.98621,.98705,.98786,.98864,.98939,.99011,.99081,.99147,.99212,.99273,.99332,.99388,.99442,.99493,.99541,.99587,.9963,.99671,.99709,.99745,.99779,.9981,.99838,.99865,.99888,.9991,.99929,.99946,.9996,.99972,.99982,.9999,.99996,.99999,1]).length-1,function(t){var e=Math.round(t*n);return a[e]}),u="animating";return{animateHeight:function(e,t){var n,s,i,r,a=Object.assign({start:0,end:100,fadeIn:!0,duration:200,units:"px"},t),o=l;e.style.height=a.start+a.units,e.addClass(u),e.animation=(n={duration:a.duration,delta:o,step:function(t){e.style.height=a.start+(a.end-a.start)*t+a.units},finish:function(){e.removeClass(u),e.style.removeProperty("height"),"function"==typeof a.finish&&a.finish()},interrupt:function(){e.removeClass(u),e.style.removeProperty("height"),"function"==typeof a.interrupt&&a.interrupt()}},s=new Date,i=!1,r=function(){var t=new Date-s,e=t/n.duration;1<e&&(e=1);var a=n.delta(e);n.step(a),i&&n.interrupt?n.interrupt():e<1?window.requestAnimationFrame(r):n.finish&&n.finish()},window.requestAnimationFrame(r),{stop:function(){i=!0}})},getNaturalHeight:function(t,e){var a,n;return e=e||"",(a=function(t,e){var a=document.createElement(e);for(t.appendChild(a);t.firstChild&&t.firstChild!==a;)a.appendChild(t.firstChild);return a}(t,"div")).className=e,n=a.offsetHeight,function(t){for(var e=t.parentNode;t.firstChild;)e.insertBefore(t.firstChild,t);e.removeChild(t)}(a),n}}}(),byu_main=function(){var e=document;function s(t,e){return 0<e.getElementsByClassName(t).length}return HTMLElement.prototype.hasClass=function(t){return this.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},HTMLElement.prototype.addClass=function(t){for(var e=t.split(","),a=0;a<e.length;a++)-1==(" "+this.className+" ").indexOf(" "+e[a]+" ")&&(this.className+=" "+e[a]);return this},HTMLElement.prototype.removeClass=function(t){if(this.hasClass(t)){var e=new RegExp("(\\s|^)"+t+"(\\s|$)"),a=new RegExp("(\\s|^)"+t);this.className.search(e)&&(this.className=this.className.replace(a,""))}return this},{executeOnLoad:function(t){"loading"!=e.readyState?t():e.addEventListener?e.addEventListener("DOMContentLoaded",t):e.attachEvent("onreadystatechange",function(){"complete"==e.readyState&&t()})},elExists:s,hasChildren:function(t,e){var a,n=!1;return s(t,e)&&(a=e.getElementsByClassName(t),Array.prototype.forEach.call(a,function(t){0<t.children.length&&(n=!0)})),n}}}(),byu_table=function(){"use strict";var n=document;function s(t){var e=t.offsetWidth,a=t.getElementsByTagName("table")[0],n=a.offsetWidth,s="table-wide",i="start-visible",r="end-visible";e<n?(t.hasClass(s)||t.addClass(s),0==a.scrollLeft?t.hasClass(i)||t.addClass(i):t.removeClass(i),n-a.scrollLeft==e?t.hasClass(r)||t.addClass(r):t.removeClass(r)):t.removeClass(s)}byu_main.executeOnLoad(function(){for(var t=n.getElementsByClassName("table-container"),e=0;e<t.length;e++){var a=t[e];s(a)}})}(),byu_header=function(){"use strict";var e=document,u=300,a="js-enabled",h="aria-expanded",f="menu-open",s="byu-site-navigation",i="byu-action-id-search";byu_main.executeOnLoad(function(){var t=e.getElementsByClassName("byu-header");Array.prototype.forEach.call(t,function(t){var e,n;(e=t).hasNav=byu_main.elExists(s,e),e.hasActions=byu_main.hasChildren(i,e),(e.hasNav||e.hasActions)&&(e.addClass(a),(n=e).getElementsByClassName("byu-menu-button")[0].addEventListener("click",function(t){var e,a;e=t.target,a=n,"false"!=e.getAttribute(h)?function(t,e){function a(){e.removeClass(f)}if(t.setAttribute(h,!1),e.hasNav){var n=e.navEl,s=n.offsetHeight;animate.animateHeight(n,{start:s,end:0,finish:a})}if(e.hasActions){var i=e.actionsEl,r=i.offsetHeight;animate.animateHeight(i,{start:r,end:0,finish:a})}}(e,a):function(t,e){function a(){e.hasClass(f)||e.addClass(f)}if(t.setAttribute(h,!0),e.hasNav){var n=e.navEl,s=n.offsetHeight,i=animate.getNaturalHeight(n);animate.animateHeight(n,{start:s,end:i,duration:u,finish:a})}if(e.hasActions){var r=e.actionsEl,o=r.offsetHeight,l=animate.getNaturalHeight(r,"actionsHeightWrapper");animate.animateHeight(r,{start:o,end:l,duration:u,finish:a})}}(e,a)}),e.navEl=e.getElementsByClassName(s)[0],e.actionsEl=e.getElementsByClassName(i)[0])})})}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFuaW1hdGUuanMiLCJtYWluLmpzIiwiMC1mb3VuZGF0aW9uL3RhYmxlL3RhYmxlLmpzIiwiaGVhZGVycy9oZWFkZXIvaGVhZGVyLmpzIl0sIm5hbWVzIjpbImFuaW1hdGUiLCJ5Q29vcmRpbmF0ZXMiLCJsZW4iLCJlYXNlRnVuY3Rpb24iLCJsZW5ndGgiLCJwcm9ncmVzcyIsInAiLCJNYXRoIiwicm91bmQiLCJhbmltYXRpbmdDbGFzcyIsImFuaW1hdGVIZWlnaHQiLCJlbCIsInNldHRpbmdzT2JqIiwib3B0cyIsInN0YXJ0IiwiaW50ZXJydXB0IiwicmVuZGVyIiwicyIsIk9iamVjdCIsImFzc2lnbiIsImVuZCIsImZhZGVJbiIsImR1cmF0aW9uIiwidW5pdHMiLCJlYXNlIiwic3R5bGUiLCJoZWlnaHQiLCJhZGRDbGFzcyIsImFuaW1hdGlvbiIsImRlbHRhIiwic3RlcCIsImZpbmlzaCIsInJlbW92ZUNsYXNzIiwicmVtb3ZlUHJvcGVydHkiLCJEYXRlIiwidGltZVBhc3NlZCIsIndpbmRvdyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInN0b3AiLCJnZXROYXR1cmFsSGVpZ2h0IiwiY2xhc3NOYW1lIiwid3JhcHBlciIsIndyYXAiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJhcHBlbmRDaGlsZCIsImZpcnN0Q2hpbGQiLCJ3cmFwSW5uZXIiLCJvZmZzZXRIZWlnaHQiLCJwYXJlbnQiLCJwYXJlbnROb2RlIiwiaW5zZXJ0QmVmb3JlIiwicmVtb3ZlQ2hpbGQiLCJ1bndyYXAiLCJieXVfbWFpbiIsImRvYyIsImVsRXhpc3RzIiwiY29udGFpbmVyIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsIkhUTUxFbGVtZW50IiwicHJvdG90eXBlIiwiaGFzQ2xhc3MiLCJuYW1lIiwidGhpcyIsIm1hdGNoIiwiUmVnRXhwIiwibmV3X2NsYXNzIiwibmMiLCJzcGxpdCIsImkiLCJpbmRleE9mIiwic2VhcmNoIiwicmVwbGFjZSIsImV4ZWN1dGVPbkxvYWQiLCJmdW5jdGlvbk5hbWUiLCJyZWFkeVN0YXRlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImF0dGFjaEV2ZW50IiwiaGFzQ2hpbGRyZW4iLCJlbHMiLCJBcnJheSIsImZvckVhY2giLCJjYWxsIiwiY2hpbGRyZW4iLCJieXVfdGFibGUiLCJ1cGRhdGVUYWJsZSIsImNfd2lkdGgiLCJvZmZzZXRXaWR0aCIsInRhYmxlIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJ0X3dpZHRoIiwidGFibGVfd2lkZV9jbGFzcyIsInN0YXJ0X3Zpc2libGVfY2xhc3MiLCJlbmRfdmlzaWJsZV9jbGFzcyIsInNjcm9sbExlZnQiLCJjb250YWluZXJzIiwiYnl1X2hlYWRlciIsIm1lbnVPcGVuRHVyYXRpb24iLCJqc0luaXRDbGFzcyIsImV4cGFuZGVkQXR0ciIsIm1lbnVPcGVuQ2xhc3MiLCJzaXRlTmF2Q2xhc3MiLCJzaXRlQWN0aW9uQ2xhc3MiLCJoZWFkZXJFbHMiLCJoZWFkZXJFbCIsImhhc05hdiIsImhhc0FjdGlvbnMiLCJlIiwiYnRuIiwidGFyZ2V0IiwiZ2V0QXR0cmlidXRlIiwicmVtb3ZlT3BlbkNsYXNzIiwic2V0QXR0cmlidXRlIiwibmF2IiwibmF2RWwiLCJuYXZIZWlnaHQiLCJhY3Rpb25zIiwiYWN0aW9uc0VsIiwiYWN0aW9uc0hlaWdodCIsImNsb3NlTWVudSIsImFkZE9wZW5DbGFzcyIsIm5hdkVuZEhlaWdodCIsImFjdGlvbnNFbmRIZWlnaHQiLCJvcGVuTWVudSJdLCJtYXBwaW5ncyI6IkFBR0EsSUFBQUEsUUFBQSxXQUVBLElBNEhBQyxFQUNBQyxFQTdIQUMsR0E2SEFELEdBREFELEVBQUEsQ0FBQSxFQUFBLEtBQUEsTUFBQSxNQUFBLE1BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsTUFBQSxPQUFBLE9BQUEsT0FBQSxNQUFBLE9BQUEsT0FBQSxPQUFBLE1BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsTUFBQSxPQUFBLE9BQUEsTUFBQSxNQUFBLE9BQUEsS0FBQSxNQUFBLE9BQUEsT0FBQSxPQUFBLE1BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxLQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLEtBQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxNQUFBLE1BQUEsT0FBQSxLQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE1BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLEtBQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxLQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsS0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsTUFBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxNQUFBLE9BQUEsT0FBQSxPQUFBLEtBQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLEtBQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE1BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsS0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE1BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxNQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxNQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFB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RUFBQVQsRUFBQVUsTUFDQUMsRUFBQUYsRUFBQWpFLGFBRUFoRCxRQUFBVSxjQUFBdUcsRUFBQSxDQUFBbkcsTUFBQXFHLEVBQUEvRixJQUFBLEVBQUFXLE9BQUFnRixJQUdBLEdBQUFQLEVBQUFFLFdBQUEsQ0FDQSxJQUFBVSxFQUFBWixFQUFBYSxVQUNBQyxFQUFBRixFQUFBcEUsYUFFQWhELFFBQUFVLGNBQUEwRyxFQUFBLENBQUF0RyxNQUFBd0csRUFBQWxHLElBQUEsRUFBQVcsT0FBQWdGLEtBM0VBUSxDQUFBWCxFQUFBSixHQWFBLFNBQUFJLEVBQUFKLEdBTUEsU0FBQWdCLElBQ0FoQixFQUFBM0MsU0FBQXVDLElBQ0FJLEVBQUE3RSxTQUFBeUUsR0FLQSxHQVZBUSxFQUFBSSxhQUFBYixHQUFBLEdBVUFLLEVBQUFDLE9BQUEsQ0FDQSxJQUFBUSxFQUFBVCxFQUFBVSxNQUNBQyxFQUFBRixFQUFBakUsYUFDQXlFLEVBQUF6SCxRQUFBdUMsaUJBQUEwRSxHQUVBakgsUUFBQVUsY0FBQXVHLEVBQUEsQ0FBQW5HLE1BQUFxRyxFQUFBL0YsSUFBQXFHLEVBQUFuRyxTQUFBMkUsRUFBQWxFLE9BQUF5RixJQUdBLEdBQUFoQixFQUFBRSxXQUFBLENBQ0EsSUFBQVUsRUFBQVosRUFBQWEsVUFDQUMsRUFBQUYsRUFBQXBFLGFBQ0EwRSxFQUFBMUgsUUFBQXVDLGlCQUFBNkUsRUFBQSx3QkFFQXBILFFBQUFVLGNBQUEwRyxFQUFBLENBQUF0RyxNQUFBd0csRUFBQWxHLElBQUFzRyxFQUFBcEcsU0FBQTJFLEVBQUFsRSxPQUFBeUYsS0E1Q0FHLENBQUFmLEVBQUFKLEtBckNBQSxFQUFBVSxNQUFBVixFQUFBOUMsdUJBQUEyQyxHQUFBLEdBQ0FHLEVBQUFhLFVBQUFiLEVBQUE5Qyx1QkFBQTRDLEdBQUEsUUE1REEiLCJmaWxlIjoic2NyaXB0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKi9cbi8qISBBbmltYXRlICovXG5cbnZhciBhbmltYXRlID0gKGZ1bmN0aW9uKCkge1xuXG4gICAgdmFyIGVhc2VGdW5jdGlvbiA9IGN1YmljQmV6aWVyRGVmaW5lZCgpO1xuICAgIHZhciBhbmltYXRpbmdDbGFzcyA9ICdhbmltYXRpbmcnO1xuXG4gICAgLy8gQW5pbWF0aW9uXG5cbiAgICAvKlxuICAgICAqIEZ1bmM6IGFuaW1hdGVIZWlnaHRcbiAgICAgKiBEZXNjOiBBbmltYXRlIHRoZSBoZWlnaHQgb2YgYW4gaXRlbVxuICAgICAqIEFyZ3M6IEBlbCAtIEhUTUwgRWxlbWVudCAtIFRoZSBIVE1MIGVsZW1lbnQgdG8gYW5pbWF0ZVxuICAgICAqICAgICAgIEBzZXR0aW5nc09iaiAtIE9iamVjdCAtIENvbnRhaW5zIHByb3BlcnRpZXMgdG8gb3ZlcnJpZGUgZGVmYXVsdCBzZXR0aW5nc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFuaW1hdGVIZWlnaHQoZWwsIHNldHRpbmdzT2JqKSB7XG5cbiAgICAgICAgLy8gU2V0IGRlZmF1bHRzIGFuZCBvdmVyd3JpdGUgd2l0aCBwYXNzZWQgb2JqZWN0IChzZXR0aW5nc09iailcbiAgICAgICAgdmFyIHMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIHN0YXJ0OiAwLFxuICAgICAgICAgICAgZW5kOiAxMDAsXG4gICAgICAgICAgICBmYWRlSW46IHRydWUsXG4gICAgICAgICAgICBkdXJhdGlvbjogMjAwLFxuICAgICAgICAgICAgdW5pdHM6IFwicHhcIixcbiAgICAgICAgfSwgc2V0dGluZ3NPYmopO1xuXG4gICAgICAgIHZhciBlYXNlID0gZWFzZUZ1bmN0aW9uO1xuXG4gICAgICAgIGVsLnN0eWxlLmhlaWdodCA9IHMuc3RhcnQgKyBzLnVuaXRzO1xuICAgICAgICBlbC5hZGRDbGFzcyhhbmltYXRpbmdDbGFzcyk7XG5cbiAgICAgICAgLy8gQW5pbWF0ZSBoZWlnaHQgYXQgaW5wdXQgcmF0ZVxuICAgICAgICBlbC5hbmltYXRpb24gPSBhbmltYXRlKHtcbiAgICAgICAgICAgIGR1cmF0aW9uOiBzLmR1cmF0aW9uLFxuICAgICAgICAgICAgZGVsdGE6IGVhc2UsXG4gICAgICAgICAgICBzdGVwOiBmdW5jdGlvbihkZWx0YSkge1xuICAgICAgICAgICAgICAgIGVsLnN0eWxlLmhlaWdodCA9IHMuc3RhcnQgKyAoKHMuZW5kIC0gcy5zdGFydCkgKiBkZWx0YSkgKyBzLnVuaXRzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZpbmlzaDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgZWwucmVtb3ZlQ2xhc3MoYW5pbWF0aW5nQ2xhc3MpO1xuICAgICAgICAgICAgICAgIGVsLnN0eWxlLnJlbW92ZVByb3BlcnR5KFwiaGVpZ2h0XCIpO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygcy5maW5pc2ggPT0gXCJmdW5jdGlvblwiKSB7IHMuZmluaXNoKCk7IH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbnRlcnJ1cHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGVsLnJlbW92ZUNsYXNzKGFuaW1hdGluZ0NsYXNzKTtcbiAgICAgICAgICAgICAgICBlbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eShcImhlaWdodFwiKTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHMuaW50ZXJydXB0ID09IFwiZnVuY3Rpb25cIikgeyBzLmludGVycnVwdCgpOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgfSAvLyBhbmltYXRlSGVpZ2h0XG5cblxuICAgIC8qXG4gICAgICogRnVuYzogYW5pbWF0ZVxuICAgICAqIERlc2M6IEFuaW1hdGUgZnVuY3Rpb25cbiAgICAgKiBTcmM6ICBodHRwOi8vamF2YXNjcmlwdC5pbmZvL3R1dG9yaWFsL2FuaW1hdGlvbiAobWFpbiBhbmltYXRpb24gZnVuY3Rpb25zKVxuICAgICAqICAgICAgIGh0dHA6Ly9jcmVhdGl2ZWpzLmNvbS9yZXNvdXJjZXMvcmVxdWVzdGFuaW1hdGlvbmZyYW1lLyAocmVxdWVzdEFuaW1hdGlvbkZyYW1lKVxuICAgICAqIEFyZ3M6IEBvcHRzIC0gT2JqZWN0IC0gVGhlIG9wdGlvbnMgb2JqZWN0XG4gICAgICogICAgICAgICBjb250YWluczogQGR1cmF0aW9uIC0gTnVtYmVyIC0gTWlsbGlzZWNvbmRzIGZvciB0b3RhbCBhbmltYXRpb25cbiAgICAgKiAgICAgICAgICAgICAgICAgICBAZGVsdGEgLSBGdW5jdGlvbiAtIEVhc2luZyBmdW5jdGlvblxuICAgICAqICAgICAgICAgICAgICAgICAgIEBzdGVwIC0gRnVuY3Rpb24gLSBSZXN1bHQgZnVuY3Rpb24gKHdoYXQgc2hvdWxkIGhhcHBlbiBvbiBzY3JlZW4gZWFjaCBmcmFtZSlcbiAgICAgKiAgICAgICAgICAgICAgICAgICBAZmluaXNoIC0gRnVuY3Rpb24gLSBvcHRpb25hbC0gRW5kIGZ1bmN0aW9uICh3aGF0IGhhcHBlbnMgd2hlbiBhbmltYXRpb24gZmluaXNoZXMpXG4gICAgICogICAgICAgICAgICAgICAgICAgQGludGVycnVwdCAtIEZ1bmN0aW9uIC0gb3B0aW9uYWwtIEVuZCBmdW5jdGlvbiAod2hhdCBoYXBwZW5zIGlmIGFuaW1hdGlvbiBpcyBpbnRlcnJ1cHRlZClcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhbmltYXRlKG9wdHMpIHtcblxuICAgICAgICB2YXIgc3RhcnQgPSBuZXcgRGF0ZSgpOyAvLyBHZXQgdGhlIHN0YXJ0IHRpbWVcbiAgICAgICAgdmFyIGludGVycnVwdCA9IGZhbHNlOyAvLyBJZiB0aGlzIGlzIHRydWUsIGFuaW1hdGlvbiB3aWxsIHN0b3BcbiAgICAgICAgdmFyIHN0b3AgPSBmdW5jdGlvbigpIHsgaW50ZXJydXB0ID0gdHJ1ZTsgfTsgLy8gU3RvcHMgdGhpcyBhbmltYXRpb25cblxuICAgICAgICAvLyBUaGUgcmVuZGVyIGZ1bmN0aW9uXG4gICAgICAgIHZhciByZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciB0aW1lUGFzc2VkID0gbmV3IERhdGUoKSAtIHN0YXJ0OyAvLyBUaGUgYW1vdW50IG9mIHRpbWUgZWxhcHNlZCBzaW5jZSBzdGFydFxuICAgICAgICAgICAgdmFyIHByb2dyZXNzID0gdGltZVBhc3NlZCAvIG9wdHMuZHVyYXRpb247IC8vIFBlcmNlbnRhZ2Ugb2YgdGltZSBwYXNzZWQgaW4gZnVsbCBleHBlY3RlZCBkdXJhdGlvblxuXG4gICAgICAgICAgICBpZiAocHJvZ3Jlc3MgPiAxKSB7IHByb2dyZXNzID0gMTsgfSAvLyBDYXAgcGVyY2VudGFnZSBhdCAxICgxMDAlKVxuXG4gICAgICAgICAgICB2YXIgZGVsdGEgPSBvcHRzLmRlbHRhKHByb2dyZXNzKTsgLy8gQXBwbHkgZWFzaW5nIGZ1bmN0aW9uXG4gICAgICAgICAgICBvcHRzLnN0ZXAoZGVsdGEpOyAvLyBBcHBseSB0aGUgc3RlcCBmdWN0aW9uIGZyb20gdGhlIG9wdGlvbnMgb2JqZWN0IChyZW5kZXJzIGEgY2hhbmdlIG9uIHNjcmVlbilcblxuICAgICAgICAgICAgLy8gSW50ZXJydXB0LCBjb250aW51ZSwgb3IgZmluaXNoIGRlcGVuZGluZyBvbiBwcm9ncmVzc1xuICAgICAgICAgICAgaWYgKGludGVycnVwdCAmJiBvcHRzLmludGVycnVwdCkge1xuICAgICAgICAgICAgICAgIG9wdHMuaW50ZXJydXB0KCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHByb2dyZXNzIDwgMSkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUocmVuZGVyKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAob3B0cy5maW5pc2gpIHtcbiAgICAgICAgICAgICAgICBvcHRzLmZpbmlzaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFN0YXJ0IHRoZSBhbmltYXRpb25cbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShyZW5kZXIpO1xuXG4gICAgICAgIHJldHVybiB7IHN0b3A6IHN0b3AgfTtcblxuICAgIH0gLy8gYW5pbWF0ZVxuXG5cbiAgICAvKlxuICAgICAqIEZ1bmM6IGVhc2VJbk91dFxuICAgICAqIERlc2M6IEVhc2luZyBmdW5jdGlvblxuICAgICAqIEFyZ3M6IEBwb3dlciAtIFBvc2l0aXZlIEludGVnZXIgLSBNYXRoIHBvd2VyIHRoYXQgc3BlY2lmaWVzIGVhc2luZyBjdXJ2ZSAoZGVmYXVsdCAzKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVhc2VJbk91dChwb3dlcikge1xuICAgICAgICBwb3dlciA9IHBvd2VyID8gcG93ZXIgOiAzO1xuICAgICAgICB2YXIgZGVsdGEgPSBmdW5jdGlvbihwcm9ncmVzcykge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGgucG93KHByb2dyZXNzLCBwb3dlcik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24ocHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgIGlmIChwcm9ncmVzcyA8IC41KVxuICAgICAgICAgICAgICAgIHJldHVybiBkZWx0YSgyICogcHJvZ3Jlc3MpIC8gMlxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHJldHVybiAoMiAtIGRlbHRhKDIgKiAoMSAtIHByb2dyZXNzKSkpIC8gMlxuICAgICAgICB9XG4gICAgfSAvLyBlYXNlSW5PdXRcblxuXG4gICAgLypcbiAgICAgKiBGdW5jOiBjdWJpY0JlemllckRlZmluZWRcbiAgICAgKiBEZXNjOiBFYXNpbmcgZnVuY3Rpb24gYmFzZWQgb24gQ1NTIGVhc2luZzogY3ViaWMtYmV6aWVyKDAuMywgMCwgMC4zLCAxKS5cbiAgICAgKiAgICAgICB5Q29vcmRpbmF0ZXMgZ2VuZXJhdGVkIGJ5IHJ1bm5pbmcgYSBjdWJpYyBiZXppZXIgZnVuY3Rpb24gKHJldHVybmluZyBYIGFuZCBZIGNvb3JkaW5hdGVzIGJhc2VkIG9uIHRpbWUpXG4gICAgICogICAgICAgYW5kIG91dHB1dHRpbmcgdGhlIFkgdmFsdWVzIGFzc29jaWF0ZWQgd2l0aCB0aGUgWCB2YWx1ZXMgdGhhdCBmYWxsIGNsb3Nlc3QgdG8gZWFjaCBodW5kcmVkdGggKC4wMSwgLjAyLCAuLi4pLlxuICAgICAqICAgICAgIFRoaXMgYWxsb3dzIGEgcXVpY2sgbG9va3VwIGJhc2VkIG9uIGFuaW1hdGlvbiBwcm9ncmVzcy4gUHJvZ3Jlc3MgKCUpICogYXJyYXkgbGVuZ3RoIGlzIHRoZSBpbmRleCBvZiB0aGUgWSB2YWx1ZS5cbiAgICAgKiBBcmdzOiBub25lXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3ViaWNCZXppZXJEZWZpbmVkKCkge1xuICAgICAgICB2YXIgeUNvb3JkaW5hdGVzID0gWzAsIDAuMDAwMDYsIDAuMDAwMjQsIDAuMDAwNTQsIDAuMDAwOTcsIDAuMDAxNTMsIDAuMDAyMjEsIDAuMDAzMDMsIDAuMDAzOTgsIDAuMDA1MDYsIDAuMDA2MjksIDAuMDA3NjUsIDAuMDA5MTYsIDAuMDEwODEsIDAuMDEyNiwgMC4wMTQ1NSwgMC4wMTY2NCwgMC4wMTg4OSwgMC4wMjEzLCAwLjAyMzg2LCAwLjAyNjU4LCAwLjAyOTQ2LCAwLjAzMjUsIDAuMDM1NzEsIDAuMDM5MDgsIDAuMDQyNjIsIDAuMDQ2MzIsIDAuMDUwMTksIDAuMDU0MjMsIDAuMDU4NDQsIDAuMDYyODMsIDAuMDY3MzgsIDAuMDcyMSwgMC4wNzY5OSwgMC4wODIwNiwgMC4wODczLCAwLjA5MjcsIDAuMDk4MjcsIDAuMTA0LCAwLjEwOTksIDAuMTE1OTcsIDAuMTIyMTksIDAuMTI4NTcsIDAuMTM1MSwgMC4xNDE3OSwgMC4xNDg2MSwgMC4xNTU1OSwgMC4xNjI3MSwgMC4xNjk5NSwgMC4xNzczNCwgMC4xODQ4NCwgMC4xOTI0NywgMC4yMDAyMSwgMC4yMDgwNSwgMC4yMTYsIDAuMjI0MDUsIDAuMjMyMTksIDAuMjQwNDEsIDAuMjQ4NzEsIDAuMjU3MDgsIDAuMjY1NTIsIDAuMjc0MDEsIDAuMjgyNTYsIDAuMjkxMTQsIDAuMjk5NzgsIDAuMzA4NDQsIDAuMzE3MTIsIDAuMzI1ODMsIDAuMzM0NTUsIDAuMzQzMjgsIDAuMzUyLCAwLjM2MDczLCAwLjM2OTQ1LCAwLjM3ODE1LCAwLjM4NjgyLCAwLjM5NTQ4LCAwLjQwNDExLCAwLjQxMjY5LCAwLjQyMTI2LCAwLjQyOTc3LCAwLjQzODI0LCAwLjQ0NjY2LCAwLjQ1NTAyLCAwLjQ2MzM0LCAwLjQ3MTYsIDAuNDc5OCwgMC40ODc5MywgMC40OTYsIDAuNTAzOTksIDAuNTExOTIsIDAuNTE5NzgsIDAuNTI3NTcsIDAuNTM1MjgsIDAuNTQyOTMsIDAuNTUwNDksIDAuNTU3OTYsIDAuNTY1MzgsIDAuNTcyNywgMC41Nzk5NiwgMC41ODcxMywgMC41OTQyMSwgMC42MDEyMiwgMC42MDgxNSwgMC42MTUsIDAuNjIxNzUsIDAuNjI4NDQsIDAuNjM1MDQsIDAuNjQxNTcsIDAuNjQ4LCAwLjY1NDM3LCAwLjY2MDY0LCAwLjY2Njg0LCAwLjY3Mjk2LCAwLjY3OSwgMC42ODQ5NiwgMC42OTA4NCwgMC42OTY2NSwgMC43MDIzOCwgMC43MDgwMywgMC43MTM2LCAwLjcxOTExLCAwLjcyNDUyLCAwLjcyOTg4LCAwLjczNTE1LCAwLjc0MDM2LCAwLjc0NTQ5LCAwLjc1MDU0LCAwLjc1NTU0LCAwLjc2MDQ1LCAwLjc2NTMsIDAuNzcwMDcsIDAuNzc0NzksIDAuNzc5NDIsIDAuNzg0LCAwLjc4ODUxLCAwLjc5Mjk1LCAwLjc5NzMzLCAwLjgwMTYzLCAwLjgwNTg5LCAwLjgxMDA3LCAwLjgxNDE5LCAwLjgxODI1LCAwLjgyMjI1LCAwLjgyNjE5LCAwLjgzMDA3LCAwLjgzMzg4LCAwLjgzNzY1LCAwLjg0MTM1LCAwLjg0NSwgMC44NDg1OCwgMC44NTIxMSwgMC44NTU1OSwgMC44NTkwMiwgMC44NjIzOSwgMC44NjU3LCAwLjg2ODk1LCAwLjg3MjE3LCAwLjg3NTMyLCAwLjg3ODQyLCAwLjg4MTQ5LCAwLjg4NDQ4LCAwLjg4NzQzLCAwLjg5MDM0LCAwLjg5MzE5LCAwLjg5NiwgMC44OTg3NiwgMC45MDE0NywgMC45MDQxNCwgMC45MDY3NSwgMC45MDkzMywgMC45MTE4NSwgMC45MTQzNCwgMC45MTY3OCwgMC45MTkxNywgMC45MjE1MiwgMC45MjM4MywgMC45MjYwOSwgMC45MjgzMSwgMC45MzA0OSwgMC45MzI2NCwgMC45MzQ3MywgMC45MzY4LCAwLjkzODgxLCAwLjk0MDc5LCAwLjk0MjczLCAwLjk0NDYzLCAwLjk0NjUsIDAuOTQ4MzIsIDAuOTUwMTEsIDAuOTUxODYsIDAuOTUzNTcsIDAuOTU1MjUsIDAuOTU2ODksIDAuOTU4NDksIDAuOTYwMDYsIDAuOTYxNiwgMC45NjMwOSwgMC45NjQ1NSwgMC45NjU5OSwgMC45NjczOCwgMC45Njg3NCwgMC45NzAwNywgMC45NzEzNiwgMC45NzI2MywgMC45NzM4NiwgMC45NzUwNiwgMC45NzYyMywgMC45NzczNiwgMC45Nzg0NywgMC45Nzk1NCwgMC45ODA1OCwgMC45ODE1OSwgMC45ODI1OCwgMC45ODM1MywgMC45ODQ0NSwgMC45ODUzNSwgMC45ODYyMSwgMC45ODcwNSwgMC45ODc4NiwgMC45ODg2NCwgMC45ODkzOSwgMC45OTAxMSwgMC45OTA4MSwgMC45OTE0NywgMC45OTIxMiwgMC45OTI3MywgMC45OTMzMiwgMC45OTM4OCwgMC45OTQ0MiwgMC45OTQ5MywgMC45OTU0MSwgMC45OTU4NywgMC45OTYzLCAwLjk5NjcxLCAwLjk5NzA5LCAwLjk5NzQ1LCAwLjk5Nzc5LCAwLjk5ODEsIDAuOTk4MzgsIDAuOTk4NjUsIDAuOTk4ODgsIDAuOTk5MSwgMC45OTkyOSwgMC45OTk0NiwgMC45OTk2LCAwLjk5OTcyLCAwLjk5OTgyLCAwLjk5OTksIDAuOTk5OTYsIDAuOTk5OTksIDFdO1xuICAgICAgICB2YXIgbGVuID0geUNvb3JkaW5hdGVzLmxlbmd0aCAtIDE7XG5cbiAgICAgICAgLy8gUmV0dXJuIHRoZSBlYXNlaW5nIGZ1bmN0aW9uLCB3aGljaCByZXR1cm5zIGFuIGVhc2VkIHZhbHVlICgw4oCTMSkgYmFzZWQgb24gdGhlIHByb2dyZXNzICgw4oCTMSwgaS5lIDAlLTEwMCUpXG4gICAgICAgIHJldHVybiBmdW5jdGlvbihwcm9ncmVzcykge1xuICAgICAgICAgICAgdmFyIHAgPSBNYXRoLnJvdW5kKHByb2dyZXNzICogbGVuKTtcbiAgICAgICAgICAgIHJldHVybiB5Q29vcmRpbmF0ZXNbcF07XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qXG4gICAgICogRnVuYzogZ2V0TmF0dXJhbEhlaWdodFxuICAgICAqIERlc2M6IEdldCB0aGUgaGVpZ2h0IG9mIGFuIGVsZW1lbnQgb24gdGhlIHBhZ2UgKGJlZm9yZSB2aXNpYmx5IHJlbmRlcmluZyBpdCBvbiB0aGUgcGFnZSlcbiAgICAgKiBBcmdzOiBAZWwgLSBIVE1MIEVsZW1lbnQgLSBUaGUgZWxlbWVudCB0byBtZWFzdXJlXG4gICAgICogICAgICAgQGNsYXNzTmFtZSAtIFN0cmluZyAtIENsYXNzIHRoYXQgdGVtcG9yYXJ5IHdyYXBwZXIgZWxlbWVudCBzaG91bGQgaGF2ZSAodG8gYWxsb3cgZm9yIGNvcnJlY3Qgc3R5bGluZyBhbmQgY29ycmVjdCBoZWlnaHQgdGVzdGluZylcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXROYXR1cmFsSGVpZ2h0KGVsLCBjbGFzc05hbWUpIHtcbiAgICAgICAgdmFyIHdyYXBwZXIsIHRlc3REaXYsIGhlaWdodDtcbiAgICAgICAgdmFyIGNsYXNzTmFtZSA9IGNsYXNzTmFtZSB8fCBcIlwiO1xuXG4gICAgICAgIHdyYXBwZXIgPSB3cmFwSW5uZXIoZWwsIFwiZGl2XCIpO1xuICAgICAgICB3cmFwcGVyLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcbiAgICAgICAgaGVpZ2h0ID0gd3JhcHBlci5vZmZzZXRIZWlnaHQ7XG5cbiAgICAgICAgdW53cmFwKHdyYXBwZXIpO1xuXG4gICAgICAgIHJldHVybiBoZWlnaHQ7XG4gICAgfVxuXG5cblxuXG4gICAgLypcbiAgICAgKiBGdW5jOiB3cmFwSW5uZXJcbiAgICAgKiBEZXNjOiBXcmFwIHRoZSBjb250ZW50cyBvZiBhbiBlbGVtZW50IGluIGEgbmV3IEhUTUwgZWxlbWVudFxuICAgICAqIEFyZ3M6IEBlbCAtIEhUTUxFbGVtZW50IC0gVGhlIGVsZW1lbnQgd2hvc2UgY29udGVudHMgc2hvdWxkIGJlIHdyYXBwZWRcbiAgICAgKiAgICAgICBAd3JhcHBlciAtIFN0cmluZyAtIFRoZSB0eXBlIG9mIEhUTUwgZWxlbWVudCB0aGF0IHNob3VsZCB3cmFwIHRoZSBjb250ZW50c1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBJbm5lcihlbCwgd3JhcHBlcikge1xuICAgICAgICB2YXIgd3JhcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQod3JhcHBlcik7XG5cbiAgICAgICAgLy8gQXBwZW5kIGEgd3JhcHBlciBub2RlXG4gICAgICAgIGVsLmFwcGVuZENoaWxkKHdyYXApO1xuXG4gICAgICAgIC8vIE1vdmUgYWxsIGNoaWxkcmVuIGludG8gdGhlIHdyYXBwZXIgZWxlbWVudFxuICAgICAgICB3aGlsZSAoZWwuZmlyc3RDaGlsZCAmJiBlbC5maXJzdENoaWxkICE9PSB3cmFwKSB3cmFwLmFwcGVuZENoaWxkKGVsLmZpcnN0Q2hpbGQpO1xuXG4gICAgICAgIHJldHVybiB3cmFwO1xuICAgIH1cblxuICAgIC8qXG4gICAgICogRnVuYzogdW53cmFwXG4gICAgICogRGVzYzogVW53cmFwIHRoZSBwYXJlbnQgZWxlbWVudCBvZiB0aGUgc3BlY2lmaWVkIERPTSBlbGVtZW50XG4gICAgICogU3JjOiAgaHR0cHM6Ly9wbGFpbmpzLmNvbS9qYXZhc2NyaXB0L21hbmlwdWxhdGlvbi91bndyYXAtYS1kb20tZWxlbWVudC0zNS9cbiAgICAgKiBBcmdzOiBAZWwgLSBIVE1MRWxlbWVudCAtIFRoZSBlbGVtZW50IHRvIGRlc3Ryb3lcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bndyYXAoZWwpIHtcbiAgICAgICAgLy8gZ2V0IHRoZSBlbGVtZW50J3MgcGFyZW50IG5vZGVcbiAgICAgICAgdmFyIHBhcmVudCA9IGVsLnBhcmVudE5vZGU7XG5cbiAgICAgICAgLy8gbW92ZSBhbGwgY2hpbGRyZW4gb3V0IG9mIHRoZSB3cmFwcGVyIGVsZW1lbnRcbiAgICAgICAgd2hpbGUgKGVsLmZpcnN0Q2hpbGQpIHBhcmVudC5pbnNlcnRCZWZvcmUoZWwuZmlyc3RDaGlsZCwgZWwpO1xuXG4gICAgICAgIC8vIHJlbW92ZSB0aGUgZW1wdHkgZWxlbWVudFxuICAgICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQoZWwpO1xuICAgIH1cblxuXG5cbiAgICByZXR1cm4ge1xuICAgICAgICBhbmltYXRlSGVpZ2h0OiBhbmltYXRlSGVpZ2h0LFxuICAgICAgICBnZXROYXR1cmFsSGVpZ2h0OiBnZXROYXR1cmFsSGVpZ2h0XG4gICAgfVxuXG5cbn0pKCk7IiwiLypcbiAqIE1vZHVsZTogQllVIE1haW5cbiAqIERlc2M6ICAgRnVuY3Rpb25zIHRoYXQgYXBwbHkgdG8gYWxsIEJZVSBwYWdlcywgY29tcG9uZW50cywgb3Igc2NyaXB0c1xuICovXG5cbnZhciBieXVfbWFpbiA9IChmdW5jdGlvbigpe1xuXG5cdHZhciBkb2MgPSBkb2N1bWVudDtcblxuXHQvKlxuXHQgKiBIVE1MIFByb3RvdHlwZSBmdW5jdGlvbiBhc3NpZ25tZW50c1xuXHQgKiBEZXNjOiBNYWtlIGl0IGVhc3kgdG8gYWRkLCB0ZXN0LCBhbmQgcmVtb3ZlIEhUTUwgY2xhc3NlcyB2aWEgY29tcGF0aWJsZSwgcGxhaW4gSlNcblx0ICogU3JjOiAgaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9zbmlwcGV0cy9qYXZhc2NyaXB0L2FkZGNsYXNzLWZ1bmN0aW9uLyNjb21tZW50LTE2MTg0MDVcblx0ICovXG5cdFxuXHQvLyBIYXNDbGFzc1xuXHRIVE1MRWxlbWVudC5wcm90b3R5cGUuaGFzQ2xhc3MgPSBmdW5jdGlvbihuYW1lKSB7XG5cdCAgICByZXR1cm4gdGhpcy5jbGFzc05hbWUubWF0Y2gobmV3IFJlZ0V4cCgnKFxcXFxzfF4pJytuYW1lKycoXFxcXHN8JCknKSk7XG5cdH07XG5cblx0Ly8gQWRkQ2xhc3Ncblx0SFRNTEVsZW1lbnQucHJvdG90eXBlLmFkZENsYXNzID0gZnVuY3Rpb24obmV3X2NsYXNzKSB7ICAgXG5cdCAgICB2YXIgbmMgPSBuZXdfY2xhc3Muc3BsaXQoXCIsXCIpO1xuXG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5jLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgaWYgKChcIiBcIiArIHRoaXMuY2xhc3NOYW1lICsgXCIgXCIpLmluZGV4T2YoXCIgXCIgKyBuY1tpXSArIFwiIFwiKSA9PSAtMSkge1xuXHQgICAgICAgICAgICB0aGlzLmNsYXNzTmFtZSArPSBcIiBcIiArIG5jW2ldO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdC8vIFJlbW92ZUNsYXNzXG5cdEhUTUxFbGVtZW50LnByb3RvdHlwZS5yZW1vdmVDbGFzcyA9IGZ1bmN0aW9uKG5hbWUpIHtcblx0ICBpZiAodGhpcy5oYXNDbGFzcyhuYW1lKSkge1xuXHQgICAgdmFyIHNlYXJjaCA9IG5ldyBSZWdFeHAoJyhcXFxcc3xeKScrbmFtZSsnKFxcXFxzfCQpJyk7IC8vIFJlZ0V4IHRvIGlkZW50aWZ5IG1hdGNoXG5cdCAgICB2YXIgcmVwbGFjZSA9IG5ldyBSZWdFeHAoJyhcXFxcc3xeKScrbmFtZSk7IC8vIFJlZ0V4IHRvIHJlcGxhY2UgaWYgbWF0Y2hlZFxuXHQgICAgaWYgKCB0aGlzLmNsYXNzTmFtZS5zZWFyY2goc2VhcmNoKSApIHtcblx0ICAgIFx0dGhpcy5jbGFzc05hbWUgPSB0aGlzLmNsYXNzTmFtZS5yZXBsYWNlKHJlcGxhY2UsJycpO1xuXHQgICAgfVxuXHQgIH1cblx0ICByZXR1cm4gdGhpcztcblx0fTtcblxuXG5cblxuXG5cdC8qXG5cdCAqIEZ1bmM6IGV4ZWN1dGVPbkxvYWRcblx0ICogRGVzYzogRXhlY3V0ZSBzcGVjaWZpZWQgZnVuY3Rpb24gd2hlbiB0aGUgRE9NIGlzIHJlYWR5LiBIYW5kbGUgXG5cdCAqIEFyZ3M6IEBmdW5jdGlvbk5hbWUgLSBGdW5jdGlvbiBJZGVudGlmaWVyIC0gTmFtZSBvZiB0aGUgZnVuY3Rpb24gdG8gZXhlY3V0ZVxuXHQgKi9cblx0ZnVuY3Rpb24gZXhlY3V0ZU9uTG9hZCggZnVuY3Rpb25OYW1lICkge1xuXG5cdFx0Ly8gaW4gY2FzZSB0aGUgZG9jdW1lbnQgaXMgYWxyZWFkeSByZW5kZXJlZFxuXHRcdGlmIChkb2MucmVhZHlTdGF0ZSE9J2xvYWRpbmcnKSBmdW5jdGlvbk5hbWUoKTtcblxuXHRcdC8vIG1vZGVybiBicm93c2Vyc1xuXHRcdGVsc2UgaWYgKGRvYy5hZGRFdmVudExpc3RlbmVyKSBkb2MuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uTmFtZSk7XG5cblx0XHQvLyBJRSA8PSA4XG5cdFx0ZWxzZSBkb2MuYXR0YWNoRXZlbnQoJ29ucmVhZHlzdGF0ZWNoYW5nZScsIGZ1bmN0aW9uKCl7XG5cdFx0ICAgIGlmIChkb2MucmVhZHlTdGF0ZT09J2NvbXBsZXRlJykgZnVuY3Rpb25OYW1lKCk7XG5cdFx0fSk7XG5cblx0fSAvLyBleGVjdXRlT25Mb2FkXG5cblxuXG5cblx0Lypcblx0ICogRnVuYzogZWxFeGlzdHNcblx0ICogRGVzYzogQ2hlY2sgd2hldGhlciBhbiBlbGVtZW50IGFwcGVhcnMgaW4gdGhlIERPTVxuXHQgKiBBcmdzOiBAY2xhc3NOYW1lIC0gU3RyaW5nIC0gTmFtZSBvZiB0aGUgY2xhc3Mgb24gdGhlIGVsZW1lbnQgdG8gc2VhcmNoIGZvclxuXHQgKiBcdFx0IEBjb250YWluZXIgLSBIVE1MIEVsZW1lbnQgLSBDb250ZXh0IGZvciBmaW5kaW5nIHRoZSBlbGVtZW50IChjb3VsZCBiZSBkb2N1bWVudClcblx0ICovXG5cdGZ1bmN0aW9uIGVsRXhpc3RzKCBjbGFzc05hbWUsIGNvbnRhaW5lciApIHtcblxuXHRcdHJldHVybiBjb250YWluZXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSggY2xhc3NOYW1lICkubGVuZ3RoID4gMDtcblxuXHR9IC8vIGVsRXhpc3RzXG5cblxuXG5cblx0Lypcblx0ICogRnVuYzogaGFzQ2hpbGRyZW5cblx0ICogRGVzYzogQ2hlY2sgd2hldGhlciBhbiBlbGVtZW50IGhhcyBjaGlsZHJlblxuXHQgKiBBcmdzOiBAY2xhc3NOYW1lIC0gU3RyaW5nIC0gTmFtZSBvZiB0aGUgZWxlbWVudCdzIGNsYXNzXG5cdCAqIFx0XHQgQGNvbnRhaW5lciAtIEhUTUwgRWxlbWVudCAtIENvbnRleHQgZm9yIGZpbmRpbmcgdGhlIGVsZW1lbnQgKGNvdWxkIGJlIGRvY3VtZW50KVxuXHQgKi9cblx0ZnVuY3Rpb24gaGFzQ2hpbGRyZW4oIGNsYXNzTmFtZSwgY29udGFpbmVyICkge1xuXG5cdFx0dmFyIGhhc0NoaWxkcmVuID0gZmFsc2U7XG5cdFx0dmFyIGVscztcblxuXHRcdGlmICggZWxFeGlzdHMoIGNsYXNzTmFtZSwgY29udGFpbmVyICkgKSB7XG5cdFx0XHRlbHMgPSBjb250YWluZXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSggY2xhc3NOYW1lICk7XG5cblx0XHRcdEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoZWxzLCBmdW5jdGlvbihlbCkge1xuXHRcdFx0XHRpZiAoZWwuY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdGhhc0NoaWxkcmVuID0gdHJ1ZTtcblx0XHRcdFx0fSBcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdHJldHVybiBoYXNDaGlsZHJlbjtcblxuXHR9IC8vIGhhc0NoaWxkcmVuXG5cblxuXG5cblx0Ly8gRXhwb3NlIHB1YmxpYyBtZXRob2RzXG5cdHJldHVybiB7XG5cdFx0ZXhlY3V0ZU9uTG9hZDogZXhlY3V0ZU9uTG9hZCxcblx0XHRlbEV4aXN0czogZWxFeGlzdHMsXG5cdFx0aGFzQ2hpbGRyZW46IGhhc0NoaWxkcmVuLFxuXHR9XG5cbn0pKCk7IiwiLypcbiAqIE1vZHVsZTogQllVIFRhYmxlXG4gKiBEZXNjOiAgIEhhbmRsZSB0YWJsZXMgdGhhdCBhcmUgd2lkZXIgdGhhbiB0aGllciBjb250YWluZXJcbiAqL1xuXG52YXIgYnl1X3RhYmxlID0gKGZ1bmN0aW9uKCl7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBkb2MgPSBkb2N1bWVudDtcblxuXG5cdC8vIEV4ZWN1dGUgdGhlIGZ1bmN0aW9uXG5cdGJ5dV9tYWluLmV4ZWN1dGVPbkxvYWQoIHVwZGF0ZVRhYmxlcyApO1xuXHRcblxuXHQvKlxuXHQgKiBGdW5jOiBVcGRhdGVUYWJsZXNcblx0ICogRGVzYzogRGV0ZWN0IGFuZCBoYW5kbGUgdGFibGVzIHRoYXQgYXJlIHdpZGVyIHRoYW4gdGhlaXIgY29udGFpbmVyLlxuXHQgKiBcdFx0IFdvcmtzIG9uIHRhYmxlcyBjb250YWluZWQgd2l0aGluIGFuIGVsZW1lbnQgb2YgY2xhc3MgXCJ0YWJsZS1jb250YWluZXJcIi5cblx0ICogQXJnczogbm9uZVxuXHQgKi9cblx0ZnVuY3Rpb24gdXBkYXRlVGFibGVzKCkge1xuXHRcdHZhciBjb250YWluZXJzID0gZG9jLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJ0YWJsZS1jb250YWluZXJcIik7XG5cblx0XHRmb3IgKHZhciBpPTA7IGkgPCBjb250YWluZXJzLmxlbmd0aDsgaSsrKSB7XG5cdFx0ICAgIHZhciBjb250YWluZXIgPSBjb250YWluZXJzW2ldO1xuXHRcdCAgICB1cGRhdGVUYWJsZSggY29udGFpbmVyICk7XG5cdFx0fVxuXHR9XG5cblxuXHQvKlxuXHQgKiBGdW5jOiBVcGRhdGVUYWJsZVxuXHQgKiBEZXNjOiBDaGVjayBpZiBhIHRhYmxlIGlzIHdpZGVyIHRoYW4gaXRzIGNvbnRhaW5lciwgYW5kIG1hcmsgc2Nyb2xsaW5nIHBvc2l0aW9uIHdpdGhpbiBpdFxuXHQgKiBBcmdzOiBAY29udGFpbmVyIC0gSFRNTCBFbGVtZW50IC0gQSBjb250YWluZXIgZWxlbWVudCBmb3IgYSB0YWJsZSAocHJvYmFibHkgb2YgY2xhc3MgXCJ0YWJsZS1jb250YWluZXJcIilcblx0ICovXG5cdGZ1bmN0aW9uIHVwZGF0ZVRhYmxlKCBjb250YWluZXIgKSB7XG5cdFx0dmFyIGNfd2lkdGggPSBjb250YWluZXIub2Zmc2V0V2lkdGg7XG5cdCAgICB2YXIgdGFibGUgPSBjb250YWluZXIuIGdldEVsZW1lbnRzQnlUYWdOYW1lKFwidGFibGVcIilbMF07XG5cdCAgICB2YXIgdF93aWR0aCA9IHRhYmxlLm9mZnNldFdpZHRoO1xuXHQgICAgdmFyIHRhYmxlX3dpZGVfY2xhc3MgPSBcInRhYmxlLXdpZGVcIjtcblx0ICAgIHZhciBzdGFydF92aXNpYmxlX2NsYXNzID0gXCJzdGFydC12aXNpYmxlXCI7XG5cdFx0dmFyIGVuZF92aXNpYmxlX2NsYXNzID0gXCJlbmQtdmlzaWJsZVwiO1xuXG5cdCAgICBpZiAoIGNfd2lkdGggPCB0X3dpZHRoICkge1xuXG5cdCAgICBcdC8vIEFkZCB0YWJsZSB3aWRlIGNsYXNzIGlmIGl0J3Mgbm90IGFscmVhZHkgdGhlcmVcblx0ICAgIFx0aWYgKCAhY29udGFpbmVyLmhhc0NsYXNzKCB0YWJsZV93aWRlX2NsYXNzICkgKSB7IFxuXHRcdFx0XHRjb250YWluZXIuYWRkQ2xhc3MoIHRhYmxlX3dpZGVfY2xhc3MgKTtcblx0XHQgICAgfVxuXG5cdCAgICBcdC8vIENoZWNrIGlmIHRoZSBzdGFydCBvZiB0aGUgdGFibGUgaXMgdmlzaWJsZSBhbmQgaGFuZGxlXG5cdCAgICBcdGlmICggdGFibGUuc2Nyb2xsTGVmdCA9PSAwICkge1xuXHQgICAgXHRcdGlmICggIWNvbnRhaW5lci5oYXNDbGFzcyggc3RhcnRfdmlzaWJsZV9jbGFzcyApICkge1xuXHRcdFx0XHRcdGNvbnRhaW5lci5hZGRDbGFzcyggc3RhcnRfdmlzaWJsZV9jbGFzcyApO1xuXHQgICAgXHRcdH1cblx0ICAgIFx0fSBlbHNlIHtcblx0ICAgIFx0XHRjb250YWluZXIucmVtb3ZlQ2xhc3MoIHN0YXJ0X3Zpc2libGVfY2xhc3MgKTtcblx0ICAgIFx0fVxuXG5cdCAgICBcdC8vIENoZWNrIGlmIHRoZSBlbmQgb2YgdGhlIHRhYmxlIGlzIHZpc2libGUgYW5kIGhhbmRsZVxuXHQgICAgXHRpZiAoIHRfd2lkdGggLSB0YWJsZS5zY3JvbGxMZWZ0ID09IGNfd2lkdGggKSB7XG5cdCAgICBcdFx0aWYgKCAhY29udGFpbmVyLmhhc0NsYXNzKCBlbmRfdmlzaWJsZV9jbGFzcyApICkge1xuXHRcdFx0XHRcdGNvbnRhaW5lci5hZGRDbGFzcyggZW5kX3Zpc2libGVfY2xhc3MgKTtcblx0ICAgIFx0XHR9XG5cdCAgICBcdH0gZWxzZSB7XG5cdCAgICBcdFx0Y29udGFpbmVyLnJlbW92ZUNsYXNzKCBlbmRfdmlzaWJsZV9jbGFzcyApO1xuXHQgICAgXHR9XG5cdCAgICB9IFxuXG5cdCAgICAvLyBUaGUgdGFibGUgaXMgbm90IHRvbyB3aWRlIGZvciBpdHMgY29udGFpbmVyXG5cdCAgICBlbHNlIHtcblx0ICAgIFx0Y29udGFpbmVyLnJlbW92ZUNsYXNzKCB0YWJsZV93aWRlX2NsYXNzICk7XG5cdCAgICB9XG5cdH1cblxufSkoKTsiLCJ2YXIgYnl1X2hlYWRlciA9IChmdW5jdGlvbigpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIGRvYyA9IGRvY3VtZW50OyAvLyBQdXQgdGhpcyBpbiBhIHZhcmlhYmxlIHRvIGVuYWJsZSBzbWFsbGVyIGNvbXByZXNzaW9uXG5cdHZhciBtZW51T3BlbkR1cmF0aW9uID0gMzAwO1xuXG5cdC8vIEZvciBjb21wcmVzc2lvbjogaWYgYSBzdHJpbmcgaXMgdXNlZCBtb3JlIHRoYW4gb25jZSwgcHV0IGl0IGluIGEgdmFyaWFibGVcblx0dmFyIGpzSW5pdENsYXNzID0gJ2pzLWVuYWJsZWQnO1xuXHR2YXIgZXhwYW5kZWRBdHRyID0gJ2FyaWEtZXhwYW5kZWQnO1xuXHR2YXIgbWVudU9wZW5DbGFzcyA9ICdtZW51LW9wZW4nO1xuXHR2YXIgc2l0ZU5hdkNsYXNzID0gJ2J5dS1zaXRlLW5hdmlnYXRpb24nO1xuXHR2YXIgc2l0ZUFjdGlvbkNsYXNzID0gJ2J5dS1hY3Rpb24taWQtc2VhcmNoJztcblxuXG5cblxuXHQvLyBFeGVjdXRlIHRoZSBpbml0aWFsaXplIGZ1bmN0aW9uXG5cdGJ5dV9tYWluLmV4ZWN1dGVPbkxvYWQoIGluaXQgKTtcblxuXG5cblxuXG5cdC8qXG5cdCAqIEZ1bmM6IGluaXRcblx0ICogRGVzYzogSW5pdGlhbGl6ZSB0aGUgaGVhZGVyIGJ1dHRvbiBmb3IgYWxsIEJZVSBoZWFkZXJzIG9uIHBhZ2Vcblx0ICogXHRcdCAoaGFuZGxlcyBtdWx0aXBsZSBoZWRlcnMgKVxuXHQgKiBBcmdzOiBub25lXG5cdCAqL1xuXHRmdW5jdGlvbiBpbml0KCkge1xuXG5cdFx0dmFyIGhlYWRlckVscyA9IGRvYy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdieXUtaGVhZGVyJyk7XG5cblx0XHRBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGhlYWRlckVscywgZnVuY3Rpb24oZWwpIHtcblx0XHRcdGVuYWJsZU1vYmlsZU1lbnUoIGVsICk7XG5cdFx0fSk7XG5cblx0fSAvLyBpbml0XG5cblxuXG5cblx0Lypcblx0ICogRnVuYzogZW5hYmxlTW9iaWxlTWVudVxuXHQgKiBEZXNjOiBJbml0aWFsaXplIHRoZSBoZWFkZXIgYnV0dG9uXG5cdCAqIEFyZ3M6IEBoZWFkZXJFbCAtIEhUTUwgRWxlbWVudCAtIFRoZSBoZWFkZXIgdGhhdCBjb250YWlucyB0aGUgbW9iaWxlIG1lbnUgdG8gZW5hYmxlXG5cdCAqL1xuXHRmdW5jdGlvbiBlbmFibGVNb2JpbGVNZW51KCBoZWFkZXJFbCApIHtcblxuXHRcdGhlYWRlckVsLmhhc05hdiA9IGJ5dV9tYWluLmVsRXhpc3RzKHNpdGVOYXZDbGFzcywgaGVhZGVyRWwpO1xuXHRcdGhlYWRlckVsLmhhc0FjdGlvbnMgPSBieXVfbWFpbi5oYXNDaGlsZHJlbihzaXRlQWN0aW9uQ2xhc3MsIGhlYWRlckVsKTtcblxuXHRcdHZhciBzaG93TWVudUJ1dHRvbiA9IGhlYWRlckVsLmhhc05hdiB8fCBoZWFkZXJFbC5oYXNBY3Rpb25zO1xuXG5cdFx0aWYgKCBzaG93TWVudUJ1dHRvbiApIHtcblx0XHRcdGhlYWRlckVsLmFkZENsYXNzKGpzSW5pdENsYXNzKTtcblx0XHRcdGluaXRNZW51QnV0dG9uKCBoZWFkZXJFbCApO1xuXG5cdFx0XHRoZWFkZXJFbC5uYXZFbCA9IGhlYWRlckVsLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoIHNpdGVOYXZDbGFzcyApWzBdO1xuXHRcdFx0aGVhZGVyRWwuYWN0aW9uc0VsID0gaGVhZGVyRWwuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSggc2l0ZUFjdGlvbkNsYXNzIClbMF07XG5cdFx0fVxuXG5cdH0gLy8gZW5hYmxlTW9iaWxlTWVudVxuXG5cblxuXG5cdC8qXG5cdCAqIEZ1bmM6IGluaXRNZW51QnV0dG9uXG5cdCAqIERlc2M6IFxuXHQgKiBBcmdzOiBAaGVhZGVyRWwgLSBIVE1MIEVsZW1lbnQgLSBUaGUgaGVhZGVyIGVsZW1lbnQgdGhhdCBjb250YWlucyB0aGUgbWVudSBidXR0b24gdG8gZW5hYmxlXG5cdCAqL1xuXHRmdW5jdGlvbiBpbml0TWVudUJ1dHRvbiggaGVhZGVyRWwgKSB7XG5cdFx0dmFyIG1lbnVCdXR0b24gPSBoZWFkZXJFbC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdieXUtbWVudS1idXR0b24nKVswXTtcblxuXHRcdG1lbnVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKXtcblx0XHRcdGNsaWNrTWVudUJ1dHRvbiggZS50YXJnZXQsIGhlYWRlckVsICk7XG5cdFx0fSk7XG5cdH0gLy8gaW5pdE1lbnVCdXR0b25cblxuXG5cblxuXHQvKlxuXHQgKiBGdW5jOiBjbGlja01lbnVCdXR0b25cblx0ICogRGVzYzogSGFuZGxlIGNsaWNrIGV2ZW50cyBvbiBhIG1vYmlsZSBtZW51IGJ1dHRvbiB3aXRoaW4gYSBoZWFkZXJcblx0ICogQXJnczogQGJ0biAtIEhUTUwgRWxlbWVudCAtIFRoZSBidXR0b24gZWxlbWVudCB0aGF0IGhhcyBiZWVuIGNsaWNrZWRcblx0ICpcdFx0IEBoZWFkZXJFbCAtIEhUTUwgRWxlbWVudCAtIFRoZSBoZWFkZXIgZWxlbWVudCB3aG9zZSBtZW51IGJ1dHRvbiBoYXMgYmVlbiBjbGlja2VkXG5cdCAqL1xuXHRmdW5jdGlvbiBjbGlja01lbnVCdXR0b24oIGJ0biwgaGVhZGVyRWwgKSB7XG5cdFx0dmFyIG9wZW4gPSBidG4uZ2V0QXR0cmlidXRlKGV4cGFuZGVkQXR0cikgIT0gJ2ZhbHNlJztcblx0XHR2YXIgb3BlbmluZyA9IGZhbHNlO1xuXHRcdFxuXHRcdC8vIE9wZW5cblx0XHRpZiAoICFvcGVuICYmICFvcGVuaW5nICkge1xuXHRcdFx0b3Blbk1lbnUoIGJ0biwgaGVhZGVyRWwgKTtcblx0XHR9XG5cblx0XHQvLyBDbG9zZVxuXHRcdGVsc2Uge1xuXHRcdFx0Y2xvc2VNZW51KCBidG4sIGhlYWRlckVsICk7XG5cdFx0fVxuXHR9IC8vIGNsaWNrTWVudUJ1dHRvblxuXG5cblxuXG5cdC8qXG5cdCAqIEZ1bmM6IG9wZW5NZW51XG5cdCAqIERlc2M6IE9wZW4gYSBtb2JpbGUgbWVudSB3aXRoaW4gYSBoZWFkZXJcblx0ICogQXJnczogQGJ0biAtIEhUTUwgRWxlbWVudCAtIFRoZSBidXR0b24gZWxlbWVudCB0aGF0IGNvbnRyb2xzIHRoZSBtZW51IHdoaWNoIHNob3VsZCBiZSBvcGVuZWRcblx0ICpcdFx0IEBoZWFkZXJFbCAtIEhUTUwgRWxlbWVudCAtIFRoZSBoZWFkZXIgZWxlbWVudCB3aG9zZSBtZW51IHNob3VsZCBiZSBvcGVuZWRcblx0ICovXG5cdGZ1bmN0aW9uIG9wZW5NZW51KCBidG4sIGhlYWRlckVsICkge1xuXG5cdFx0Ly8gU2V0IHRoZSBvcGVuL2Nsb3NlZCBhdHRyaWJ1dGUgb24gdGhlIGJ1dHRvblxuXHRcdGJ0bi5zZXRBdHRyaWJ1dGUoZXhwYW5kZWRBdHRyLCB0cnVlKTtcblxuXHRcdC8vIFNldCB0aGUgb3Blbi9jbG9zZWQgYXR0cmlidXRlIG9uIHRoZSBoZWFkZXJcblx0XHRmdW5jdGlvbiBhZGRPcGVuQ2xhc3MoKSB7XG5cdFx0XHRpZiAoICFoZWFkZXJFbC5oYXNDbGFzcyggbWVudU9wZW5DbGFzcyApICkge1xuXHRcdFx0XHRoZWFkZXJFbC5hZGRDbGFzcyggbWVudU9wZW5DbGFzcyApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIEFuaW1hdGUgdGhlIGVsZW1lbnRzXG5cdFx0aWYgKCBoZWFkZXJFbC5oYXNOYXYgKSB7XG5cdFx0XHR2YXIgbmF2ID0gaGVhZGVyRWwubmF2RWw7XG5cdFx0XHR2YXIgbmF2SGVpZ2h0ID0gbmF2Lm9mZnNldEhlaWdodDtcblx0XHRcdHZhciBuYXZFbmRIZWlnaHQgPSBhbmltYXRlLmdldE5hdHVyYWxIZWlnaHQoIG5hdiApO1xuXG5cdFx0XHRhbmltYXRlLmFuaW1hdGVIZWlnaHQoIG5hdiwgeyBzdGFydDogbmF2SGVpZ2h0LCBlbmQ6IG5hdkVuZEhlaWdodCwgZHVyYXRpb246IG1lbnVPcGVuRHVyYXRpb24sIGZpbmlzaDogYWRkT3BlbkNsYXNzIH0gKTtcblx0XHR9XG5cblx0XHRpZiAoIGhlYWRlckVsLmhhc0FjdGlvbnMgKSB7XG5cdFx0XHR2YXIgYWN0aW9ucyA9IGhlYWRlckVsLmFjdGlvbnNFbDtcblx0XHRcdHZhciBhY3Rpb25zSGVpZ2h0ID0gYWN0aW9ucy5vZmZzZXRIZWlnaHQ7XG5cdFx0XHR2YXIgYWN0aW9uc0VuZEhlaWdodCA9IGFuaW1hdGUuZ2V0TmF0dXJhbEhlaWdodCggYWN0aW9ucywgXCJhY3Rpb25zSGVpZ2h0V3JhcHBlclwiICk7XG5cblx0XHRcdGFuaW1hdGUuYW5pbWF0ZUhlaWdodCggYWN0aW9ucywgeyBzdGFydDogYWN0aW9uc0hlaWdodCwgZW5kOiBhY3Rpb25zRW5kSGVpZ2h0LCBkdXJhdGlvbjogbWVudU9wZW5EdXJhdGlvbiwgZmluaXNoOiBhZGRPcGVuQ2xhc3MgfSApO1xuXHRcdH1cblxuXHR9IC8vIG9wZW5NZW51XG5cblxuXG5cdC8qXG5cdCAqIEZ1bmM6IGNsb3NlTWVudVxuXHQgKiBEZXNjOiBDbG9zZSBhIG1vYmlsZSBtZW51IHdpdGhpbiBhIGhlYWRlclxuXHQgKiBBcmdzOiBAYnRuIC0gSFRNTCBFbGVtZW50IC0gVGhlIGJ1dHRvbiBlbGVtZW50IHRoYXQgY29udHJvbHMgdGhlIG1lbnUgd2hpY2ggc2hvdWxkIGJlIGNsb3NlZFxuXHQgKlx0XHQgQGhlYWRlckVsIC0gSFRNTCBFbGVtZW50IC0gVGhlIGhlYWRlciBlbGVtZW50IHdob3NlIG1lbnUgc2hvdWxkIGJlIGNsb3NlZFxuXHQgKi9cblx0ZnVuY3Rpb24gY2xvc2VNZW51KCBidG4sIGhlYWRlckVsICkge1xuXG5cdFx0Ly8gU2V0IHRoZSBvcGVuL2Nsb3NlZCBhdHRyaWJ1dGUgb24gdGhlIGJ1dHRvblxuXHRcdGJ0bi5zZXRBdHRyaWJ1dGUoZXhwYW5kZWRBdHRyLCBmYWxzZSk7XG5cblx0XHQvLyBTZXQgdGhlIG9wZW4vY2xvc2VkIGF0dHJpYnV0ZSBvbiB0aGUgaGVhZGVyXG5cblx0XHRmdW5jdGlvbiByZW1vdmVPcGVuQ2xhc3MoKSB7XG5cdFx0XHRoZWFkZXJFbC5yZW1vdmVDbGFzcyggbWVudU9wZW5DbGFzcyApO1x0XHRcdFxuXHRcdH1cblxuXHRcdC8vIEFuaW1hdGUgdGhlIGVsZW1lbnRzXG5cdFx0aWYgKCBoZWFkZXJFbC5oYXNOYXYgKSB7XG5cdFx0XHR2YXIgbmF2ID0gaGVhZGVyRWwubmF2RWw7XG5cdFx0XHR2YXIgbmF2SGVpZ2h0ID0gbmF2Lm9mZnNldEhlaWdodDtcblxuXHRcdFx0YW5pbWF0ZS5hbmltYXRlSGVpZ2h0KCBuYXYsIHsgc3RhcnQ6IG5hdkhlaWdodCwgZW5kOiAwLCBmaW5pc2g6IHJlbW92ZU9wZW5DbGFzcyB9ICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBoZWFkZXJFbC5oYXNBY3Rpb25zICkge1xuXHRcdFx0dmFyIGFjdGlvbnMgPSBoZWFkZXJFbC5hY3Rpb25zRWw7XG5cdFx0XHR2YXIgYWN0aW9uc0hlaWdodCA9IGFjdGlvbnMub2Zmc2V0SGVpZ2h0O1xuXG5cdFx0XHRhbmltYXRlLmFuaW1hdGVIZWlnaHQoIGFjdGlvbnMsIHsgc3RhcnQ6IGFjdGlvbnNIZWlnaHQsIGVuZDogMCwgZmluaXNoOiByZW1vdmVPcGVuQ2xhc3MgfSApO1xuXHRcdH1cblxuXHR9IC8vIGNsb3NlTWVudVxuXG5cbn0pKCk7Il19
