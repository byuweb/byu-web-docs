var animate=function(){var a,n,l=(n=(a=[0,6e-5,24e-5,54e-5,97e-5,.00153,.00221,.00303,.00398,.00506,.00629,.00765,.00916,.01081,.0126,.01455,.01664,.01889,.0213,.02386,.02658,.02946,.0325,.03571,.03908,.04262,.04632,.05019,.05423,.05844,.06283,.06738,.0721,.07699,.08206,.0873,.0927,.09827,.104,.1099,.11597,.12219,.12857,.1351,.14179,.14861,.15559,.16271,.16995,.17734,.18484,.19247,.20021,.20805,.216,.22405,.23219,.24041,.24871,.25708,.26552,.27401,.28256,.29114,.29978,.30844,.31712,.32583,.33455,.34328,.352,.36073,.36945,.37815,.38682,.39548,.40411,.41269,.42126,.42977,.43824,.44666,.45502,.46334,.4716,.4798,.48793,.496,.50399,.51192,.51978,.52757,.53528,.54293,.55049,.55796,.56538,.5727,.57996,.58713,.59421,.60122,.60815,.615,.62175,.62844,.63504,.64157,.648,.65437,.66064,.66684,.67296,.679,.68496,.69084,.69665,.70238,.70803,.7136,.71911,.72452,.72988,.73515,.74036,.74549,.75054,.75554,.76045,.7653,.77007,.77479,.77942,.784,.78851,.79295,.79733,.80163,.80589,.81007,.81419,.81825,.82225,.82619,.83007,.83388,.83765,.84135,.845,.84858,.85211,.85559,.85902,.86239,.8657,.86895,.87217,.87532,.87842,.88149,.88448,.88743,.89034,.89319,.896,.89876,.90147,.90414,.90675,.90933,.91185,.91434,.91678,.91917,.92152,.92383,.92609,.92831,.93049,.93264,.93473,.9368,.93881,.94079,.94273,.94463,.9465,.94832,.95011,.95186,.95357,.95525,.95689,.95849,.96006,.9616,.96309,.96455,.96599,.96738,.96874,.97007,.97136,.97263,.97386,.97506,.97623,.97736,.97847,.97954,.98058,.98159,.98258,.98353,.98445,.98535,.98621,.98705,.98786,.98864,.98939,.99011,.99081,.99147,.99212,.99273,.99332,.99388,.99442,.99493,.99541,.99587,.9963,.99671,.99709,.99745,.99779,.9981,.99838,.99865,.99888,.9991,.99929,.99946,.9996,.99972,.99982,.9999,.99996,.99999,1]).length-1,function(t){var e=Math.round(t*n);return a[e]}),u="animating";return{animateHeight:function(e,t){var n,s,i,r,a=Object.assign({start:0,end:100,fadeIn:!0,duration:200,units:"px"},t),o=l;e.style.height=a.start+a.units,e.addClass(u),e.animation=(n={duration:a.duration,delta:o,step:function(t){e.style.height=a.start+(a.end-a.start)*t+a.units},finish:function(){e.removeClass(u),e.style.removeProperty("height"),"function"==typeof a.finish&&a.finish()},interrupt:function(){e.removeClass(u),e.style.removeProperty("height"),"function"==typeof a.interrupt&&a.interrupt()}},s=new Date,i=!1,r=function(){var t=new Date-s,e=t/n.duration;1<e&&(e=1);var a=n.delta(e);n.step(a),i&&n.interrupt?n.interrupt():e<1?window.requestAnimationFrame(r):n.finish&&n.finish()},window.requestAnimationFrame(r),{stop:function(){i=!0}})},getNaturalHeight:function(t,e){var a,n;return e=e||"",(a=function(t,e){var a=document.createElement(e);for(t.appendChild(a);t.firstChild&&t.firstChild!==a;)a.appendChild(t.firstChild);return a}(t,"div")).className=e,n=a.offsetHeight,function(t){for(var e=t.parentNode;t.firstChild;)e.insertBefore(t.firstChild,t);e.removeChild(t)}(a),n}}}(),byu_main=function(){var e=document;function s(t,e){return 0<e.getElementsByClassName(t).length}return HTMLElement.prototype.hasClass=function(t){return this.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},HTMLElement.prototype.addClass=function(t){for(var e=t.split(","),a=0;a<e.length;a++)-1==(" "+this.className+" ").indexOf(" "+e[a]+" ")&&(this.className+=" "+e[a]);return this},HTMLElement.prototype.removeClass=function(t){if(this.hasClass(t)){var e=new RegExp("(\\s|^)"+t+"(\\s|$)"),a=new RegExp("(\\s|^)"+t);this.className.search(e)&&(this.className=this.className.replace(a,""))}return this},{executeOnLoad:function(t){"loading"!=e.readyState?t():e.addEventListener?e.addEventListener("DOMContentLoaded",t):e.attachEvent("onreadystatechange",function(){"complete"==e.readyState&&t()})},elExists:s,hasChildren:function(t,e){var a,n=!1;return s(t,e)&&(a=e.getElementsByClassName(t),Array.prototype.forEach.call(a,function(t){0<t.children.length&&(n=!0)})),n}}}(),byu_header=function(){"use strict";var e=document,u=300,a="js-enabled",h="aria-expanded",f="menu-open",s="byu-site-navigation",i="byu-action-id-search";byu_main.executeOnLoad(function(){var t=e.getElementsByClassName("byu-header");Array.prototype.forEach.call(t,function(t){var e,n;(e=t).hasNav=byu_main.elExists(s,e),e.hasActions=byu_main.hasChildren(i,e),(e.hasNav||e.hasActions)&&(e.addClass(a),(n=e).getElementsByClassName("byu-menu-button")[0].addEventListener("click",function(t){var e,a;e=t.target,a=n,"false"!=e.getAttribute(h)?function(t,e){function a(){e.removeClass(f)}if(t.setAttribute(h,!1),e.hasNav){var n=e.navEl,s=n.offsetHeight;animate.animateHeight(n,{start:s,end:0,finish:a})}if(e.hasActions){var i=e.actionsEl,r=i.offsetHeight;animate.animateHeight(i,{start:r,end:0,finish:a})}}(e,a):function(t,e){function a(){e.hasClass(f)||e.addClass(f)}if(t.setAttribute(h,!0),e.hasNav){var n=e.navEl,s=n.offsetHeight,i=animate.getNaturalHeight(n);animate.animateHeight(n,{start:s,end:i,duration:u,finish:a})}if(e.hasActions){var r=e.actionsEl,o=r.offsetHeight,l=animate.getNaturalHeight(r,"actionsHeightWrapper");animate.animateHeight(r,{start:o,end:l,duration:u,finish:a})}}(e,a)}),e.navEl=e.getElementsByClassName(s)[0],e.actionsEl=e.getElementsByClassName(i)[0])})})}(),byu_table=function(){"use strict";var n=document;function s(t){var e=t.offsetWidth,a=t.getElementsByTagName("table")[0],n=a.offsetWidth,s="table-wide",i="start-visible",r="end-visible";e<n?(t.hasClass(s)||t.addClass(s),0==a.scrollLeft?t.hasClass(i)||t.addClass(i):t.removeClass(i),n-a.scrollLeft==e?t.hasClass(r)||t.addClass(r):t.removeClass(r)):t.removeClass(s)}byu_main.executeOnLoad(function(){for(var t=n.getElementsByClassName("table-container"),e=0;e<t.length;e++){var a=t[e];s(a)}})}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFuaW1hdGUuanMiLCJtYWluLmpzIiwiaGVhZGVyL2hlYWRlci5qcyIsIjAtZm91bmRhdGlvbi90YWJsZS90YWJsZS5qcyJdLCJuYW1lcyI6WyJhbmltYXRlIiwieUNvb3JkaW5hdGVzIiwibGVuIiwiZWFzZUZ1bmN0aW9uIiwibGVuZ3RoIiwicHJvZ3Jlc3MiLCJwIiwiTWF0aCIsInJvdW5kIiwiYW5pbWF0aW5nQ2xhc3MiLCJhbmltYXRlSGVpZ2h0IiwiZWwiLCJzZXR0aW5nc09iaiIsIm9wdHMiLCJzdGFydCIsImludGVycnVwdCIsInJlbmRlciIsInMiLCJPYmplY3QiLCJhc3NpZ24iLCJlbmQiLCJmYWRlSW4iLCJkdXJhdGlvbiIsInVuaXRzIiwiZWFzZSIsInN0eWxlIiwiaGVpZ2h0IiwiYWRkQ2xhc3MiLCJhbmltYXRpb24iLCJkZWx0YSIsInN0ZXAiLCJmaW5pc2giLCJyZW1vdmVDbGFzcyIsInJlbW92ZVByb3BlcnR5IiwiRGF0ZSIsInRpbWVQYXNzZWQiLCJ3aW5kb3ciLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJzdG9wIiwiZ2V0TmF0dXJhbEhlaWdodCIsImNsYXNzTmFtZSIsIndyYXBwZXIiLCJ3cmFwIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJmaXJzdENoaWxkIiwid3JhcElubmVyIiwib2Zmc2V0SGVpZ2h0IiwicGFyZW50IiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSIsInJlbW92ZUNoaWxkIiwidW53cmFwIiwiYnl1X21haW4iLCJkb2MiLCJlbEV4aXN0cyIsImNvbnRhaW5lciIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJIVE1MRWxlbWVudCIsInByb3RvdHlwZSIsImhhc0NsYXNzIiwibmFtZSIsInRoaXMiLCJtYXRjaCIsIlJlZ0V4cCIsIm5ld19jbGFzcyIsIm5jIiwic3BsaXQiLCJpIiwiaW5kZXhPZiIsInNlYXJjaCIsInJlcGxhY2UiLCJleGVjdXRlT25Mb2FkIiwiZnVuY3Rpb25OYW1lIiwicmVhZHlTdGF0ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJhdHRhY2hFdmVudCIsImhhc0NoaWxkcmVuIiwiZWxzIiwiQXJyYXkiLCJmb3JFYWNoIiwiY2FsbCIsImNoaWxkcmVuIiwiYnl1X2hlYWRlciIsIm1lbnVPcGVuRHVyYXRpb24iLCJqc0luaXRDbGFzcyIsImV4cGFuZGVkQXR0ciIsIm1lbnVPcGVuQ2xhc3MiLCJzaXRlTmF2Q2xhc3MiLCJzaXRlQWN0aW9uQ2xhc3MiLCJoZWFkZXJFbHMiLCJoZWFkZXJFbCIsImhhc05hdiIsImhhc0FjdGlvbnMiLCJlIiwiYnRuIiwidGFyZ2V0IiwiZ2V0QXR0cmlidXRlIiwicmVtb3ZlT3BlbkNsYXNzIiwic2V0QXR0cmlidXRlIiwibmF2IiwibmF2RWwiLCJuYXZIZWlnaHQiLCJhY3Rpb25zIiwiYWN0aW9uc0VsIiwiYWN0aW9uc0hlaWdodCIsImNsb3NlTWVudSIsImFkZE9wZW5DbGFzcyIsIm5hdkVuZEhlaWdodCIsImFjdGlvbnNFbmRIZWlnaHQiLCJvcGVuTWVudSIsImJ5dV90YWJsZSIsInVwZGF0ZVRhYmxlIiwiY193aWR0aCIsIm9mZnNldFdpZHRoIiwidGFibGUiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInRfd2lkdGgiLCJ0YWJsZV93aWRlX2NsYXNzIiwic3RhcnRfdmlzaWJsZV9jbGFzcyIsImVuZF92aXNpYmxlX2NsYXNzIiwic2Nyb2xsTGVmdCIsImNvbnRhaW5lcnMiXSwibWFwcGluZ3MiOiJBQUdBLElBQUFBLFFBQUEsV0FFQSxJQTRIQUMsRUFDQUMsRUE3SEFDLEdBNkhBRCxHQURBRCxFQUFBLENBQUEsRUFBQSxLQUFBLE1BQUEsTUFBQSxNQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE1BQUEsT0FBQSxPQUFBLE9BQUEsTUFBQSxPQUFBLE9BQUEsT0FBQSxNQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE1BQUEsT0FBQSxPQUFBLE1BQUEsTUFBQSxPQUFBLEtBQUEsTUFBQSxPQUFBLE9BQUEsT0FBQSxNQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsS0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxLQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsTUFBQSxNQUFBLE9BQUEsS0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxNQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxLQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsS0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLEtBQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE1BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsTUFBQSxPQUFBLE9BQUEsT0FBQSxLQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxLQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxNQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLEtBQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxNQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsTUFBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsTUFBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9B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QUMsRUFBQUYsRUFBQXhELGFBQ0E4RCxFQUFBOUcsUUFBQXVDLGlCQUFBaUUsRUFBQSx3QkFFQXhHLFFBQUFVLGNBQUE4RixFQUFBLENBQUExRixNQUFBNEYsRUFBQXRGLElBQUEwRixFQUFBeEYsU0FBQStELEVBQUF0RCxPQUFBNkUsS0E1Q0FHLENBQUFmLEVBQUFKLEtBckNBQSxFQUFBVSxNQUFBVixFQUFBbEMsdUJBQUErQixHQUFBLEdBQ0FHLEVBQUFhLFVBQUFiLEVBQUFsQyx1QkFBQWdDLEdBQUEsUUE1REEsR0NLQXNCLFVBQUEsV0FFQSxhQUVBLElBQUF6RCxFQUFBWixTQTRCQSxTQUFBc0UsRUFBQXhELEdBQ0EsSUFBQXlELEVBQUF6RCxFQUFBMEQsWUFDQUMsRUFBQTNELEVBQUE0RCxxQkFBQSxTQUFBLEdBQ0FDLEVBQUFGLEVBQUFELFlBQ0FJLEVBQUEsYUFDQUMsRUFBQSxnQkFDQUMsRUFBQSxjQUVBUCxFQUFBSSxHQUdBN0QsRUFBQUksU0FBQTBELElBQ0E5RCxFQUFBOUIsU0FBQTRGLEdBSUEsR0FBQUgsRUFBQU0sV0FDQWpFLEVBQUFJLFNBQUEyRCxJQUNBL0QsRUFBQTlCLFNBQUE2RixHQUdBL0QsRUFBQXpCLFlBQUF3RixHQUlBRixFQUFBRixFQUFBTSxZQUFBUixFQUNBekQsRUFBQUksU0FBQTRELElBQ0FoRSxFQUFBOUIsU0FBQThGLEdBR0FoRSxFQUFBekIsWUFBQXlGLElBTUFoRSxFQUFBekIsWUFBQXVGLEdBNURBakUsU0FBQW1CLGNBU0EsV0FHQSxJQUZBLElBQUFrRCxFQUFBcEUsRUFBQUcsdUJBQUEsbUJBRUFXLEVBQUEsRUFBQUEsRUFBQXNELEVBQUF2SCxPQUFBaUUsSUFBQSxDQUNBLElBQUFaLEVBQUFrRSxFQUFBdEQsR0FDQTRDLEVBQUF4RCxNQXRCQSIsImZpbGUiOiJzY3JpcHQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqL1xuLyohIEFuaW1hdGUgKi9cblxudmFyIGFuaW1hdGUgPSAoZnVuY3Rpb24oKSB7XG5cbiAgICB2YXIgZWFzZUZ1bmN0aW9uID0gY3ViaWNCZXppZXJEZWZpbmVkKCk7XG4gICAgdmFyIGFuaW1hdGluZ0NsYXNzID0gJ2FuaW1hdGluZyc7XG5cbiAgICAvLyBBbmltYXRpb25cblxuICAgIC8qXG4gICAgICogRnVuYzogYW5pbWF0ZUhlaWdodFxuICAgICAqIERlc2M6IEFuaW1hdGUgdGhlIGhlaWdodCBvZiBhbiBpdGVtXG4gICAgICogQXJnczogQGVsIC0gSFRNTCBFbGVtZW50IC0gVGhlIEhUTUwgZWxlbWVudCB0byBhbmltYXRlXG4gICAgICogICAgICAgQHNldHRpbmdzT2JqIC0gT2JqZWN0IC0gQ29udGFpbnMgcHJvcGVydGllcyB0byBvdmVycmlkZSBkZWZhdWx0IHNldHRpbmdzXG4gICAgICovXG4gICAgZnVuY3Rpb24gYW5pbWF0ZUhlaWdodChlbCwgc2V0dGluZ3NPYmopIHtcblxuICAgICAgICAvLyBTZXQgZGVmYXVsdHMgYW5kIG92ZXJ3cml0ZSB3aXRoIHBhc3NlZCBvYmplY3QgKHNldHRpbmdzT2JqKVxuICAgICAgICB2YXIgcyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgc3RhcnQ6IDAsXG4gICAgICAgICAgICBlbmQ6IDEwMCxcbiAgICAgICAgICAgIGZhZGVJbjogdHJ1ZSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAsXG4gICAgICAgICAgICB1bml0czogXCJweFwiLFxuICAgICAgICB9LCBzZXR0aW5nc09iaik7XG5cbiAgICAgICAgdmFyIGVhc2UgPSBlYXNlRnVuY3Rpb247XG5cbiAgICAgICAgZWwuc3R5bGUuaGVpZ2h0ID0gcy5zdGFydCArIHMudW5pdHM7XG4gICAgICAgIGVsLmFkZENsYXNzKGFuaW1hdGluZ0NsYXNzKTtcblxuICAgICAgICAvLyBBbmltYXRlIGhlaWdodCBhdCBpbnB1dCByYXRlXG4gICAgICAgIGVsLmFuaW1hdGlvbiA9IGFuaW1hdGUoe1xuICAgICAgICAgICAgZHVyYXRpb246IHMuZHVyYXRpb24sXG4gICAgICAgICAgICBkZWx0YTogZWFzZSxcbiAgICAgICAgICAgIHN0ZXA6IGZ1bmN0aW9uKGRlbHRhKSB7XG4gICAgICAgICAgICAgICAgZWwuc3R5bGUuaGVpZ2h0ID0gcy5zdGFydCArICgocy5lbmQgLSBzLnN0YXJ0KSAqIGRlbHRhKSArIHMudW5pdHM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmluaXNoOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBlbC5yZW1vdmVDbGFzcyhhbmltYXRpbmdDbGFzcyk7XG4gICAgICAgICAgICAgICAgZWwuc3R5bGUucmVtb3ZlUHJvcGVydHkoXCJoZWlnaHRcIik7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzLmZpbmlzaCA9PSBcImZ1bmN0aW9uXCIpIHsgcy5maW5pc2goKTsgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGludGVycnVwdDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgZWwucmVtb3ZlQ2xhc3MoYW5pbWF0aW5nQ2xhc3MpO1xuICAgICAgICAgICAgICAgIGVsLnN0eWxlLnJlbW92ZVByb3BlcnR5KFwiaGVpZ2h0XCIpO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygcy5pbnRlcnJ1cHQgPT0gXCJmdW5jdGlvblwiKSB7IHMuaW50ZXJydXB0KCk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICB9IC8vIGFuaW1hdGVIZWlnaHRcblxuXG4gICAgLypcbiAgICAgKiBGdW5jOiBhbmltYXRlXG4gICAgICogRGVzYzogQW5pbWF0ZSBmdW5jdGlvblxuICAgICAqIFNyYzogIGh0dHA6Ly9qYXZhc2NyaXB0LmluZm8vdHV0b3JpYWwvYW5pbWF0aW9uIChtYWluIGFuaW1hdGlvbiBmdW5jdGlvbnMpXG4gICAgICogICAgICAgaHR0cDovL2NyZWF0aXZlanMuY29tL3Jlc291cmNlcy9yZXF1ZXN0YW5pbWF0aW9uZnJhbWUvIChyZXF1ZXN0QW5pbWF0aW9uRnJhbWUpXG4gICAgICogQXJnczogQG9wdHMgLSBPYmplY3QgLSBUaGUgb3B0aW9ucyBvYmplY3RcbiAgICAgKiAgICAgICAgIGNvbnRhaW5zOiBAZHVyYXRpb24gLSBOdW1iZXIgLSBNaWxsaXNlY29uZHMgZm9yIHRvdGFsIGFuaW1hdGlvblxuICAgICAqICAgICAgICAgICAgICAgICAgIEBkZWx0YSAtIEZ1bmN0aW9uIC0gRWFzaW5nIGZ1bmN0aW9uXG4gICAgICogICAgICAgICAgICAgICAgICAgQHN0ZXAgLSBGdW5jdGlvbiAtIFJlc3VsdCBmdW5jdGlvbiAod2hhdCBzaG91bGQgaGFwcGVuIG9uIHNjcmVlbiBlYWNoIGZyYW1lKVxuICAgICAqICAgICAgICAgICAgICAgICAgIEBmaW5pc2ggLSBGdW5jdGlvbiAtIG9wdGlvbmFsLSBFbmQgZnVuY3Rpb24gKHdoYXQgaGFwcGVucyB3aGVuIGFuaW1hdGlvbiBmaW5pc2hlcylcbiAgICAgKiAgICAgICAgICAgICAgICAgICBAaW50ZXJydXB0IC0gRnVuY3Rpb24gLSBvcHRpb25hbC0gRW5kIGZ1bmN0aW9uICh3aGF0IGhhcHBlbnMgaWYgYW5pbWF0aW9uIGlzIGludGVycnVwdGVkKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFuaW1hdGUob3B0cykge1xuXG4gICAgICAgIHZhciBzdGFydCA9IG5ldyBEYXRlKCk7IC8vIEdldCB0aGUgc3RhcnQgdGltZVxuICAgICAgICB2YXIgaW50ZXJydXB0ID0gZmFsc2U7IC8vIElmIHRoaXMgaXMgdHJ1ZSwgYW5pbWF0aW9uIHdpbGwgc3RvcFxuICAgICAgICB2YXIgc3RvcCA9IGZ1bmN0aW9uKCkgeyBpbnRlcnJ1cHQgPSB0cnVlOyB9OyAvLyBTdG9wcyB0aGlzIGFuaW1hdGlvblxuXG4gICAgICAgIC8vIFRoZSByZW5kZXIgZnVuY3Rpb25cbiAgICAgICAgdmFyIHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHRpbWVQYXNzZWQgPSBuZXcgRGF0ZSgpIC0gc3RhcnQ7IC8vIFRoZSBhbW91bnQgb2YgdGltZSBlbGFwc2VkIHNpbmNlIHN0YXJ0XG4gICAgICAgICAgICB2YXIgcHJvZ3Jlc3MgPSB0aW1lUGFzc2VkIC8gb3B0cy5kdXJhdGlvbjsgLy8gUGVyY2VudGFnZSBvZiB0aW1lIHBhc3NlZCBpbiBmdWxsIGV4cGVjdGVkIGR1cmF0aW9uXG5cbiAgICAgICAgICAgIGlmIChwcm9ncmVzcyA+IDEpIHsgcHJvZ3Jlc3MgPSAxOyB9IC8vIENhcCBwZXJjZW50YWdlIGF0IDEgKDEwMCUpXG5cbiAgICAgICAgICAgIHZhciBkZWx0YSA9IG9wdHMuZGVsdGEocHJvZ3Jlc3MpOyAvLyBBcHBseSBlYXNpbmcgZnVuY3Rpb25cbiAgICAgICAgICAgIG9wdHMuc3RlcChkZWx0YSk7IC8vIEFwcGx5IHRoZSBzdGVwIGZ1Y3Rpb24gZnJvbSB0aGUgb3B0aW9ucyBvYmplY3QgKHJlbmRlcnMgYSBjaGFuZ2Ugb24gc2NyZWVuKVxuXG4gICAgICAgICAgICAvLyBJbnRlcnJ1cHQsIGNvbnRpbnVlLCBvciBmaW5pc2ggZGVwZW5kaW5nIG9uIHByb2dyZXNzXG4gICAgICAgICAgICBpZiAoaW50ZXJydXB0ICYmIG9wdHMuaW50ZXJydXB0KSB7XG4gICAgICAgICAgICAgICAgb3B0cy5pbnRlcnJ1cHQoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocHJvZ3Jlc3MgPCAxKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShyZW5kZXIpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChvcHRzLmZpbmlzaCkge1xuICAgICAgICAgICAgICAgIG9wdHMuZmluaXNoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gU3RhcnQgdGhlIGFuaW1hdGlvblxuICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJlbmRlcik7XG5cbiAgICAgICAgcmV0dXJuIHsgc3RvcDogc3RvcCB9O1xuXG4gICAgfSAvLyBhbmltYXRlXG5cblxuICAgIC8qXG4gICAgICogRnVuYzogZWFzZUluT3V0XG4gICAgICogRGVzYzogRWFzaW5nIGZ1bmN0aW9uXG4gICAgICogQXJnczogQHBvd2VyIC0gUG9zaXRpdmUgSW50ZWdlciAtIE1hdGggcG93ZXIgdGhhdCBzcGVjaWZpZXMgZWFzaW5nIGN1cnZlIChkZWZhdWx0IDMpXG4gICAgICovXG4gICAgZnVuY3Rpb24gZWFzZUluT3V0KHBvd2VyKSB7XG4gICAgICAgIHBvd2VyID0gcG93ZXIgPyBwb3dlciA6IDM7XG4gICAgICAgIHZhciBkZWx0YSA9IGZ1bmN0aW9uKHByb2dyZXNzKSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5wb3cocHJvZ3Jlc3MsIHBvd2VyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbihwcm9ncmVzcykge1xuICAgICAgICAgICAgaWYgKHByb2dyZXNzIDwgLjUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlbHRhKDIgKiBwcm9ncmVzcykgLyAyXG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgcmV0dXJuICgyIC0gZGVsdGEoMiAqICgxIC0gcHJvZ3Jlc3MpKSkgLyAyXG4gICAgICAgIH1cbiAgICB9IC8vIGVhc2VJbk91dFxuXG5cbiAgICAvKlxuICAgICAqIEZ1bmM6IGN1YmljQmV6aWVyRGVmaW5lZFxuICAgICAqIERlc2M6IEVhc2luZyBmdW5jdGlvbiBiYXNlZCBvbiBDU1MgZWFzaW5nOiBjdWJpYy1iZXppZXIoMC4zLCAwLCAwLjMsIDEpLlxuICAgICAqICAgICAgIHlDb29yZGluYXRlcyBnZW5lcmF0ZWQgYnkgcnVubmluZyBhIGN1YmljIGJlemllciBmdW5jdGlvbiAocmV0dXJuaW5nIFggYW5kIFkgY29vcmRpbmF0ZXMgYmFzZWQgb24gdGltZSlcbiAgICAgKiAgICAgICBhbmQgb3V0cHV0dGluZyB0aGUgWSB2YWx1ZXMgYXNzb2NpYXRlZCB3aXRoIHRoZSBYIHZhbHVlcyB0aGF0IGZhbGwgY2xvc2VzdCB0byBlYWNoIGh1bmRyZWR0aCAoLjAxLCAuMDIsIC4uLikuXG4gICAgICogICAgICAgVGhpcyBhbGxvd3MgYSBxdWljayBsb29rdXAgYmFzZWQgb24gYW5pbWF0aW9uIHByb2dyZXNzLiBQcm9ncmVzcyAoJSkgKiBhcnJheSBsZW5ndGggaXMgdGhlIGluZGV4IG9mIHRoZSBZIHZhbHVlLlxuICAgICAqIEFyZ3M6IG5vbmVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdWJpY0JlemllckRlZmluZWQoKSB7XG4gICAgICAgIHZhciB5Q29vcmRpbmF0ZXMgPSBbMCwgMC4wMDAwNiwgMC4wMDAyNCwgMC4wMDA1NCwgMC4wMDA5NywgMC4wMDE1MywgMC4wMDIyMSwgMC4wMDMwMywgMC4wMDM5OCwgMC4wMDUwNiwgMC4wMDYyOSwgMC4wMDc2NSwgMC4wMDkxNiwgMC4wMTA4MSwgMC4wMTI2LCAwLjAxNDU1LCAwLjAxNjY0LCAwLjAxODg5LCAwLjAyMTMsIDAuMDIzODYsIDAuMDI2NTgsIDAuMDI5NDYsIDAuMDMyNSwgMC4wMzU3MSwgMC4wMzkwOCwgMC4wNDI2MiwgMC4wNDYzMiwgMC4wNTAxOSwgMC4wNTQyMywgMC4wNTg0NCwgMC4wNjI4MywgMC4wNjczOCwgMC4wNzIxLCAwLjA3Njk5LCAwLjA4MjA2LCAwLjA4NzMsIDAuMDkyNywgMC4wOTgyNywgMC4xMDQsIDAuMTA5OSwgMC4xMTU5NywgMC4xMjIxOSwgMC4xMjg1NywgMC4xMzUxLCAwLjE0MTc5LCAwLjE0ODYxLCAwLjE1NTU5LCAwLjE2MjcxLCAwLjE2OTk1LCAwLjE3NzM0LCAwLjE4NDg0LCAwLjE5MjQ3LCAwLjIwMDIxLCAwLjIwODA1LCAwLjIxNiwgMC4yMjQwNSwgMC4yMzIxOSwgMC4yNDA0MSwgMC4yNDg3MSwgMC4yNTcwOCwgMC4yNjU1MiwgMC4yNzQwMSwgMC4yODI1NiwgMC4yOTExNCwgMC4yOTk3OCwgMC4zMDg0NCwgMC4zMTcxMiwgMC4zMjU4MywgMC4zMzQ1NSwgMC4zNDMyOCwgMC4zNTIsIDAuMzYwNzMsIDAuMzY5NDUsIDAuMzc4MTUsIDAuMzg2ODIsIDAuMzk1NDgsIDAuNDA0MTEsIDAuNDEyNjksIDAuNDIxMjYsIDAuNDI5NzcsIDAuNDM4MjQsIDAuNDQ2NjYsIDAuNDU1MDIsIDAuNDYzMzQsIDAuNDcxNiwgMC40Nzk4LCAwLjQ4NzkzLCAwLjQ5NiwgMC41MDM5OSwgMC41MTE5MiwgMC41MTk3OCwgMC41Mjc1NywgMC41MzUyOCwgMC41NDI5MywgMC41NTA0OSwgMC41NTc5NiwgMC41NjUzOCwgMC41NzI3LCAwLjU3OTk2LCAwLjU4NzEzLCAwLjU5NDIxLCAwLjYwMTIyLCAwLjYwODE1LCAwLjYxNSwgMC42MjE3NSwgMC42Mjg0NCwgMC42MzUwNCwgMC42NDE1NywgMC42NDgsIDAuNjU0MzcsIDAuNjYwNjQsIDAuNjY2ODQsIDAuNjcyOTYsIDAuNjc5LCAwLjY4NDk2LCAwLjY5MDg0LCAwLjY5NjY1LCAwLjcwMjM4LCAwLjcwODAzLCAwLjcxMzYsIDAuNzE5MTEsIDAuNzI0NTIsIDAuNzI5ODgsIDAuNzM1MTUsIDAuNzQwMzYsIDAuNzQ1NDksIDAuNzUwNTQsIDAuNzU1NTQsIDAuNzYwNDUsIDAuNzY1MywgMC43NzAwNywgMC43NzQ3OSwgMC43Nzk0MiwgMC43ODQsIDAuNzg4NTEsIDAuNzkyOTUsIDAuNzk3MzMsIDAuODAxNjMsIDAuODA1ODksIDAuODEwMDcsIDAuODE0MTksIDAuODE4MjUsIDAuODIyMjUsIDAuODI2MTksIDAuODMwMDcsIDAuODMzODgsIDAuODM3NjUsIDAuODQxMzUsIDAuODQ1LCAwLjg0ODU4LCAwLjg1MjExLCAwLjg1NTU5LCAwLjg1OTAyLCAwLjg2MjM5LCAwLjg2NTcsIDAuODY4OTUsIDAuODcyMTcsIDAuODc1MzIsIDAuODc4NDIsIDAuODgxNDksIDAuODg0NDgsIDAuODg3NDMsIDAuODkwMzQsIDAuODkzMTksIDAuODk2LCAwLjg5ODc2LCAwLjkwMTQ3LCAwLjkwNDE0LCAwLjkwNjc1LCAwLjkwOTMzLCAwLjkxMTg1LCAwLjkxNDM0LCAwLjkxNjc4LCAwLjkxOTE3LCAwLjkyMTUyLCAwLjkyMzgzLCAwLjkyNjA5LCAwLjkyODMxLCAwLjkzMDQ5LCAwLjkzMjY0LCAwLjkzNDczLCAwLjkzNjgsIDAuOTM4ODEsIDAuOTQwNzksIDAuOTQyNzMsIDAuOTQ0NjMsIDAuOTQ2NSwgMC45NDgzMiwgMC45NTAxMSwgMC45NTE4NiwgMC45NTM1NywgMC45NTUyNSwgMC45NTY4OSwgMC45NTg0OSwgMC45NjAwNiwgMC45NjE2LCAwLjk2MzA5LCAwLjk2NDU1LCAwLjk2NTk5LCAwLjk2NzM4LCAwLjk2ODc0LCAwLjk3MDA3LCAwLjk3MTM2LCAwLjk3MjYzLCAwLjk3Mzg2LCAwLjk3NTA2LCAwLjk3NjIzLCAwLjk3NzM2LCAwLjk3ODQ3LCAwLjk3OTU0LCAwLjk4MDU4LCAwLjk4MTU5LCAwLjk4MjU4LCAwLjk4MzUzLCAwLjk4NDQ1LCAwLjk4NTM1LCAwLjk4NjIxLCAwLjk4NzA1LCAwLjk4Nzg2LCAwLjk4ODY0LCAwLjk4OTM5LCAwLjk5MDExLCAwLjk5MDgxLCAwLjk5MTQ3LCAwLjk5MjEyLCAwLjk5MjczLCAwLjk5MzMyLCAwLjk5Mzg4LCAwLjk5NDQyLCAwLjk5NDkzLCAwLjk5NTQxLCAwLjk5NTg3LCAwLjk5NjMsIDAuOTk2NzEsIDAuOTk3MDksIDAuOTk3NDUsIDAuOTk3NzksIDAuOTk4MSwgMC45OTgzOCwgMC45OTg2NSwgMC45OTg4OCwgMC45OTkxLCAwLjk5OTI5LCAwLjk5OTQ2LCAwLjk5OTYsIDAuOTk5NzIsIDAuOTk5ODIsIDAuOTk5OSwgMC45OTk5NiwgMC45OTk5OSwgMV07XG4gICAgICAgIHZhciBsZW4gPSB5Q29vcmRpbmF0ZXMubGVuZ3RoIC0gMTtcblxuICAgICAgICAvLyBSZXR1cm4gdGhlIGVhc2VpbmcgZnVuY3Rpb24sIHdoaWNoIHJldHVybnMgYW4gZWFzZWQgdmFsdWUgKDDigJMxKSBiYXNlZCBvbiB0aGUgcHJvZ3Jlc3MgKDDigJMxLCBpLmUgMCUtMTAwJSlcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHByb2dyZXNzKSB7XG4gICAgICAgICAgICB2YXIgcCA9IE1hdGgucm91bmQocHJvZ3Jlc3MgKiBsZW4pO1xuICAgICAgICAgICAgcmV0dXJuIHlDb29yZGluYXRlc1twXTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLypcbiAgICAgKiBGdW5jOiBnZXROYXR1cmFsSGVpZ2h0XG4gICAgICogRGVzYzogR2V0IHRoZSBoZWlnaHQgb2YgYW4gZWxlbWVudCBvbiB0aGUgcGFnZSAoYmVmb3JlIHZpc2libHkgcmVuZGVyaW5nIGl0IG9uIHRoZSBwYWdlKVxuICAgICAqIEFyZ3M6IEBlbCAtIEhUTUwgRWxlbWVudCAtIFRoZSBlbGVtZW50IHRvIG1lYXN1cmVcbiAgICAgKiAgICAgICBAY2xhc3NOYW1lIC0gU3RyaW5nIC0gQ2xhc3MgdGhhdCB0ZW1wb3Jhcnkgd3JhcHBlciBlbGVtZW50IHNob3VsZCBoYXZlICh0byBhbGxvdyBmb3IgY29ycmVjdCBzdHlsaW5nIGFuZCBjb3JyZWN0IGhlaWdodCB0ZXN0aW5nKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldE5hdHVyYWxIZWlnaHQoZWwsIGNsYXNzTmFtZSkge1xuICAgICAgICB2YXIgd3JhcHBlciwgdGVzdERpdiwgaGVpZ2h0O1xuICAgICAgICB2YXIgY2xhc3NOYW1lID0gY2xhc3NOYW1lIHx8IFwiXCI7XG5cbiAgICAgICAgd3JhcHBlciA9IHdyYXBJbm5lcihlbCwgXCJkaXZcIik7XG4gICAgICAgIHdyYXBwZXIuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICAgICAgICBoZWlnaHQgPSB3cmFwcGVyLm9mZnNldEhlaWdodDtcblxuICAgICAgICB1bndyYXAod3JhcHBlcik7XG5cbiAgICAgICAgcmV0dXJuIGhlaWdodDtcbiAgICB9XG5cblxuXG5cbiAgICAvKlxuICAgICAqIEZ1bmM6IHdyYXBJbm5lclxuICAgICAqIERlc2M6IFdyYXAgdGhlIGNvbnRlbnRzIG9mIGFuIGVsZW1lbnQgaW4gYSBuZXcgSFRNTCBlbGVtZW50XG4gICAgICogQXJnczogQGVsIC0gSFRNTEVsZW1lbnQgLSBUaGUgZWxlbWVudCB3aG9zZSBjb250ZW50cyBzaG91bGQgYmUgd3JhcHBlZFxuICAgICAqICAgICAgIEB3cmFwcGVyIC0gU3RyaW5nIC0gVGhlIHR5cGUgb2YgSFRNTCBlbGVtZW50IHRoYXQgc2hvdWxkIHdyYXAgdGhlIGNvbnRlbnRzXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcElubmVyKGVsLCB3cmFwcGVyKSB7XG4gICAgICAgIHZhciB3cmFwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh3cmFwcGVyKTtcblxuICAgICAgICAvLyBBcHBlbmQgYSB3cmFwcGVyIG5vZGVcbiAgICAgICAgZWwuYXBwZW5kQ2hpbGQod3JhcCk7XG5cbiAgICAgICAgLy8gTW92ZSBhbGwgY2hpbGRyZW4gaW50byB0aGUgd3JhcHBlciBlbGVtZW50XG4gICAgICAgIHdoaWxlIChlbC5maXJzdENoaWxkICYmIGVsLmZpcnN0Q2hpbGQgIT09IHdyYXApIHdyYXAuYXBwZW5kQ2hpbGQoZWwuZmlyc3RDaGlsZCk7XG5cbiAgICAgICAgcmV0dXJuIHdyYXA7XG4gICAgfVxuXG4gICAgLypcbiAgICAgKiBGdW5jOiB1bndyYXBcbiAgICAgKiBEZXNjOiBVbndyYXAgdGhlIHBhcmVudCBlbGVtZW50IG9mIHRoZSBzcGVjaWZpZWQgRE9NIGVsZW1lbnRcbiAgICAgKiBTcmM6ICBodHRwczovL3BsYWluanMuY29tL2phdmFzY3JpcHQvbWFuaXB1bGF0aW9uL3Vud3JhcC1hLWRvbS1lbGVtZW50LTM1L1xuICAgICAqIEFyZ3M6IEBlbCAtIEhUTUxFbGVtZW50IC0gVGhlIGVsZW1lbnQgdG8gZGVzdHJveVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVud3JhcChlbCkge1xuICAgICAgICAvLyBnZXQgdGhlIGVsZW1lbnQncyBwYXJlbnQgbm9kZVxuICAgICAgICB2YXIgcGFyZW50ID0gZWwucGFyZW50Tm9kZTtcblxuICAgICAgICAvLyBtb3ZlIGFsbCBjaGlsZHJlbiBvdXQgb2YgdGhlIHdyYXBwZXIgZWxlbWVudFxuICAgICAgICB3aGlsZSAoZWwuZmlyc3RDaGlsZCkgcGFyZW50Lmluc2VydEJlZm9yZShlbC5maXJzdENoaWxkLCBlbCk7XG5cbiAgICAgICAgLy8gcmVtb3ZlIHRoZSBlbXB0eSBlbGVtZW50XG4gICAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChlbCk7XG4gICAgfVxuXG5cblxuICAgIHJldHVybiB7XG4gICAgICAgIGFuaW1hdGVIZWlnaHQ6IGFuaW1hdGVIZWlnaHQsXG4gICAgICAgIGdldE5hdHVyYWxIZWlnaHQ6IGdldE5hdHVyYWxIZWlnaHRcbiAgICB9XG5cblxufSkoKTsiLCIvKlxuICogTW9kdWxlOiBCWVUgTWFpblxuICogRGVzYzogICBGdW5jdGlvbnMgdGhhdCBhcHBseSB0byBhbGwgQllVIHBhZ2VzLCBjb21wb25lbnRzLCBvciBzY3JpcHRzXG4gKi9cblxudmFyIGJ5dV9tYWluID0gKGZ1bmN0aW9uKCl7XG5cblx0dmFyIGRvYyA9IGRvY3VtZW50O1xuXG5cdC8qXG5cdCAqIEhUTUwgUHJvdG90eXBlIGZ1bmN0aW9uIGFzc2lnbm1lbnRzXG5cdCAqIERlc2M6IE1ha2UgaXQgZWFzeSB0byBhZGQsIHRlc3QsIGFuZCByZW1vdmUgSFRNTCBjbGFzc2VzIHZpYSBjb21wYXRpYmxlLCBwbGFpbiBKU1xuXHQgKiBTcmM6ICBodHRwczovL2Nzcy10cmlja3MuY29tL3NuaXBwZXRzL2phdmFzY3JpcHQvYWRkY2xhc3MtZnVuY3Rpb24vI2NvbW1lbnQtMTYxODQwNVxuXHQgKi9cblx0XG5cdC8vIEhhc0NsYXNzXG5cdEhUTUxFbGVtZW50LnByb3RvdHlwZS5oYXNDbGFzcyA9IGZ1bmN0aW9uKG5hbWUpIHtcblx0ICAgIHJldHVybiB0aGlzLmNsYXNzTmFtZS5tYXRjaChuZXcgUmVnRXhwKCcoXFxcXHN8XiknK25hbWUrJyhcXFxcc3wkKScpKTtcblx0fTtcblxuXHQvLyBBZGRDbGFzc1xuXHRIVE1MRWxlbWVudC5wcm90b3R5cGUuYWRkQ2xhc3MgPSBmdW5jdGlvbihuZXdfY2xhc3MpIHsgICBcblx0ICAgIHZhciBuYyA9IG5ld19jbGFzcy5zcGxpdChcIixcIik7XG5cblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICBpZiAoKFwiIFwiICsgdGhpcy5jbGFzc05hbWUgKyBcIiBcIikuaW5kZXhPZihcIiBcIiArIG5jW2ldICsgXCIgXCIpID09IC0xKSB7XG5cdCAgICAgICAgICAgIHRoaXMuY2xhc3NOYW1lICs9IFwiIFwiICsgbmNbaV07XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIHRoaXM7XG5cdH07XG5cblx0Ly8gUmVtb3ZlQ2xhc3Ncblx0SFRNTEVsZW1lbnQucHJvdG90eXBlLnJlbW92ZUNsYXNzID0gZnVuY3Rpb24obmFtZSkge1xuXHQgIGlmICh0aGlzLmhhc0NsYXNzKG5hbWUpKSB7XG5cdCAgICB2YXIgc2VhcmNoID0gbmV3IFJlZ0V4cCgnKFxcXFxzfF4pJytuYW1lKycoXFxcXHN8JCknKTsgLy8gUmVnRXggdG8gaWRlbnRpZnkgbWF0Y2hcblx0ICAgIHZhciByZXBsYWNlID0gbmV3IFJlZ0V4cCgnKFxcXFxzfF4pJytuYW1lKTsgLy8gUmVnRXggdG8gcmVwbGFjZSBpZiBtYXRjaGVkXG5cdCAgICBpZiAoIHRoaXMuY2xhc3NOYW1lLnNlYXJjaChzZWFyY2gpICkge1xuXHQgICAgXHR0aGlzLmNsYXNzTmFtZSA9IHRoaXMuY2xhc3NOYW1lLnJlcGxhY2UocmVwbGFjZSwnJyk7XG5cdCAgICB9XG5cdCAgfVxuXHQgIHJldHVybiB0aGlzO1xuXHR9O1xuXG5cblxuXG5cblx0Lypcblx0ICogRnVuYzogZXhlY3V0ZU9uTG9hZFxuXHQgKiBEZXNjOiBFeGVjdXRlIHNwZWNpZmllZCBmdW5jdGlvbiB3aGVuIHRoZSBET00gaXMgcmVhZHkuIEhhbmRsZSBcblx0ICogQXJnczogQGZ1bmN0aW9uTmFtZSAtIEZ1bmN0aW9uIElkZW50aWZpZXIgLSBOYW1lIG9mIHRoZSBmdW5jdGlvbiB0byBleGVjdXRlXG5cdCAqL1xuXHRmdW5jdGlvbiBleGVjdXRlT25Mb2FkKCBmdW5jdGlvbk5hbWUgKSB7XG5cblx0XHQvLyBpbiBjYXNlIHRoZSBkb2N1bWVudCBpcyBhbHJlYWR5IHJlbmRlcmVkXG5cdFx0aWYgKGRvYy5yZWFkeVN0YXRlIT0nbG9hZGluZycpIGZ1bmN0aW9uTmFtZSgpO1xuXG5cdFx0Ly8gbW9kZXJuIGJyb3dzZXJzXG5cdFx0ZWxzZSBpZiAoZG9jLmFkZEV2ZW50TGlzdGVuZXIpIGRvYy5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb25OYW1lKTtcblxuXHRcdC8vIElFIDw9IDhcblx0XHRlbHNlIGRvYy5hdHRhY2hFdmVudCgnb25yZWFkeXN0YXRlY2hhbmdlJywgZnVuY3Rpb24oKXtcblx0XHQgICAgaWYgKGRvYy5yZWFkeVN0YXRlPT0nY29tcGxldGUnKSBmdW5jdGlvbk5hbWUoKTtcblx0XHR9KTtcblxuXHR9IC8vIGV4ZWN1dGVPbkxvYWRcblxuXG5cblxuXHQvKlxuXHQgKiBGdW5jOiBlbEV4aXN0c1xuXHQgKiBEZXNjOiBDaGVjayB3aGV0aGVyIGFuIGVsZW1lbnQgYXBwZWFycyBpbiB0aGUgRE9NXG5cdCAqIEFyZ3M6IEBjbGFzc05hbWUgLSBTdHJpbmcgLSBOYW1lIG9mIHRoZSBjbGFzcyBvbiB0aGUgZWxlbWVudCB0byBzZWFyY2ggZm9yXG5cdCAqIFx0XHQgQGNvbnRhaW5lciAtIEhUTUwgRWxlbWVudCAtIENvbnRleHQgZm9yIGZpbmRpbmcgdGhlIGVsZW1lbnQgKGNvdWxkIGJlIGRvY3VtZW50KVxuXHQgKi9cblx0ZnVuY3Rpb24gZWxFeGlzdHMoIGNsYXNzTmFtZSwgY29udGFpbmVyICkge1xuXG5cdFx0cmV0dXJuIGNvbnRhaW5lci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCBjbGFzc05hbWUgKS5sZW5ndGggPiAwO1xuXG5cdH0gLy8gZWxFeGlzdHNcblxuXG5cblxuXHQvKlxuXHQgKiBGdW5jOiBoYXNDaGlsZHJlblxuXHQgKiBEZXNjOiBDaGVjayB3aGV0aGVyIGFuIGVsZW1lbnQgaGFzIGNoaWxkcmVuXG5cdCAqIEFyZ3M6IEBjbGFzc05hbWUgLSBTdHJpbmcgLSBOYW1lIG9mIHRoZSBlbGVtZW50J3MgY2xhc3Ncblx0ICogXHRcdCBAY29udGFpbmVyIC0gSFRNTCBFbGVtZW50IC0gQ29udGV4dCBmb3IgZmluZGluZyB0aGUgZWxlbWVudCAoY291bGQgYmUgZG9jdW1lbnQpXG5cdCAqL1xuXHRmdW5jdGlvbiBoYXNDaGlsZHJlbiggY2xhc3NOYW1lLCBjb250YWluZXIgKSB7XG5cblx0XHR2YXIgaGFzQ2hpbGRyZW4gPSBmYWxzZTtcblx0XHR2YXIgZWxzO1xuXG5cdFx0aWYgKCBlbEV4aXN0cyggY2xhc3NOYW1lLCBjb250YWluZXIgKSApIHtcblx0XHRcdGVscyA9IGNvbnRhaW5lci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCBjbGFzc05hbWUgKTtcblxuXHRcdFx0QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChlbHMsIGZ1bmN0aW9uKGVsKSB7XG5cdFx0XHRcdGlmIChlbC5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0aGFzQ2hpbGRyZW4gPSB0cnVlO1xuXHRcdFx0XHR9IFxuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGhhc0NoaWxkcmVuO1xuXG5cdH0gLy8gaGFzQ2hpbGRyZW5cblxuXG5cblxuXHQvLyBFeHBvc2UgcHVibGljIG1ldGhvZHNcblx0cmV0dXJuIHtcblx0XHRleGVjdXRlT25Mb2FkOiBleGVjdXRlT25Mb2FkLFxuXHRcdGVsRXhpc3RzOiBlbEV4aXN0cyxcblx0XHRoYXNDaGlsZHJlbjogaGFzQ2hpbGRyZW4sXG5cdH1cblxufSkoKTsiLCJ2YXIgYnl1X2hlYWRlciA9IChmdW5jdGlvbigpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIGRvYyA9IGRvY3VtZW50OyAvLyBQdXQgdGhpcyBpbiBhIHZhcmlhYmxlIHRvIGVuYWJsZSBzbWFsbGVyIGNvbXByZXNzaW9uXG5cdHZhciBtZW51T3BlbkR1cmF0aW9uID0gMzAwO1xuXG5cdC8vIEZvciBjb21wcmVzc2lvbjogaWYgYSBzdHJpbmcgaXMgdXNlZCBtb3JlIHRoYW4gb25jZSwgcHV0IGl0IGluIGEgdmFyaWFibGVcblx0dmFyIGpzSW5pdENsYXNzID0gJ2pzLWVuYWJsZWQnO1xuXHR2YXIgZXhwYW5kZWRBdHRyID0gJ2FyaWEtZXhwYW5kZWQnO1xuXHR2YXIgbWVudU9wZW5DbGFzcyA9ICdtZW51LW9wZW4nO1xuXHR2YXIgc2l0ZU5hdkNsYXNzID0gJ2J5dS1zaXRlLW5hdmlnYXRpb24nO1xuXHR2YXIgc2l0ZUFjdGlvbkNsYXNzID0gJ2J5dS1hY3Rpb24taWQtc2VhcmNoJztcblxuXG5cblxuXHQvLyBFeGVjdXRlIHRoZSBpbml0aWFsaXplIGZ1bmN0aW9uXG5cdGJ5dV9tYWluLmV4ZWN1dGVPbkxvYWQoIGluaXQgKTtcblxuXG5cblxuXG5cdC8qXG5cdCAqIEZ1bmM6IGluaXRcblx0ICogRGVzYzogSW5pdGlhbGl6ZSB0aGUgaGVhZGVyIGJ1dHRvbiBmb3IgYWxsIEJZVSBoZWFkZXJzIG9uIHBhZ2Vcblx0ICogXHRcdCAoaGFuZGxlcyBtdWx0aXBsZSBoZWRlcnMgKVxuXHQgKiBBcmdzOiBub25lXG5cdCAqL1xuXHRmdW5jdGlvbiBpbml0KCkge1xuXG5cdFx0dmFyIGhlYWRlckVscyA9IGRvYy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdieXUtaGVhZGVyJyk7XG5cblx0XHRBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGhlYWRlckVscywgZnVuY3Rpb24oZWwpIHtcblx0XHRcdGVuYWJsZU1vYmlsZU1lbnUoIGVsICk7XG5cdFx0fSk7XG5cblx0fSAvLyBpbml0XG5cblxuXG5cblx0Lypcblx0ICogRnVuYzogZW5hYmxlTW9iaWxlTWVudVxuXHQgKiBEZXNjOiBJbml0aWFsaXplIHRoZSBoZWFkZXIgYnV0dG9uXG5cdCAqIEFyZ3M6IEBoZWFkZXJFbCAtIEhUTUwgRWxlbWVudCAtIFRoZSBoZWFkZXIgdGhhdCBjb250YWlucyB0aGUgbW9iaWxlIG1lbnUgdG8gZW5hYmxlXG5cdCAqL1xuXHRmdW5jdGlvbiBlbmFibGVNb2JpbGVNZW51KCBoZWFkZXJFbCApIHtcblxuXHRcdGhlYWRlckVsLmhhc05hdiA9IGJ5dV9tYWluLmVsRXhpc3RzKHNpdGVOYXZDbGFzcywgaGVhZGVyRWwpO1xuXHRcdGhlYWRlckVsLmhhc0FjdGlvbnMgPSBieXVfbWFpbi5oYXNDaGlsZHJlbihzaXRlQWN0aW9uQ2xhc3MsIGhlYWRlckVsKTtcblxuXHRcdHZhciBzaG93TWVudUJ1dHRvbiA9IGhlYWRlckVsLmhhc05hdiB8fCBoZWFkZXJFbC5oYXNBY3Rpb25zO1xuXG5cdFx0aWYgKCBzaG93TWVudUJ1dHRvbiApIHtcblx0XHRcdGhlYWRlckVsLmFkZENsYXNzKGpzSW5pdENsYXNzKTtcblx0XHRcdGluaXRNZW51QnV0dG9uKCBoZWFkZXJFbCApO1xuXG5cdFx0XHRoZWFkZXJFbC5uYXZFbCA9IGhlYWRlckVsLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoIHNpdGVOYXZDbGFzcyApWzBdO1xuXHRcdFx0aGVhZGVyRWwuYWN0aW9uc0VsID0gaGVhZGVyRWwuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSggc2l0ZUFjdGlvbkNsYXNzIClbMF07XG5cdFx0fVxuXG5cdH0gLy8gZW5hYmxlTW9iaWxlTWVudVxuXG5cblxuXG5cdC8qXG5cdCAqIEZ1bmM6IGluaXRNZW51QnV0dG9uXG5cdCAqIERlc2M6IFxuXHQgKiBBcmdzOiBAaGVhZGVyRWwgLSBIVE1MIEVsZW1lbnQgLSBUaGUgaGVhZGVyIGVsZW1lbnQgdGhhdCBjb250YWlucyB0aGUgbWVudSBidXR0b24gdG8gZW5hYmxlXG5cdCAqL1xuXHRmdW5jdGlvbiBpbml0TWVudUJ1dHRvbiggaGVhZGVyRWwgKSB7XG5cdFx0dmFyIG1lbnVCdXR0b24gPSBoZWFkZXJFbC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdieXUtbWVudS1idXR0b24nKVswXTtcblxuXHRcdG1lbnVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKXtcblx0XHRcdGNsaWNrTWVudUJ1dHRvbiggZS50YXJnZXQsIGhlYWRlckVsICk7XG5cdFx0fSk7XG5cdH0gLy8gaW5pdE1lbnVCdXR0b25cblxuXG5cblxuXHQvKlxuXHQgKiBGdW5jOiBjbGlja01lbnVCdXR0b25cblx0ICogRGVzYzogSGFuZGxlIGNsaWNrIGV2ZW50cyBvbiBhIG1vYmlsZSBtZW51IGJ1dHRvbiB3aXRoaW4gYSBoZWFkZXJcblx0ICogQXJnczogQGJ0biAtIEhUTUwgRWxlbWVudCAtIFRoZSBidXR0b24gZWxlbWVudCB0aGF0IGhhcyBiZWVuIGNsaWNrZWRcblx0ICpcdFx0IEBoZWFkZXJFbCAtIEhUTUwgRWxlbWVudCAtIFRoZSBoZWFkZXIgZWxlbWVudCB3aG9zZSBtZW51IGJ1dHRvbiBoYXMgYmVlbiBjbGlja2VkXG5cdCAqL1xuXHRmdW5jdGlvbiBjbGlja01lbnVCdXR0b24oIGJ0biwgaGVhZGVyRWwgKSB7XG5cdFx0dmFyIG9wZW4gPSBidG4uZ2V0QXR0cmlidXRlKGV4cGFuZGVkQXR0cikgIT0gJ2ZhbHNlJztcblx0XHR2YXIgb3BlbmluZyA9IGZhbHNlO1xuXHRcdFxuXHRcdC8vIE9wZW5cblx0XHRpZiAoICFvcGVuICYmICFvcGVuaW5nICkge1xuXHRcdFx0b3Blbk1lbnUoIGJ0biwgaGVhZGVyRWwgKTtcblx0XHR9XG5cblx0XHQvLyBDbG9zZVxuXHRcdGVsc2Uge1xuXHRcdFx0Y2xvc2VNZW51KCBidG4sIGhlYWRlckVsICk7XG5cdFx0fVxuXHR9IC8vIGNsaWNrTWVudUJ1dHRvblxuXG5cblxuXG5cdC8qXG5cdCAqIEZ1bmM6IG9wZW5NZW51XG5cdCAqIERlc2M6IE9wZW4gYSBtb2JpbGUgbWVudSB3aXRoaW4gYSBoZWFkZXJcblx0ICogQXJnczogQGJ0biAtIEhUTUwgRWxlbWVudCAtIFRoZSBidXR0b24gZWxlbWVudCB0aGF0IGNvbnRyb2xzIHRoZSBtZW51IHdoaWNoIHNob3VsZCBiZSBvcGVuZWRcblx0ICpcdFx0IEBoZWFkZXJFbCAtIEhUTUwgRWxlbWVudCAtIFRoZSBoZWFkZXIgZWxlbWVudCB3aG9zZSBtZW51IHNob3VsZCBiZSBvcGVuZWRcblx0ICovXG5cdGZ1bmN0aW9uIG9wZW5NZW51KCBidG4sIGhlYWRlckVsICkge1xuXG5cdFx0Ly8gU2V0IHRoZSBvcGVuL2Nsb3NlZCBhdHRyaWJ1dGUgb24gdGhlIGJ1dHRvblxuXHRcdGJ0bi5zZXRBdHRyaWJ1dGUoZXhwYW5kZWRBdHRyLCB0cnVlKTtcblxuXHRcdC8vIFNldCB0aGUgb3Blbi9jbG9zZWQgYXR0cmlidXRlIG9uIHRoZSBoZWFkZXJcblx0XHRmdW5jdGlvbiBhZGRPcGVuQ2xhc3MoKSB7XG5cdFx0XHRpZiAoICFoZWFkZXJFbC5oYXNDbGFzcyggbWVudU9wZW5DbGFzcyApICkge1xuXHRcdFx0XHRoZWFkZXJFbC5hZGRDbGFzcyggbWVudU9wZW5DbGFzcyApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIEFuaW1hdGUgdGhlIGVsZW1lbnRzXG5cdFx0aWYgKCBoZWFkZXJFbC5oYXNOYXYgKSB7XG5cdFx0XHR2YXIgbmF2ID0gaGVhZGVyRWwubmF2RWw7XG5cdFx0XHR2YXIgbmF2SGVpZ2h0ID0gbmF2Lm9mZnNldEhlaWdodDtcblx0XHRcdHZhciBuYXZFbmRIZWlnaHQgPSBhbmltYXRlLmdldE5hdHVyYWxIZWlnaHQoIG5hdiApO1xuXG5cdFx0XHRhbmltYXRlLmFuaW1hdGVIZWlnaHQoIG5hdiwgeyBzdGFydDogbmF2SGVpZ2h0LCBlbmQ6IG5hdkVuZEhlaWdodCwgZHVyYXRpb246IG1lbnVPcGVuRHVyYXRpb24sIGZpbmlzaDogYWRkT3BlbkNsYXNzIH0gKTtcblx0XHR9XG5cblx0XHRpZiAoIGhlYWRlckVsLmhhc0FjdGlvbnMgKSB7XG5cdFx0XHR2YXIgYWN0aW9ucyA9IGhlYWRlckVsLmFjdGlvbnNFbDtcblx0XHRcdHZhciBhY3Rpb25zSGVpZ2h0ID0gYWN0aW9ucy5vZmZzZXRIZWlnaHQ7XG5cdFx0XHR2YXIgYWN0aW9uc0VuZEhlaWdodCA9IGFuaW1hdGUuZ2V0TmF0dXJhbEhlaWdodCggYWN0aW9ucywgXCJhY3Rpb25zSGVpZ2h0V3JhcHBlclwiICk7XG5cblx0XHRcdGFuaW1hdGUuYW5pbWF0ZUhlaWdodCggYWN0aW9ucywgeyBzdGFydDogYWN0aW9uc0hlaWdodCwgZW5kOiBhY3Rpb25zRW5kSGVpZ2h0LCBkdXJhdGlvbjogbWVudU9wZW5EdXJhdGlvbiwgZmluaXNoOiBhZGRPcGVuQ2xhc3MgfSApO1xuXHRcdH1cblxuXHR9IC8vIG9wZW5NZW51XG5cblxuXG5cdC8qXG5cdCAqIEZ1bmM6IGNsb3NlTWVudVxuXHQgKiBEZXNjOiBDbG9zZSBhIG1vYmlsZSBtZW51IHdpdGhpbiBhIGhlYWRlclxuXHQgKiBBcmdzOiBAYnRuIC0gSFRNTCBFbGVtZW50IC0gVGhlIGJ1dHRvbiBlbGVtZW50IHRoYXQgY29udHJvbHMgdGhlIG1lbnUgd2hpY2ggc2hvdWxkIGJlIGNsb3NlZFxuXHQgKlx0XHQgQGhlYWRlckVsIC0gSFRNTCBFbGVtZW50IC0gVGhlIGhlYWRlciBlbGVtZW50IHdob3NlIG1lbnUgc2hvdWxkIGJlIGNsb3NlZFxuXHQgKi9cblx0ZnVuY3Rpb24gY2xvc2VNZW51KCBidG4sIGhlYWRlckVsICkge1xuXG5cdFx0Ly8gU2V0IHRoZSBvcGVuL2Nsb3NlZCBhdHRyaWJ1dGUgb24gdGhlIGJ1dHRvblxuXHRcdGJ0bi5zZXRBdHRyaWJ1dGUoZXhwYW5kZWRBdHRyLCBmYWxzZSk7XG5cblx0XHQvLyBTZXQgdGhlIG9wZW4vY2xvc2VkIGF0dHJpYnV0ZSBvbiB0aGUgaGVhZGVyXG5cblx0XHRmdW5jdGlvbiByZW1vdmVPcGVuQ2xhc3MoKSB7XG5cdFx0XHRoZWFkZXJFbC5yZW1vdmVDbGFzcyggbWVudU9wZW5DbGFzcyApO1x0XHRcdFxuXHRcdH1cblxuXHRcdC8vIEFuaW1hdGUgdGhlIGVsZW1lbnRzXG5cdFx0aWYgKCBoZWFkZXJFbC5oYXNOYXYgKSB7XG5cdFx0XHR2YXIgbmF2ID0gaGVhZGVyRWwubmF2RWw7XG5cdFx0XHR2YXIgbmF2SGVpZ2h0ID0gbmF2Lm9mZnNldEhlaWdodDtcblxuXHRcdFx0YW5pbWF0ZS5hbmltYXRlSGVpZ2h0KCBuYXYsIHsgc3RhcnQ6IG5hdkhlaWdodCwgZW5kOiAwLCBmaW5pc2g6IHJlbW92ZU9wZW5DbGFzcyB9ICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBoZWFkZXJFbC5oYXNBY3Rpb25zICkge1xuXHRcdFx0dmFyIGFjdGlvbnMgPSBoZWFkZXJFbC5hY3Rpb25zRWw7XG5cdFx0XHR2YXIgYWN0aW9uc0hlaWdodCA9IGFjdGlvbnMub2Zmc2V0SGVpZ2h0O1xuXG5cdFx0XHRhbmltYXRlLmFuaW1hdGVIZWlnaHQoIGFjdGlvbnMsIHsgc3RhcnQ6IGFjdGlvbnNIZWlnaHQsIGVuZDogMCwgZmluaXNoOiByZW1vdmVPcGVuQ2xhc3MgfSApO1xuXHRcdH1cblxuXHR9IC8vIGNsb3NlTWVudVxuXG5cbn0pKCk7IiwiLypcbiAqIE1vZHVsZTogQllVIFRhYmxlXG4gKiBEZXNjOiAgIEhhbmRsZSB0YWJsZXMgdGhhdCBhcmUgd2lkZXIgdGhhbiB0aGllciBjb250YWluZXJcbiAqL1xuXG52YXIgYnl1X3RhYmxlID0gKGZ1bmN0aW9uKCl7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBkb2MgPSBkb2N1bWVudDtcblxuXG5cdC8vIEV4ZWN1dGUgdGhlIGZ1bmN0aW9uXG5cdGJ5dV9tYWluLmV4ZWN1dGVPbkxvYWQoIHVwZGF0ZVRhYmxlcyApO1xuXHRcblxuXHQvKlxuXHQgKiBGdW5jOiBVcGRhdGVUYWJsZXNcblx0ICogRGVzYzogRGV0ZWN0IGFuZCBoYW5kbGUgdGFibGVzIHRoYXQgYXJlIHdpZGVyIHRoYW4gdGhlaXIgY29udGFpbmVyLlxuXHQgKiBcdFx0IFdvcmtzIG9uIHRhYmxlcyBjb250YWluZWQgd2l0aGluIGFuIGVsZW1lbnQgb2YgY2xhc3MgXCJ0YWJsZS1jb250YWluZXJcIi5cblx0ICogQXJnczogbm9uZVxuXHQgKi9cblx0ZnVuY3Rpb24gdXBkYXRlVGFibGVzKCkge1xuXHRcdHZhciBjb250YWluZXJzID0gZG9jLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJ0YWJsZS1jb250YWluZXJcIik7XG5cblx0XHRmb3IgKHZhciBpPTA7IGkgPCBjb250YWluZXJzLmxlbmd0aDsgaSsrKSB7XG5cdFx0ICAgIHZhciBjb250YWluZXIgPSBjb250YWluZXJzW2ldO1xuXHRcdCAgICB1cGRhdGVUYWJsZSggY29udGFpbmVyICk7XG5cdFx0fVxuXHR9XG5cblxuXHQvKlxuXHQgKiBGdW5jOiBVcGRhdGVUYWJsZVxuXHQgKiBEZXNjOiBDaGVjayBpZiBhIHRhYmxlIGlzIHdpZGVyIHRoYW4gaXRzIGNvbnRhaW5lciwgYW5kIG1hcmsgc2Nyb2xsaW5nIHBvc2l0aW9uIHdpdGhpbiBpdFxuXHQgKiBBcmdzOiBAY29udGFpbmVyIC0gSFRNTCBFbGVtZW50IC0gQSBjb250YWluZXIgZWxlbWVudCBmb3IgYSB0YWJsZSAocHJvYmFibHkgb2YgY2xhc3MgXCJ0YWJsZS1jb250YWluZXJcIilcblx0ICovXG5cdGZ1bmN0aW9uIHVwZGF0ZVRhYmxlKCBjb250YWluZXIgKSB7XG5cdFx0dmFyIGNfd2lkdGggPSBjb250YWluZXIub2Zmc2V0V2lkdGg7XG5cdCAgICB2YXIgdGFibGUgPSBjb250YWluZXIuIGdldEVsZW1lbnRzQnlUYWdOYW1lKFwidGFibGVcIilbMF07XG5cdCAgICB2YXIgdF93aWR0aCA9IHRhYmxlLm9mZnNldFdpZHRoO1xuXHQgICAgdmFyIHRhYmxlX3dpZGVfY2xhc3MgPSBcInRhYmxlLXdpZGVcIjtcblx0ICAgIHZhciBzdGFydF92aXNpYmxlX2NsYXNzID0gXCJzdGFydC12aXNpYmxlXCI7XG5cdCAgICB2YXIgZW5kX3Zpc2libGVfY2xhc3MgPSBcImVuZC12aXNpYmxlXCI7XG5cblx0ICAgIGlmICggY193aWR0aCA8IHRfd2lkdGggKSB7XG5cblx0ICAgIFx0Ly8gQWRkIHRhYmxlIHdpZGUgY2xhc3MgaWYgaXQncyBub3QgYWxyZWFkeSB0aGVyZVxuXHQgICAgXHRpZiAoICFjb250YWluZXIuaGFzQ2xhc3MoIHRhYmxlX3dpZGVfY2xhc3MgKSApIHsgXG5cdFx0ICAgIFx0Y29udGFpbmVyLmFkZENsYXNzKCB0YWJsZV93aWRlX2NsYXNzICk7XG5cdFx0ICAgIH1cblxuXHQgICAgXHQvLyBDaGVjayBpZiB0aGUgc3RhcnQgb2YgdGhlIHRhYmxlIGlzIHZpc2libGUgYW5kIGhhbmRsZVxuXHQgICAgXHRpZiAoIHRhYmxlLnNjcm9sbExlZnQgPT0gMCApIHtcblx0ICAgIFx0XHRpZiAoICFjb250YWluZXIuaGFzQ2xhc3MoIHN0YXJ0X3Zpc2libGVfY2xhc3MgKSApIHtcblx0XHQgICAgXHRcdGNvbnRhaW5lci5hZGRDbGFzcyggc3RhcnRfdmlzaWJsZV9jbGFzcyApO1xuXHQgICAgXHRcdH1cblx0ICAgIFx0fSBlbHNlIHtcblx0ICAgIFx0XHRjb250YWluZXIucmVtb3ZlQ2xhc3MoIHN0YXJ0X3Zpc2libGVfY2xhc3MgKTtcblx0ICAgIFx0fVxuXG5cdCAgICBcdC8vIENoZWNrIGlmIHRoZSBlbmQgb2YgdGhlIHRhYmxlIGlzIHZpc2libGUgYW5kIGhhbmRsZVxuXHQgICAgXHRpZiAoIHRfd2lkdGggLSB0YWJsZS5zY3JvbGxMZWZ0ID09IGNfd2lkdGggKSB7XG5cdCAgICBcdFx0aWYgKCAhY29udGFpbmVyLmhhc0NsYXNzKCBlbmRfdmlzaWJsZV9jbGFzcyApICkge1xuXHRcdCAgICBcdFx0Y29udGFpbmVyLmFkZENsYXNzKCBlbmRfdmlzaWJsZV9jbGFzcyApO1xuXHQgICAgXHRcdH1cblx0ICAgIFx0fSBlbHNlIHtcblx0ICAgIFx0XHRjb250YWluZXIucmVtb3ZlQ2xhc3MoIGVuZF92aXNpYmxlX2NsYXNzICk7XG5cdCAgICBcdH1cblx0ICAgIH0gXG5cblx0ICAgIC8vIFRoZSB0YWJsZSBpcyBub3QgdG9vIHdpZGUgZm9yIGl0cyBjb250YWluZXJcblx0ICAgIGVsc2Uge1xuXHQgICAgXHRjb250YWluZXIucmVtb3ZlQ2xhc3MoIHRhYmxlX3dpZGVfY2xhc3MgKTtcblx0ICAgIH1cblx0fVxuXG59KSgpOyJdfQ==
