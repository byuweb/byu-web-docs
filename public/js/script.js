var animate=function(){var n,a,l=(a=(n=[0,6e-5,24e-5,54e-5,97e-5,.00153,.00221,.00303,.00398,.00506,.00629,.00765,.00916,.01081,.0126,.01455,.01664,.01889,.0213,.02386,.02658,.02946,.0325,.03571,.03908,.04262,.04632,.05019,.05423,.05844,.06283,.06738,.0721,.07699,.08206,.0873,.0927,.09827,.104,.1099,.11597,.12219,.12857,.1351,.14179,.14861,.15559,.16271,.16995,.17734,.18484,.19247,.20021,.20805,.216,.22405,.23219,.24041,.24871,.25708,.26552,.27401,.28256,.29114,.29978,.30844,.31712,.32583,.33455,.34328,.352,.36073,.36945,.37815,.38682,.39548,.40411,.41269,.42126,.42977,.43824,.44666,.45502,.46334,.4716,.4798,.48793,.496,.50399,.51192,.51978,.52757,.53528,.54293,.55049,.55796,.56538,.5727,.57996,.58713,.59421,.60122,.60815,.615,.62175,.62844,.63504,.64157,.648,.65437,.66064,.66684,.67296,.679,.68496,.69084,.69665,.70238,.70803,.7136,.71911,.72452,.72988,.73515,.74036,.74549,.75054,.75554,.76045,.7653,.77007,.77479,.77942,.784,.78851,.79295,.79733,.80163,.80589,.81007,.81419,.81825,.82225,.82619,.83007,.83388,.83765,.84135,.845,.84858,.85211,.85559,.85902,.86239,.8657,.86895,.87217,.87532,.87842,.88149,.88448,.88743,.89034,.89319,.896,.89876,.90147,.90414,.90675,.90933,.91185,.91434,.91678,.91917,.92152,.92383,.92609,.92831,.93049,.93264,.93473,.9368,.93881,.94079,.94273,.94463,.9465,.94832,.95011,.95186,.95357,.95525,.95689,.95849,.96006,.9616,.96309,.96455,.96599,.96738,.96874,.97007,.97136,.97263,.97386,.97506,.97623,.97736,.97847,.97954,.98058,.98159,.98258,.98353,.98445,.98535,.98621,.98705,.98786,.98864,.98939,.99011,.99081,.99147,.99212,.99273,.99332,.99388,.99442,.99493,.99541,.99587,.9963,.99671,.99709,.99745,.99779,.9981,.99838,.99865,.99888,.9991,.99929,.99946,.9996,.99972,.99982,.9999,.99996,.99999,1]).length-1,function(e){var t=Math.round(e*a);return n[t]}),u="animating";return{animateHeight:function(t,e){var a,s,i,r,n=Object.assign({start:0,end:100,fadeIn:!0,duration:200,units:"px"},e),o=l;t.style.height=n.start+n.units,addClass(t,u),t.animation=(a={duration:n.duration,delta:o,step:function(e){t.style.height=n.start+(n.end-n.start)*e+n.units},finish:function(){removeClass(t,u),t.style.removeProperty("height"),"function"==typeof n.finish&&n.finish()},interrupt:function(){removeClass(t,u),t.style.removeProperty("height"),"function"==typeof n.interrupt&&n.interrupt()}},s=new Date,i=!1,r=function(){var e=new Date-s,t=e/a.duration;1<t&&(t=1);var n=a.delta(t);a.step(n),i&&a.interrupt?a.interrupt():t<1?window.requestAnimationFrame(r):a.finish&&a.finish()},window.requestAnimationFrame(r),{stop:function(){i=!0}})},getNaturalHeight:function(e){var t,n;return n=(t=function(e,t){var n=document.createElement(t);for(e.appendChild(n);e.firstChild&&e.firstChild!==n;)n.appendChild(e.firstChild);return n}(e,"div")).offsetHeight,function(e){for(var t=e.parentNode;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)}(t),n}}}(),byu_main=function(){var t=document;function s(e,t){return 0<t.getElementsByClassName(e).length}return HTMLElement.prototype.hasClass=function(e){return this.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))},HTMLElement.prototype.addClass=function(e){for(var t=e.split(","),n=0;n<t.length;n++)-1==(" "+this.className+" ").indexOf(" "+t[n]+" ")&&(this.className+=" "+t[n]);return this},HTMLElement.prototype.removeClass=function(e){if(this.hasClass(e)){var t=new RegExp("(\\s|^)"+e+"(\\s|$)"),n=new RegExp("(\\s|^)"+e);this.className.search(t)&&(this.className=this.className.replace(n,""))}return this},{executeOnLoad:function(e){"loading"!=t.readyState?e():t.addEventListener?t.addEventListener("DOMContentLoaded",e):t.attachEvent("onreadystatechange",function(){"complete"==t.readyState&&e()})},elExists:s,hasChildren:function(e,t){var n,a=!1;return s(e,t)&&(n=t.getElementsByClassName(e),Array.prototype.forEach.call(n,function(e){0<e.children.length&&(a=!0)})),a}}}(),byu_header=function(){"use strict";var t=document,n="js-enabled",r="aria-expanded",o="menu-open";byu_main.executeOnLoad(function(){var e=t.getElementsByClassName("byu-header");Array.prototype.forEach.call(e,function(e){var t,i;t=e,(byu_main.elExists("byu-site-navigation",t)||byu_main.hasChildren("byu-action-id-search",t))&&(t.addClass(n),(i=t).getElementsByClassName("byu-menu-button")[0].addEventListener("click",function(e){var t,n,a,s;t=e.target,n=i,"false"!=t.getAttribute(r)?(a=n,t.setAttribute(r,!1),a.removeClass(o)):(s=n,t.setAttribute(r,!0),s.hasClass(o)||s.addClass(o))}))})})}(),byu_table=function(){"use strict";var a=document;function s(e){var t=e.offsetWidth,n=e.getElementsByTagName("table")[0],a=n.offsetWidth,s="table-wide",i="start-visible",r="end-visible";t<a?(e.hasClass(s)||e.addClass(s),0==n.scrollLeft?e.hasClass(i)||e.addClass(i):e.removeClass(i),a-n.scrollLeft==t?e.hasClass(r)||e.addClass(r):e.removeClass(r)):e.removeClass(s)}byu_main.executeOnLoad(function(){for(var e=a.getElementsByClassName("table-container"),t=0;t<e.length;t++){var n=e[t];s(n)}})}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFuaW1hdGUuanMiLCJtYWluLmpzIiwiaGVhZGVyL2hlYWRlci5qcyIsIjAtZm91bmRhdGlvbi90YWJsZS90YWJsZS5qcyJdLCJuYW1lcyI6WyJhbmltYXRlIiwieUNvb3JkaW5hdGVzIiwibGVuIiwiZWFzZUZ1bmN0aW9uIiwibGVuZ3RoIiwicHJvZ3Jlc3MiLCJwIiwiTWF0aCIsInJvdW5kIiwiYW5pbWF0aW5nQ2xhc3MiLCJhbmltYXRlSGVpZ2h0IiwiZWwiLCJzZXR0aW5nc09iaiIsIm9wdHMiLCJzdGFydCIsImludGVycnVwdCIsInJlbmRlciIsInMiLCJPYmplY3QiLCJhc3NpZ24iLCJlbmQiLCJmYWRlSW4iLCJkdXJhdGlvbiIsInVuaXRzIiwiZWFzZSIsInN0eWxlIiwiaGVpZ2h0IiwiYWRkQ2xhc3MiLCJhbmltYXRpb24iLCJkZWx0YSIsInN0ZXAiLCJmaW5pc2giLCJyZW1vdmVDbGFzcyIsInJlbW92ZVByb3BlcnR5IiwiRGF0ZSIsInRpbWVQYXNzZWQiLCJ3aW5kb3ciLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJzdG9wIiwiZ2V0TmF0dXJhbEhlaWdodCIsIndyYXBwZXIiLCJ3cmFwIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJmaXJzdENoaWxkIiwid3JhcElubmVyIiwib2Zmc2V0SGVpZ2h0IiwicGFyZW50IiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSIsInJlbW92ZUNoaWxkIiwidW53cmFwIiwiYnl1X21haW4iLCJkb2MiLCJlbEV4aXN0cyIsImNsYXNzTmFtZSIsImNvbnRhaW5lciIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJIVE1MRWxlbWVudCIsInByb3RvdHlwZSIsImhhc0NsYXNzIiwibmFtZSIsInRoaXMiLCJtYXRjaCIsIlJlZ0V4cCIsIm5ld19jbGFzcyIsIm5jIiwic3BsaXQiLCJpIiwiaW5kZXhPZiIsInNlYXJjaCIsInJlcGxhY2UiLCJleGVjdXRlT25Mb2FkIiwiZnVuY3Rpb25OYW1lIiwicmVhZHlTdGF0ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJhdHRhY2hFdmVudCIsImhhc0NoaWxkcmVuIiwiZWxzIiwiQXJyYXkiLCJmb3JFYWNoIiwiY2FsbCIsImNoaWxkcmVuIiwiYnl1X2hlYWRlciIsImpzSW5pdENsYXNzIiwiZXhwYW5kZWRBdHRyIiwibWVudU9wZW5DbGFzcyIsImhlYWRlckVscyIsImhlYWRlckVsIiwiZSIsImJ0biIsInRhcmdldCIsImdldEF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsImJ5dV90YWJsZSIsInVwZGF0ZVRhYmxlIiwiY193aWR0aCIsIm9mZnNldFdpZHRoIiwidGFibGUiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInRfd2lkdGgiLCJ0YWJsZV93aWRlX2NsYXNzIiwic3RhcnRfdmlzaWJsZV9jbGFzcyIsImVuZF92aXNpYmxlX2NsYXNzIiwic2Nyb2xsTGVmdCIsImNvbnRhaW5lcnMiXSwibWFwcGluZ3MiOiJBQUdBLElBQUFBLFFBQUEsV0FFQSxJQTRIQUMsRUFDQUMsRUE3SEFDLEdBNkhBRCxHQURBRCxFQUFBLENBQUEsRUFBQSxLQUFBLE1BQUEsTUFBQSxNQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE1BQUEsT0FBQSxPQUFBLE9BQUEsTUFBQSxPQUFBLE9BQUEsT0FBQSxNQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE1BQUEsT0FBQSxPQUFBLE1BQUEsTUFBQSxPQUFBLEtBQUEsTUFBQSxPQUFBLE9BQUEsT0FBQSxNQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsS0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxLQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsTUFBQSxNQUFBLE9BQUEsS0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxNQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxLQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsS0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLEtBQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE1BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsTUFBQSxPQUFBLE9BQUEsT0FBQSxLQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxLQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxNQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLEtBQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxNQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsTUFBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsTUFBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxNQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsTUFBQSxPQUFBLE9BQUEsT0FBQSxNQUFBLE9BQUEsT0FBQSxNQUFBLE9BQUEsT0FBQSxNQUFBLE9BQUEsT0FBQSxJQUNBRyxPQUFBLEVBR0EsU0FBQUMsR0FDQSxJQUFBQyxFQUFBQyxLQUFBQyxNQUFBSCxFQUFB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LEVBQUE5RCxTQUFBNEQsV0EzR0EsR0NLQVEsVUFBQSxXQUVBLGFBRUEsSUFBQXpDLEVBQUFaLFNBNEJBLFNBQUFzRCxFQUFBdkMsR0FDQSxJQUFBd0MsRUFBQXhDLEVBQUF5QyxZQUNBQyxFQUFBMUMsRUFBQTJDLHFCQUFBLFNBQUEsR0FDQUMsRUFBQUYsRUFBQUQsWUFDQUksRUFBQSxhQUNBQyxFQUFBLGdCQUNBQyxFQUFBLGNBRUFQLEVBQUFJLEdBR0E1QyxFQUFBSSxTQUFBeUMsSUFDQTdDLEVBQUE5QixTQUFBMkUsR0FJQSxHQUFBSCxFQUFBTSxXQUNBaEQsRUFBQUksU0FBQTBDLElBQ0E5QyxFQUFBOUIsU0FBQTRFLEdBR0E5QyxFQUFBekIsWUFBQXVFLEdBSUFGLEVBQUFGLEVBQUFNLFlBQUFSLEVBQ0F4QyxFQUFBSSxTQUFBMkMsSUFDQS9DLEVBQUE5QixTQUFBNkUsR0FHQS9DLEVBQUF6QixZQUFBd0UsSUFNQS9DLEVBQUF6QixZQUFBc0UsR0E1REFqRCxTQUFBb0IsY0FTQSxXQUdBLElBRkEsSUFBQWlDLEVBQUFwRCxFQUFBSSx1QkFBQSxtQkFFQVcsRUFBQSxFQUFBQSxFQUFBcUMsRUFBQXRHLE9BQUFpRSxJQUFBLENBQ0EsSUFBQVosRUFBQWlELEVBQUFyQyxHQUNBMkIsRUFBQXZDLE1BdEJBIiwiZmlsZSI6InNjcmlwdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKiovXHJcbi8qISBBbmltYXRlICovXHJcblxyXG52YXIgYW5pbWF0ZSA9IChmdW5jdGlvbigpIHtcclxuXHJcbiAgICB2YXIgZWFzZUZ1bmN0aW9uID0gY3ViaWNCZXppZXJEZWZpbmVkKCk7XHJcbiAgICB2YXIgYW5pbWF0aW5nQ2xhc3MgPSAnYW5pbWF0aW5nJztcclxuXHJcbiAgICAvLyBBbmltYXRpb25cclxuXHJcbiAgICAvKlxyXG4gICAgICogRnVuYzogYW5pbWF0ZUhlaWdodFxyXG4gICAgICogRGVzYzogQW5pbWF0ZSB0aGUgaGVpZ2h0IG9mIGFuIGl0ZW1cclxuICAgICAqIEFyZ3M6IEBlbCAtIEhUTUwgRWxlbWVudCAtIFRoZSBIVE1MIGVsZW1lbnQgdG8gYW5pbWF0ZVxyXG4gICAgICogICAgICAgQHNldHRpbmdzT2JqIC0gT2JqZWN0IC0gQ29udGFpbnMgcHJvcGVydGllcyB0byBvdmVycmlkZSBkZWZhdWx0IHNldHRpbmdzXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGFuaW1hdGVIZWlnaHQoZWwsIHNldHRpbmdzT2JqKSB7XHJcblxyXG4gICAgICAgIC8vIFNldCBkZWZhdWx0cyBhbmQgb3ZlcndyaXRlIHdpdGggcGFzc2VkIG9iamVjdCAoc2V0dGluZ3NPYmopXHJcbiAgICAgICAgdmFyIHMgPSBPYmplY3QuYXNzaWduKHtcclxuICAgICAgICAgICAgc3RhcnQ6IDAsXHJcbiAgICAgICAgICAgIGVuZDogMTAwLFxyXG4gICAgICAgICAgICBmYWRlSW46IHRydWUsXHJcbiAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAsXHJcbiAgICAgICAgICAgIHVuaXRzOiBcInB4XCIsXHJcbiAgICAgICAgfSwgc2V0dGluZ3NPYmopO1xyXG5cclxuICAgICAgICB2YXIgZWFzZSA9IGVhc2VGdW5jdGlvbjtcclxuXHJcbiAgICAgICAgZWwuc3R5bGUuaGVpZ2h0ID0gcy5zdGFydCArIHMudW5pdHM7XHJcbiAgICAgICAgYWRkQ2xhc3MoZWwsIGFuaW1hdGluZ0NsYXNzKTtcclxuXHJcbiAgICAgICAgLy8gQW5pbWF0ZSBoZWlnaHQgYXQgaW5wdXQgcmF0ZVxyXG4gICAgICAgIGVsLmFuaW1hdGlvbiA9IGFuaW1hdGUoe1xyXG4gICAgICAgICAgICBkdXJhdGlvbjogcy5kdXJhdGlvbixcclxuICAgICAgICAgICAgZGVsdGE6IGVhc2UsXHJcbiAgICAgICAgICAgIHN0ZXA6IGZ1bmN0aW9uKGRlbHRhKSB7XHJcbiAgICAgICAgICAgICAgICBlbC5zdHlsZS5oZWlnaHQgPSBzLnN0YXJ0ICsgKChzLmVuZCAtIHMuc3RhcnQpICogZGVsdGEpICsgcy51bml0cztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZmluaXNoOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKGVsLCBhbmltYXRpbmdDbGFzcyk7XHJcbiAgICAgICAgICAgICAgICBlbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eShcImhlaWdodFwiKTtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygcy5maW5pc2ggPT0gXCJmdW5jdGlvblwiKSB7IHMuZmluaXNoKCk7IH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaW50ZXJydXB0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKGVsLCBhbmltYXRpbmdDbGFzcyk7XHJcbiAgICAgICAgICAgICAgICBlbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eShcImhlaWdodFwiKTtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygcy5pbnRlcnJ1cHQgPT0gXCJmdW5jdGlvblwiKSB7IHMuaW50ZXJydXB0KCk7IH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH0gLy8gYW5pbWF0ZUhlaWdodFxyXG5cclxuXHJcbiAgICAvKlxyXG4gICAgICogRnVuYzogYW5pbWF0ZVxyXG4gICAgICogRGVzYzogQW5pbWF0ZSBmdW5jdGlvblxyXG4gICAgICogU3JjOiAgaHR0cDovL2phdmFzY3JpcHQuaW5mby90dXRvcmlhbC9hbmltYXRpb24gKG1haW4gYW5pbWF0aW9uIGZ1bmN0aW9ucylcclxuICAgICAqICAgICAgIGh0dHA6Ly9jcmVhdGl2ZWpzLmNvbS9yZXNvdXJjZXMvcmVxdWVzdGFuaW1hdGlvbmZyYW1lLyAocmVxdWVzdEFuaW1hdGlvbkZyYW1lKVxyXG4gICAgICogQXJnczogQG9wdHMgLSBPYmplY3QgLSBUaGUgb3B0aW9ucyBvYmplY3RcclxuICAgICAqICAgICAgICAgY29udGFpbnM6IEBkdXJhdGlvbiAtIE51bWJlciAtIE1pbGxpc2Vjb25kcyBmb3IgdG90YWwgYW5pbWF0aW9uXHJcbiAgICAgKiAgICAgICAgICAgICAgICAgICBAZGVsdGEgLSBGdW5jdGlvbiAtIEVhc2luZyBmdW5jdGlvblxyXG4gICAgICogICAgICAgICAgICAgICAgICAgQHN0ZXAgLSBGdW5jdGlvbiAtIFJlc3VsdCBmdW5jdGlvbiAod2hhdCBzaG91bGQgaGFwcGVuIG9uIHNjcmVlbiBlYWNoIGZyYW1lKVxyXG4gICAgICogICAgICAgICAgICAgICAgICAgQGZpbmlzaCAtIEZ1bmN0aW9uIC0gb3B0aW9uYWwtIEVuZCBmdW5jdGlvbiAod2hhdCBoYXBwZW5zIHdoZW4gYW5pbWF0aW9uIGZpbmlzaGVzKVxyXG4gICAgICogICAgICAgICAgICAgICAgICAgQGludGVycnVwdCAtIEZ1bmN0aW9uIC0gb3B0aW9uYWwtIEVuZCBmdW5jdGlvbiAod2hhdCBoYXBwZW5zIGlmIGFuaW1hdGlvbiBpcyBpbnRlcnJ1cHRlZClcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gYW5pbWF0ZShvcHRzKSB7XHJcblxyXG4gICAgICAgIHZhciBzdGFydCA9IG5ldyBEYXRlKCk7IC8vIEdldCB0aGUgc3RhcnQgdGltZVxyXG4gICAgICAgIHZhciBpbnRlcnJ1cHQgPSBmYWxzZTsgLy8gSWYgdGhpcyBpcyB0cnVlLCBhbmltYXRpb24gd2lsbCBzdG9wXHJcbiAgICAgICAgdmFyIHN0b3AgPSBmdW5jdGlvbigpIHsgaW50ZXJydXB0ID0gdHJ1ZTsgfTsgLy8gU3RvcHMgdGhpcyBhbmltYXRpb25cclxuXHJcbiAgICAgICAgLy8gVGhlIHJlbmRlciBmdW5jdGlvblxyXG4gICAgICAgIHZhciByZW5kZXIgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHRpbWVQYXNzZWQgPSBuZXcgRGF0ZSgpIC0gc3RhcnQ7IC8vIFRoZSBhbW91bnQgb2YgdGltZSBlbGFwc2VkIHNpbmNlIHN0YXJ0XHJcbiAgICAgICAgICAgIHZhciBwcm9ncmVzcyA9IHRpbWVQYXNzZWQgLyBvcHRzLmR1cmF0aW9uOyAvLyBQZXJjZW50YWdlIG9mIHRpbWUgcGFzc2VkIGluIGZ1bGwgZXhwZWN0ZWQgZHVyYXRpb25cclxuXHJcbiAgICAgICAgICAgIGlmIChwcm9ncmVzcyA+IDEpIHsgcHJvZ3Jlc3MgPSAxOyB9IC8vIENhcCBwZXJjZW50YWdlIGF0IDEgKDEwMCUpXHJcblxyXG4gICAgICAgICAgICB2YXIgZGVsdGEgPSBvcHRzLmRlbHRhKHByb2dyZXNzKTsgLy8gQXBwbHkgZWFzaW5nIGZ1bmN0aW9uXHJcbiAgICAgICAgICAgIG9wdHMuc3RlcChkZWx0YSk7IC8vIEFwcGx5IHRoZSBzdGVwIGZ1Y3Rpb24gZnJvbSB0aGUgb3B0aW9ucyBvYmplY3QgKHJlbmRlcnMgYSBjaGFuZ2Ugb24gc2NyZWVuKVxyXG5cclxuICAgICAgICAgICAgLy8gSW50ZXJydXB0LCBjb250aW51ZSwgb3IgZmluaXNoIGRlcGVuZGluZyBvbiBwcm9ncmVzc1xyXG4gICAgICAgICAgICBpZiAoaW50ZXJydXB0ICYmIG9wdHMuaW50ZXJydXB0KSB7XHJcbiAgICAgICAgICAgICAgICBvcHRzLmludGVycnVwdCgpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHByb2dyZXNzIDwgMSkge1xyXG4gICAgICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShyZW5kZXIpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG9wdHMuZmluaXNoKSB7XHJcbiAgICAgICAgICAgICAgICBvcHRzLmZpbmlzaCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gU3RhcnQgdGhlIGFuaW1hdGlvblxyXG4gICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUocmVuZGVyKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHsgc3RvcDogc3RvcCB9O1xyXG5cclxuICAgIH0gLy8gYW5pbWF0ZVxyXG5cclxuXHJcbiAgICAvKlxyXG4gICAgICogRnVuYzogZWFzZUluT3V0XHJcbiAgICAgKiBEZXNjOiBFYXNpbmcgZnVuY3Rpb25cclxuICAgICAqIEFyZ3M6IEBwb3dlciAtIFBvc2l0aXZlIEludGVnZXIgLSBNYXRoIHBvd2VyIHRoYXQgc3BlY2lmaWVzIGVhc2luZyBjdXJ2ZSAoZGVmYXVsdCAzKVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBlYXNlSW5PdXQocG93ZXIpIHtcclxuICAgICAgICBwb3dlciA9IHBvd2VyID8gcG93ZXIgOiAzO1xyXG4gICAgICAgIHZhciBkZWx0YSA9IGZ1bmN0aW9uKHByb2dyZXNzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLnBvdyhwcm9ncmVzcywgcG93ZXIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHByb2dyZXNzKSB7XHJcbiAgICAgICAgICAgIGlmIChwcm9ncmVzcyA8IC41KVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlbHRhKDIgKiBwcm9ncmVzcykgLyAyXHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHJldHVybiAoMiAtIGRlbHRhKDIgKiAoMSAtIHByb2dyZXNzKSkpIC8gMlxyXG4gICAgICAgIH1cclxuICAgIH0gLy8gZWFzZUluT3V0XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBGdW5jOiBjdWJpY0JlemllckRlZmluZWRcclxuICAgICAqIERlc2M6IEVhc2luZyBmdW5jdGlvbiBiYXNlZCBvbiBDU1MgZWFzaW5nOiBjdWJpYy1iZXppZXIoMC4zLCAwLCAwLjMsIDEpLlxyXG4gICAgICogICAgICAgeUNvb3JkaW5hdGVzIGdlbmVyYXRlZCBieSBydW5uaW5nIGEgY3ViaWMgYmV6aWVyIGZ1bmN0aW9uIChyZXR1cm5pbmcgWCBhbmQgWSBjb29yZGluYXRlcyBiYXNlZCBvbiB0aW1lKVxyXG4gICAgICogICAgICAgYW5kIG91dHB1dHRpbmcgdGhlIFkgdmFsdWVzIGFzc29jaWF0ZWQgd2l0aCB0aGUgWCB2YWx1ZXMgdGhhdCBmYWxsIGNsb3Nlc3QgdG8gZWFjaCBodW5kcmVkdGggKC4wMSwgLjAyLCAuLi4pLlxyXG4gICAgICogICAgICAgVGhpcyBhbGxvd3MgYSBxdWljayBsb29rdXAgYmFzZWQgb24gYW5pbWF0aW9uIHByb2dyZXNzLiBQcm9ncmVzcyAoJSkgKiBhcnJheSBsZW5ndGggaXMgdGhlIGluZGV4IG9mIHRoZSBZIHZhbHVlLlxyXG4gICAgICogQXJnczogbm9uZVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBjdWJpY0JlemllckRlZmluZWQoKSB7XHJcbiAgICAgICAgdmFyIHlDb29yZGluYXRlcyA9IFswLCAwLjAwMDA2LCAwLjAwMDI0LCAwLjAwMDU0LCAwLjAwMDk3LCAwLjAwMTUzLCAwLjAwMjIxLCAwLjAwMzAzLCAwLjAwMzk4LCAwLjAwNTA2LCAwLjAwNjI5LCAwLjAwNzY1LCAwLjAwOTE2LCAwLjAxMDgxLCAwLjAxMjYsIDAuMDE0NTUsIDAuMDE2NjQsIDAuMDE4ODksIDAuMDIxMywgMC4wMjM4NiwgMC4wMjY1OCwgMC4wMjk0NiwgMC4wMzI1LCAwLjAzNTcxLCAwLjAzOTA4LCAwLjA0MjYyLCAwLjA0NjMyLCAwLjA1MDE5LCAwLjA1NDIzLCAwLjA1ODQ0LCAwLjA2MjgzLCAwLjA2NzM4LCAwLjA3MjEsIDAuMDc2OTksIDAuMDgyMDYsIDAuMDg3MywgMC4wOTI3LCAwLjA5ODI3LCAwLjEwNCwgMC4xMDk5LCAwLjExNTk3LCAwLjEyMjE5LCAwLjEyODU3LCAwLjEzNTEsIDAuMTQxNzksIDAuMTQ4NjEsIDAuMTU1NTksIDAuMTYyNzEsIDAuMTY5OTUsIDAuMTc3MzQsIDAuMTg0ODQsIDAuMTkyNDcsIDAuMjAwMjEsIDAuMjA4MDUsIDAuMjE2LCAwLjIyNDA1LCAwLjIzMjE5LCAwLjI0MDQxLCAwLjI0ODcxLCAwLjI1NzA4LCAwLjI2NTUyLCAwLjI3NDAxLCAwLjI4MjU2LCAwLjI5MTE0LCAwLjI5OTc4LCAwLjMwODQ0LCAwLjMxNzEyLCAwLjMyNTgzLCAwLjMzNDU1LCAwLjM0MzI4LCAwLjM1MiwgMC4zNjA3MywgMC4zNjk0NSwgMC4zNzgxNSwgMC4zODY4MiwgMC4zOTU0OCwgMC40MDQxMSwgMC40MTI2OSwgMC40MjEyNiwgMC40Mjk3NywgMC40MzgyNCwgMC40NDY2NiwgMC40NTUwMiwgMC40NjMzNCwgMC40NzE2LCAwLjQ3OTgsIDAuNDg3OTMsIDAuNDk2LCAwLjUwMzk5LCAwLjUxMTkyLCAwLjUxOTc4LCAwLjUyNzU3LCAwLjUzNTI4LCAwLjU0MjkzLCAwLjU1MDQ5LCAwLjU1Nzk2LCAwLjU2NTM4LCAwLjU3MjcsIDAuNTc5OTYsIDAuNTg3MTMsIDAuNTk0MjEsIDAuNjAxMjIsIDAuNjA4MTUsIDAuNjE1LCAwLjYyMTc1LCAwLjYyODQ0LCAwLjYzNTA0LCAwLjY0MTU3LCAwLjY0OCwgMC42NTQzNywgMC42NjA2NCwgMC42NjY4NCwgMC42NzI5NiwgMC42NzksIDAuNjg0OTYsIDAuNjkwODQsIDAuNjk2NjUsIDAuNzAyMzgsIDAuNzA4MDMsIDAuNzEzNiwgMC43MTkxMSwgMC43MjQ1MiwgMC43Mjk4OCwgMC43MzUxNSwgMC43NDAzNiwgMC43NDU0OSwgMC43NTA1NCwgMC43NTU1NCwgMC43NjA0NSwgMC43NjUzLCAwLjc3MDA3LCAwLjc3NDc5LCAwLjc3OTQyLCAwLjc4NCwgMC43ODg1MSwgMC43OTI5NSwgMC43OTczMywgMC44MDE2MywgMC44MDU4OSwgMC44MTAwNywgMC44MTQxOSwgMC44MTgyNSwgMC44MjIyNSwgMC44MjYxOSwgMC44MzAwNywgMC44MzM4OCwgMC44Mzc2NSwgMC44NDEzNSwgMC44NDUsIDAuODQ4NTgsIDAuODUyMTEsIDAuODU1NTksIDAuODU5MDIsIDAuODYyMzksIDAuODY1NywgMC44Njg5NSwgMC44NzIxNywgMC44NzUzMiwgMC44Nzg0MiwgMC44ODE0OSwgMC44ODQ0OCwgMC44ODc0MywgMC44OTAzNCwgMC44OTMxOSwgMC44OTYsIDAuODk4NzYsIDAuOTAxNDcsIDAuOTA0MTQsIDAuOTA2NzUsIDAuOTA5MzMsIDAuOTExODUsIDAuOTE0MzQsIDAuOTE2NzgsIDAuOTE5MTcsIDAuOTIxNTIsIDAuOTIzODMsIDAuOTI2MDksIDAuOTI4MzEsIDAuOTMwNDksIDAuOTMyNjQsIDAuOTM0NzMsIDAuOTM2OCwgMC45Mzg4MSwgMC45NDA3OSwgMC45NDI3MywgMC45NDQ2MywgMC45NDY1LCAwLjk0ODMyLCAwLjk1MDExLCAwLjk1MTg2LCAwLjk1MzU3LCAwLjk1NTI1LCAwLjk1Njg5LCAwLjk1ODQ5LCAwLjk2MDA2LCAwLjk2MTYsIDAuOTYzMDksIDAuOTY0NTUsIDAuOTY1OTksIDAuOTY3MzgsIDAuOTY4NzQsIDAuOTcwMDcsIDAuOTcxMzYsIDAuOTcyNjMsIDAuOTczODYsIDAuOTc1MDYsIDAuOTc2MjMsIDAuOTc3MzYsIDAuOTc4NDcsIDAuOTc5NTQsIDAuOTgwNTgsIDAuOTgxNTksIDAuOTgyNTgsIDAuOTgzNTMsIDAuOTg0NDUsIDAuOTg1MzUsIDAuOTg2MjEsIDAuOTg3MDUsIDAuOTg3ODYsIDAuOTg4NjQsIDAuOTg5MzksIDAuOTkwMTEsIDAuOTkwODEsIDAuOTkxNDcsIDAuOTkyMTIsIDAuOTkyNzMsIDAuOTkzMzIsIDAuOTkzODgsIDAuOTk0NDIsIDAuOTk0OTMsIDAuOTk1NDEsIDAuOTk1ODcsIDAuOTk2MywgMC45OTY3MSwgMC45OTcwOSwgMC45OTc0NSwgMC45OTc3OSwgMC45OTgxLCAwLjk5ODM4LCAwLjk5ODY1LCAwLjk5ODg4LCAwLjk5OTEsIDAuOTk5MjksIDAuOTk5NDYsIDAuOTk5NiwgMC45OTk3MiwgMC45OTk4MiwgMC45OTk5LCAwLjk5OTk2LCAwLjk5OTk5LCAxXTtcclxuICAgICAgICB2YXIgbGVuID0geUNvb3JkaW5hdGVzLmxlbmd0aCAtIDE7XHJcblxyXG4gICAgICAgIC8vIFJldHVybiB0aGUgZWFzZWluZyBmdW5jdGlvbiwgd2hpY2ggcmV0dXJucyBhbiBlYXNlZCB2YWx1ZSAoMOKAkzEpIGJhc2VkIG9uIHRoZSBwcm9ncmVzcyAoMOKAkzEsIGkuZSAwJS0xMDAlKVxyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbihwcm9ncmVzcykge1xyXG4gICAgICAgICAgICB2YXIgcCA9IE1hdGgucm91bmQocHJvZ3Jlc3MgKiBsZW4pO1xyXG4gICAgICAgICAgICByZXR1cm4geUNvb3JkaW5hdGVzW3BdO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgLypcclxuICAgICAqIEZ1bmM6IGdldE5hdHVyYWxIZWlnaHRcclxuICAgICAqIERlc2M6IEdldCB0aGUgaGVpZ2h0IG9mIGFuIGVsZW1lbnQgb24gdGhlIHBhZ2UgKGJlZm9yZSB2aXNpYmx5IHJlbmRlcmluZyBpdCBvbiB0aGUgcGFnZSlcclxuICAgICAqIEFyZ3M6IEBlbCAtIEhUTUwgRWxlbWVudCAtIFRoZSBlbGVtZW50IHRvIG1lYXN1cmVcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gZ2V0TmF0dXJhbEhlaWdodChlbCkge1xyXG4gICAgICAgIHZhciB3cmFwcGVyLCB0ZXN0RGl2LCBoZWlnaHQ7XHJcblxyXG4gICAgICAgIHdyYXBwZXIgPSB3cmFwSW5uZXIoZWwsIFwiZGl2XCIpO1xyXG4gICAgICAgIGhlaWdodCA9IHdyYXBwZXIub2Zmc2V0SGVpZ2h0O1xyXG5cclxuICAgICAgICB1bndyYXAod3JhcHBlcik7XHJcblxyXG4gICAgICAgIHJldHVybiBoZWlnaHQ7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcblxyXG4gICAgLypcclxuICAgICAqIEZ1bmM6IHdyYXBJbm5lclxyXG4gICAgICogRGVzYzogV3JhcCB0aGUgY29udGVudHMgb2YgYW4gZWxlbWVudCBpbiBhIG5ldyBIVE1MIGVsZW1lbnRcclxuICAgICAqIEFyZ3M6IEBlbCAtIEhUTUxFbGVtZW50IC0gVGhlIGVsZW1lbnQgd2hvc2UgY29udGVudHMgc2hvdWxkIGJlIHdyYXBwZWRcclxuICAgICAqICAgICAgIEB3cmFwcGVyIC0gU3RyaW5nIC0gVGhlIHR5cGUgb2YgSFRNTCBlbGVtZW50IHRoYXQgc2hvdWxkIHdyYXAgdGhlIGNvbnRlbnRzXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIHdyYXBJbm5lcihlbCwgd3JhcHBlcikge1xyXG4gICAgICAgIHZhciB3cmFwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh3cmFwcGVyKTtcclxuXHJcbiAgICAgICAgLy8gQXBwZW5kIGEgd3JhcHBlciBub2RlXHJcbiAgICAgICAgZWwuYXBwZW5kQ2hpbGQod3JhcCk7XHJcblxyXG4gICAgICAgIC8vIE1vdmUgYWxsIGNoaWxkcmVuIGludG8gdGhlIHdyYXBwZXIgZWxlbWVudFxyXG4gICAgICAgIHdoaWxlIChlbC5maXJzdENoaWxkICYmIGVsLmZpcnN0Q2hpbGQgIT09IHdyYXApIHdyYXAuYXBwZW5kQ2hpbGQoZWwuZmlyc3RDaGlsZCk7XHJcblxyXG4gICAgICAgIHJldHVybiB3cmFwO1xyXG4gICAgfVxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBGdW5jOiB1bndyYXBcclxuICAgICAqIERlc2M6IFVud3JhcCB0aGUgcGFyZW50IGVsZW1lbnQgb2YgdGhlIHNwZWNpZmllZCBET00gZWxlbWVudFxyXG4gICAgICogU3JjOiAgaHR0cHM6Ly9wbGFpbmpzLmNvbS9qYXZhc2NyaXB0L21hbmlwdWxhdGlvbi91bndyYXAtYS1kb20tZWxlbWVudC0zNS9cclxuICAgICAqIEFyZ3M6IEBlbCAtIEhUTUxFbGVtZW50IC0gVGhlIGVsZW1lbnQgdG8gZGVzdHJveVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiB1bndyYXAoZWwpIHtcclxuICAgICAgICAvLyBnZXQgdGhlIGVsZW1lbnQncyBwYXJlbnQgbm9kZVxyXG4gICAgICAgIHZhciBwYXJlbnQgPSBlbC5wYXJlbnROb2RlO1xyXG5cclxuICAgICAgICAvLyBtb3ZlIGFsbCBjaGlsZHJlbiBvdXQgb2YgdGhlIHdyYXBwZXIgZWxlbWVudFxyXG4gICAgICAgIHdoaWxlIChlbC5maXJzdENoaWxkKSBwYXJlbnQuaW5zZXJ0QmVmb3JlKGVsLmZpcnN0Q2hpbGQsIGVsKTtcclxuXHJcbiAgICAgICAgLy8gcmVtb3ZlIHRoZSBlbXB0eSBlbGVtZW50XHJcbiAgICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKGVsKTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgYW5pbWF0ZUhlaWdodDogYW5pbWF0ZUhlaWdodCxcclxuICAgICAgICBnZXROYXR1cmFsSGVpZ2h0OiBnZXROYXR1cmFsSGVpZ2h0XHJcbiAgICB9XHJcblxyXG5cclxufSkoKTsiLCIvKlxyXG4gKiBNb2R1bGU6IEJZVSBNYWluXHJcbiAqIERlc2M6ICAgRnVuY3Rpb25zIHRoYXQgYXBwbHkgdG8gYWxsIEJZVSBwYWdlcywgY29tcG9uZW50cywgb3Igc2NyaXB0c1xyXG4gKi9cclxuXHJcbnZhciBieXVfbWFpbiA9IChmdW5jdGlvbigpe1xyXG5cclxuXHR2YXIgZG9jID0gZG9jdW1lbnQ7XHJcblxyXG5cdC8qXHJcblx0ICogSFRNTCBQcm90b3R5cGUgZnVuY3Rpb24gYXNzaWdubWVudHNcclxuXHQgKiBEZXNjOiBNYWtlIGl0IGVhc3kgdG8gYWRkLCB0ZXN0LCBhbmQgcmVtb3ZlIEhUTUwgY2xhc3NlcyB2aWEgY29tcGF0aWJsZSwgcGxhaW4gSlNcclxuXHQgKiBTcmM6ICBodHRwczovL2Nzcy10cmlja3MuY29tL3NuaXBwZXRzL2phdmFzY3JpcHQvYWRkY2xhc3MtZnVuY3Rpb24vI2NvbW1lbnQtMTYxODQwNVxyXG5cdCAqL1xyXG5cdFxyXG5cdC8vIEhhc0NsYXNzXHJcblx0SFRNTEVsZW1lbnQucHJvdG90eXBlLmhhc0NsYXNzID0gZnVuY3Rpb24obmFtZSkge1xyXG5cdCAgICByZXR1cm4gdGhpcy5jbGFzc05hbWUubWF0Y2gobmV3IFJlZ0V4cCgnKFxcXFxzfF4pJytuYW1lKycoXFxcXHN8JCknKSk7XHJcblx0fTtcclxuXHJcblx0Ly8gQWRkQ2xhc3NcclxuXHRIVE1MRWxlbWVudC5wcm90b3R5cGUuYWRkQ2xhc3MgPSBmdW5jdGlvbihuZXdfY2xhc3MpIHsgICBcclxuXHQgICAgdmFyIG5jID0gbmV3X2NsYXNzLnNwbGl0KFwiLFwiKTtcclxuXHJcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmMubGVuZ3RoOyBpKyspIHtcclxuXHQgICAgICAgIGlmICgoXCIgXCIgKyB0aGlzLmNsYXNzTmFtZSArIFwiIFwiKS5pbmRleE9mKFwiIFwiICsgbmNbaV0gKyBcIiBcIikgPT0gLTEpIHtcclxuXHQgICAgICAgICAgICB0aGlzLmNsYXNzTmFtZSArPSBcIiBcIiArIG5jW2ldO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICB9XHJcblx0ICAgIHJldHVybiB0aGlzO1xyXG5cdH07XHJcblxyXG5cdC8vIFJlbW92ZUNsYXNzXHJcblx0SFRNTEVsZW1lbnQucHJvdG90eXBlLnJlbW92ZUNsYXNzID0gZnVuY3Rpb24obmFtZSkge1xyXG5cdCAgaWYgKHRoaXMuaGFzQ2xhc3MobmFtZSkpIHtcclxuXHQgICAgdmFyIHNlYXJjaCA9IG5ldyBSZWdFeHAoJyhcXFxcc3xeKScrbmFtZSsnKFxcXFxzfCQpJyk7IC8vIFJlZ0V4IHRvIGlkZW50aWZ5IG1hdGNoXHJcblx0ICAgIHZhciByZXBsYWNlID0gbmV3IFJlZ0V4cCgnKFxcXFxzfF4pJytuYW1lKTsgLy8gUmVnRXggdG8gcmVwbGFjZSBpZiBtYXRjaGVkXHJcblx0ICAgIGlmICggdGhpcy5jbGFzc05hbWUuc2VhcmNoKHNlYXJjaCkgKSB7XHJcblx0ICAgIFx0dGhpcy5jbGFzc05hbWUgPSB0aGlzLmNsYXNzTmFtZS5yZXBsYWNlKHJlcGxhY2UsJycpO1xyXG5cdCAgICB9XHJcblx0ICB9XHJcblx0ICByZXR1cm4gdGhpcztcclxuXHR9O1xyXG5cclxuXHJcblxyXG5cclxuXHJcblx0LypcclxuXHQgKiBGdW5jOiBleGVjdXRlT25Mb2FkXHJcblx0ICogRGVzYzogRXhlY3V0ZSBzcGVjaWZpZWQgZnVuY3Rpb24gd2hlbiB0aGUgRE9NIGlzIHJlYWR5LiBIYW5kbGUgXHJcblx0ICogQXJnczogQGZ1bmN0aW9uTmFtZSAtIEZ1bmN0aW9uIElkZW50aWZpZXIgLSBOYW1lIG9mIHRoZSBmdW5jdGlvbiB0byBleGVjdXRlXHJcblx0ICovXHJcblx0ZnVuY3Rpb24gZXhlY3V0ZU9uTG9hZCggZnVuY3Rpb25OYW1lICkge1xyXG5cclxuXHRcdC8vIGluIGNhc2UgdGhlIGRvY3VtZW50IGlzIGFscmVhZHkgcmVuZGVyZWRcclxuXHRcdGlmIChkb2MucmVhZHlTdGF0ZSE9J2xvYWRpbmcnKSBmdW5jdGlvbk5hbWUoKTtcclxuXHJcblx0XHQvLyBtb2Rlcm4gYnJvd3NlcnNcclxuXHRcdGVsc2UgaWYgKGRvYy5hZGRFdmVudExpc3RlbmVyKSBkb2MuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uTmFtZSk7XHJcblxyXG5cdFx0Ly8gSUUgPD0gOFxyXG5cdFx0ZWxzZSBkb2MuYXR0YWNoRXZlbnQoJ29ucmVhZHlzdGF0ZWNoYW5nZScsIGZ1bmN0aW9uKCl7XHJcblx0XHQgICAgaWYgKGRvYy5yZWFkeVN0YXRlPT0nY29tcGxldGUnKSBmdW5jdGlvbk5hbWUoKTtcclxuXHRcdH0pO1xyXG5cclxuXHR9IC8vIGV4ZWN1dGVPbkxvYWRcclxuXHJcblxyXG5cclxuXHJcblx0LypcclxuXHQgKiBGdW5jOiBlbEV4aXN0c1xyXG5cdCAqIERlc2M6IENoZWNrIHdoZXRoZXIgYW4gZWxlbWVudCBhcHBlYXJzIGluIHRoZSBET01cclxuXHQgKiBBcmdzOiBAY2xhc3NOYW1lIC0gU3RyaW5nIC0gTmFtZSBvZiB0aGUgY2xhc3Mgb24gdGhlIGVsZW1lbnQgdG8gc2VhcmNoIGZvclxyXG5cdCAqIFx0XHQgQGNvbnRhaW5lciAtIEhUTUwgRWxlbWVudCAtIENvbnRleHQgZm9yIGZpbmRpbmcgdGhlIGVsZW1lbnQgKGNvdWxkIGJlIGRvY3VtZW50KVxyXG5cdCAqL1xyXG5cdGZ1bmN0aW9uIGVsRXhpc3RzKCBjbGFzc05hbWUsIGNvbnRhaW5lciApIHtcclxuXHJcblx0XHRyZXR1cm4gY29udGFpbmVyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoIGNsYXNzTmFtZSApLmxlbmd0aCA+IDA7XHJcblxyXG5cdH0gLy8gZWxFeGlzdHNcclxuXHJcblxyXG5cclxuXHJcblx0LypcclxuXHQgKiBGdW5jOiBoYXNDaGlsZHJlblxyXG5cdCAqIERlc2M6IENoZWNrIHdoZXRoZXIgYW4gZWxlbWVudCBoYXMgY2hpbGRyZW5cclxuXHQgKiBBcmdzOiBAY2xhc3NOYW1lIC0gU3RyaW5nIC0gTmFtZSBvZiB0aGUgZWxlbWVudCdzIGNsYXNzXHJcblx0ICogXHRcdCBAY29udGFpbmVyIC0gSFRNTCBFbGVtZW50IC0gQ29udGV4dCBmb3IgZmluZGluZyB0aGUgZWxlbWVudCAoY291bGQgYmUgZG9jdW1lbnQpXHJcblx0ICovXHJcblx0ZnVuY3Rpb24gaGFzQ2hpbGRyZW4oIGNsYXNzTmFtZSwgY29udGFpbmVyICkge1xyXG5cclxuXHRcdHZhciBoYXNDaGlsZHJlbiA9IGZhbHNlO1xyXG5cdFx0dmFyIGVscztcclxuXHJcblx0XHRpZiAoIGVsRXhpc3RzKCBjbGFzc05hbWUsIGNvbnRhaW5lciApICkge1xyXG5cdFx0XHRlbHMgPSBjb250YWluZXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSggY2xhc3NOYW1lICk7XHJcblxyXG5cdFx0XHRBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGVscywgZnVuY3Rpb24oZWwpIHtcclxuXHRcdFx0XHRpZiAoZWwuY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdFx0aGFzQ2hpbGRyZW4gPSB0cnVlO1xyXG5cdFx0XHRcdH0gXHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBoYXNDaGlsZHJlbjtcclxuXHJcblx0fSAvLyBoYXNDaGlsZHJlblxyXG5cclxuXHJcblxyXG5cclxuXHQvLyBFeHBvc2UgcHVibGljIG1ldGhvZHNcclxuXHRyZXR1cm4ge1xyXG5cdFx0ZXhlY3V0ZU9uTG9hZDogZXhlY3V0ZU9uTG9hZCxcclxuXHRcdGVsRXhpc3RzOiBlbEV4aXN0cyxcclxuXHRcdGhhc0NoaWxkcmVuOiBoYXNDaGlsZHJlbixcclxuXHR9XHJcblxyXG59KSgpOyIsInZhciBieXVfaGVhZGVyID0gKGZ1bmN0aW9uKCkge1xyXG5cclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdHZhciBkb2MgPSBkb2N1bWVudDsgLy8gUHV0IHRoaXMgaW4gYSB2YXJpYWJsZSB0byBlbmFibGUgc21hbGxlciBjb21wcmVzc2lvblxyXG5cdHZhciBqc0luaXRDbGFzcyA9ICdqcy1lbmFibGVkJztcclxuXHR2YXIgZXhwYW5kZWRBdHRyID0gJ2FyaWEtZXhwYW5kZWQnO1xyXG5cdHZhciBtZW51T3BlbkNsYXNzID0gJ21lbnUtb3Blbic7XHJcblxyXG5cdC8vIEV4ZWN1dGUgdGhlIGluaXRpYWxpemUgZnVuY3Rpb25cclxuXHRieXVfbWFpbi5leGVjdXRlT25Mb2FkKCBpbml0ICk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHQvKlxyXG5cdCAqIEZ1bmM6IGluaXRcclxuXHQgKiBEZXNjOiBJbml0aWFsaXplIHRoZSBoZWFkZXIgYnV0dG9uIGZvciBhbGwgQllVIGhlYWRlcnMgb24gcGFnZVxyXG5cdCAqIFx0XHQgKGhhbmRsZXMgbXVsdGlwbGUgaGVkZXJzIClcclxuXHQgKiBBcmdzOiBub25lXHJcblx0ICovXHJcblx0ZnVuY3Rpb24gaW5pdCgpIHtcclxuXHJcblx0XHR2YXIgaGVhZGVyRWxzID0gZG9jLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2J5dS1oZWFkZXInKTtcclxuXHJcblx0XHRBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGhlYWRlckVscywgZnVuY3Rpb24oZWwpIHtcclxuXHRcdFx0ZW5hYmxlTW9iaWxlTWVudSggZWwgKTtcclxuXHRcdH0pO1xyXG5cclxuXHR9IC8vIGluaXRcclxuXHJcblxyXG5cclxuXHJcblx0LypcclxuXHQgKiBGdW5jOiBlbmFibGVNb2JpbGVNZW51XHJcblx0ICogRGVzYzogSW5pdGlhbGl6ZSB0aGUgaGVhZGVyIGJ1dHRvblxyXG5cdCAqIEFyZ3M6IEBoZWFkZXJFbCAtIEhUTUwgRWxlbWVudCAtIFRoZSBoZWFkZXIgdGhhdCBjb250YWlucyB0aGUgbW9iaWxlIG1lbnUgdG8gZW5hYmxlXHJcblx0ICovXHJcblx0ZnVuY3Rpb24gZW5hYmxlTW9iaWxlTWVudSggaGVhZGVyRWwgKSB7XHJcblxyXG5cdFx0dmFyIHNob3dNZW51QnV0dG9uID0gYnl1X21haW4uZWxFeGlzdHMoJ2J5dS1zaXRlLW5hdmlnYXRpb24nLCBoZWFkZXJFbCkgfHwgYnl1X21haW4uaGFzQ2hpbGRyZW4oJ2J5dS1hY3Rpb24taWQtc2VhcmNoJywgaGVhZGVyRWwpO1xyXG5cclxuXHRcdGlmICggc2hvd01lbnVCdXR0b24gKSB7XHJcblx0XHRcdGhlYWRlckVsLmFkZENsYXNzKGpzSW5pdENsYXNzKTtcclxuXHRcdFx0aW5pdE1lbnVCdXR0b24oIGhlYWRlckVsICk7XHJcblx0XHR9XHJcblxyXG5cdH0gLy8gZW5hYmxlTW9iaWxlTWVudVxyXG5cclxuXHJcblxyXG5cclxuXHQvKlxyXG5cdCAqIEZ1bmM6IGluaXRNZW51QnV0dG9uXHJcblx0ICogRGVzYzogXHJcblx0ICogQXJnczogQGhlYWRlckVsIC0gSFRNTCBFbGVtZW50IC0gVGhlIGhlYWRlciBlbGVtZW50IHRoYXQgY29udGFpbnMgdGhlIG1lbnUgYnV0dG9uIHRvIGVuYWJsZVxyXG5cdCAqL1xyXG5cdGZ1bmN0aW9uIGluaXRNZW51QnV0dG9uKCBoZWFkZXJFbCApIHtcclxuXHRcdHZhciBtZW51QnV0dG9uID0gaGVhZGVyRWwuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYnl1LW1lbnUtYnV0dG9uJylbMF07XHJcblxyXG5cdFx0bWVudUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpe1xyXG5cdFx0XHRjbGlja01lbnVCdXR0b24oIGUudGFyZ2V0LCBoZWFkZXJFbCApO1xyXG5cdFx0fSk7XHJcblx0fSAvLyBpbml0TWVudUJ1dHRvblxyXG5cclxuXHJcblxyXG5cclxuXHQvKlxyXG5cdCAqIEZ1bmM6IGNsaWNrTWVudUJ1dHRvblxyXG5cdCAqIERlc2M6IEhhbmRsZSBjbGljayBldmVudHMgb24gYSBtb2JpbGUgbWVudSBidXR0b24gd2l0aGluIGEgaGVhZGVyXHJcblx0ICogQXJnczogQGJ0biAtIEhUTUwgRWxlbWVudCAtIFRoZSBidXR0b24gZWxlbWVudCB0aGF0IGhhcyBiZWVuIGNsaWNrZWRcclxuXHQgKlx0XHQgQGhlYWRlckVsIC0gSFRNTCBFbGVtZW50IC0gVGhlIGhlYWRlciBlbGVtZW50IHdob3NlIG1lbnUgYnV0dG9uIGhhcyBiZWVuIGNsaWNrZWRcclxuXHQgKi9cclxuXHRmdW5jdGlvbiBjbGlja01lbnVCdXR0b24oIGJ0biwgaGVhZGVyRWwgKSB7XHJcblx0XHR2YXIgb3BlbiA9IGJ0bi5nZXRBdHRyaWJ1dGUoZXhwYW5kZWRBdHRyKSAhPSAnZmFsc2UnO1xyXG5cdFx0dmFyIG9wZW5pbmcgPSBmYWxzZTtcclxuXHRcdFxyXG5cdFx0Ly8gT3BlblxyXG5cdFx0aWYgKCAhb3BlbiAmJiAhb3BlbmluZyApIHtcclxuXHRcdFx0b3Blbk1lbnUoIGJ0biwgaGVhZGVyRWwgKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBDbG9zZVxyXG5cdFx0ZWxzZSB7XHJcblx0XHRcdGNsb3NlTWVudSggYnRuLCBoZWFkZXJFbCApO1xyXG5cdFx0fVxyXG5cdH0gLy8gY2xpY2tNZW51QnV0dG9uXHJcblxyXG5cclxuXHJcblxyXG5cdC8qXHJcblx0ICogRnVuYzogb3Blbk1lbnVcclxuXHQgKiBEZXNjOiBPcGVuIGEgbW9iaWxlIG1lbnUgd2l0aGluIGEgaGVhZGVyXHJcblx0ICogQXJnczogQGJ0biAtIEhUTUwgRWxlbWVudCAtIFRoZSBidXR0b24gZWxlbWVudCB0aGF0IGNvbnRyb2xzIHRoZSBtZW51IHdoaWNoIHNob3VsZCBiZSBvcGVuZWRcclxuXHQgKlx0XHQgQGhlYWRlckVsIC0gSFRNTCBFbGVtZW50IC0gVGhlIGhlYWRlciBlbGVtZW50IHdob3NlIG1lbnUgc2hvdWxkIGJlIG9wZW5lZFxyXG5cdCAqL1xyXG5cdGZ1bmN0aW9uIG9wZW5NZW51KCBidG4sIGhlYWRlckVsICkge1xyXG5cclxuXHRcdC8vIFNldCB0aGUgb3Blbi9jbG9zZWQgYXR0cmlidXRlIG9uIHRoZSBidXR0b25cclxuXHRcdGJ0bi5zZXRBdHRyaWJ1dGUoZXhwYW5kZWRBdHRyLCB0cnVlKTsgXHJcblxyXG5cdFx0Ly8gU2V0IHRoZSBvcGVuL2Nsb3NlZCBhdHRyaWJ1dGUgb24gdGhlIGhlYWRlclxyXG5cdFx0aWYgKCAhaGVhZGVyRWwuaGFzQ2xhc3MoIG1lbnVPcGVuQ2xhc3MgKSApIHtcclxuXHRcdFx0aGVhZGVyRWwuYWRkQ2xhc3MoIG1lbnVPcGVuQ2xhc3MgKTtcclxuXHRcdH1cclxuXHJcblx0fSAvLyBvcGVuTWVudVxyXG5cclxuXHJcblxyXG5cdC8qXHJcblx0ICogRnVuYzogY2xvc2VNZW51XHJcblx0ICogRGVzYzogQ2xvc2UgYSBtb2JpbGUgbWVudSB3aXRoaW4gYSBoZWFkZXJcclxuXHQgKiBBcmdzOiBAYnRuIC0gSFRNTCBFbGVtZW50IC0gVGhlIGJ1dHRvbiBlbGVtZW50IHRoYXQgY29udHJvbHMgdGhlIG1lbnUgd2hpY2ggc2hvdWxkIGJlIGNsb3NlZFxyXG5cdCAqXHRcdCBAaGVhZGVyRWwgLSBIVE1MIEVsZW1lbnQgLSBUaGUgaGVhZGVyIGVsZW1lbnQgd2hvc2UgbWVudSBzaG91bGQgYmUgY2xvc2VkXHJcblx0ICovXHJcblx0ZnVuY3Rpb24gY2xvc2VNZW51KCBidG4sIGhlYWRlckVsICkge1xyXG5cclxuXHRcdC8vIFNldCB0aGUgb3Blbi9jbG9zZWQgYXR0cmlidXRlIG9uIHRoZSBidXR0b25cclxuXHRcdGJ0bi5zZXRBdHRyaWJ1dGUoZXhwYW5kZWRBdHRyLCBmYWxzZSk7XHJcblxyXG5cdFx0Ly8gU2V0IHRoZSBvcGVuL2Nsb3NlZCBhdHRyaWJ1dGUgb24gdGhlIGhlYWRlclxyXG5cdFx0aGVhZGVyRWwucmVtb3ZlQ2xhc3MoIG1lbnVPcGVuQ2xhc3MgKTtcclxuXHJcblx0fSAvLyBjbG9zZU1lbnVcclxuXHJcblxyXG59KSgpOyIsIi8qXHJcbiAqIE1vZHVsZTogQllVIFRhYmxlXHJcbiAqIERlc2M6ICAgSGFuZGxlIHRhYmxlcyB0aGF0IGFyZSB3aWRlciB0aGFuIHRoaWVyIGNvbnRhaW5lclxyXG4gKi9cclxuXHJcbnZhciBieXVfdGFibGUgPSAoZnVuY3Rpb24oKXtcclxuXHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHR2YXIgZG9jID0gZG9jdW1lbnQ7XHJcblxyXG5cclxuXHQvLyBFeGVjdXRlIHRoZSBmdW5jdGlvblxyXG5cdGJ5dV9tYWluLmV4ZWN1dGVPbkxvYWQoIHVwZGF0ZVRhYmxlcyApO1xyXG5cdFxyXG5cclxuXHQvKlxyXG5cdCAqIEZ1bmM6IFVwZGF0ZVRhYmxlc1xyXG5cdCAqIERlc2M6IERldGVjdCBhbmQgaGFuZGxlIHRhYmxlcyB0aGF0IGFyZSB3aWRlciB0aGFuIHRoZWlyIGNvbnRhaW5lci5cclxuXHQgKiBcdFx0IFdvcmtzIG9uIHRhYmxlcyBjb250YWluZWQgd2l0aGluIGFuIGVsZW1lbnQgb2YgY2xhc3MgXCJ0YWJsZS1jb250YWluZXJcIi5cclxuXHQgKiBBcmdzOiBub25lXHJcblx0ICovXHJcblx0ZnVuY3Rpb24gdXBkYXRlVGFibGVzKCkge1xyXG5cdFx0dmFyIGNvbnRhaW5lcnMgPSBkb2MuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcInRhYmxlLWNvbnRhaW5lclwiKTtcclxuXHJcblx0XHRmb3IgKHZhciBpPTA7IGkgPCBjb250YWluZXJzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHQgICAgdmFyIGNvbnRhaW5lciA9IGNvbnRhaW5lcnNbaV07XHJcblx0XHQgICAgdXBkYXRlVGFibGUoIGNvbnRhaW5lciApO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblxyXG5cdC8qXHJcblx0ICogRnVuYzogVXBkYXRlVGFibGVcclxuXHQgKiBEZXNjOiBDaGVjayBpZiBhIHRhYmxlIGlzIHdpZGVyIHRoYW4gaXRzIGNvbnRhaW5lciwgYW5kIG1hcmsgc2Nyb2xsaW5nIHBvc2l0aW9uIHdpdGhpbiBpdFxyXG5cdCAqIEFyZ3M6IEBjb250YWluZXIgLSBIVE1MIEVsZW1lbnQgLSBBIGNvbnRhaW5lciBlbGVtZW50IGZvciBhIHRhYmxlIChwcm9iYWJseSBvZiBjbGFzcyBcInRhYmxlLWNvbnRhaW5lclwiKVxyXG5cdCAqL1xyXG5cdGZ1bmN0aW9uIHVwZGF0ZVRhYmxlKCBjb250YWluZXIgKSB7XHJcblx0XHR2YXIgY193aWR0aCA9IGNvbnRhaW5lci5vZmZzZXRXaWR0aDtcclxuXHQgICAgdmFyIHRhYmxlID0gY29udGFpbmVyLiBnZXRFbGVtZW50c0J5VGFnTmFtZShcInRhYmxlXCIpWzBdO1xyXG5cdCAgICB2YXIgdF93aWR0aCA9IHRhYmxlLm9mZnNldFdpZHRoO1xyXG5cdCAgICB2YXIgdGFibGVfd2lkZV9jbGFzcyA9IFwidGFibGUtd2lkZVwiO1xyXG5cdCAgICB2YXIgc3RhcnRfdmlzaWJsZV9jbGFzcyA9IFwic3RhcnQtdmlzaWJsZVwiO1xyXG5cdCAgICB2YXIgZW5kX3Zpc2libGVfY2xhc3MgPSBcImVuZC12aXNpYmxlXCI7XHJcblxyXG5cdCAgICBpZiAoIGNfd2lkdGggPCB0X3dpZHRoICkge1xyXG5cclxuXHQgICAgXHQvLyBBZGQgdGFibGUgd2lkZSBjbGFzcyBpZiBpdCdzIG5vdCBhbHJlYWR5IHRoZXJlXHJcblx0ICAgIFx0aWYgKCAhY29udGFpbmVyLmhhc0NsYXNzKCB0YWJsZV93aWRlX2NsYXNzICkgKSB7IFxyXG5cdFx0ICAgIFx0Y29udGFpbmVyLmFkZENsYXNzKCB0YWJsZV93aWRlX2NsYXNzICk7XHJcblx0XHQgICAgfVxyXG5cclxuXHQgICAgXHQvLyBDaGVjayBpZiB0aGUgc3RhcnQgb2YgdGhlIHRhYmxlIGlzIHZpc2libGUgYW5kIGhhbmRsZVxyXG5cdCAgICBcdGlmICggdGFibGUuc2Nyb2xsTGVmdCA9PSAwICkge1xyXG5cdCAgICBcdFx0aWYgKCAhY29udGFpbmVyLmhhc0NsYXNzKCBzdGFydF92aXNpYmxlX2NsYXNzICkgKSB7XHJcblx0XHQgICAgXHRcdGNvbnRhaW5lci5hZGRDbGFzcyggc3RhcnRfdmlzaWJsZV9jbGFzcyApO1xyXG5cdCAgICBcdFx0fVxyXG5cdCAgICBcdH0gZWxzZSB7XHJcblx0ICAgIFx0XHRjb250YWluZXIucmVtb3ZlQ2xhc3MoIHN0YXJ0X3Zpc2libGVfY2xhc3MgKTtcclxuXHQgICAgXHR9XHJcblxyXG5cdCAgICBcdC8vIENoZWNrIGlmIHRoZSBlbmQgb2YgdGhlIHRhYmxlIGlzIHZpc2libGUgYW5kIGhhbmRsZVxyXG5cdCAgICBcdGlmICggdF93aWR0aCAtIHRhYmxlLnNjcm9sbExlZnQgPT0gY193aWR0aCApIHtcclxuXHQgICAgXHRcdGlmICggIWNvbnRhaW5lci5oYXNDbGFzcyggZW5kX3Zpc2libGVfY2xhc3MgKSApIHtcclxuXHRcdCAgICBcdFx0Y29udGFpbmVyLmFkZENsYXNzKCBlbmRfdmlzaWJsZV9jbGFzcyApO1xyXG5cdCAgICBcdFx0fVxyXG5cdCAgICBcdH0gZWxzZSB7XHJcblx0ICAgIFx0XHRjb250YWluZXIucmVtb3ZlQ2xhc3MoIGVuZF92aXNpYmxlX2NsYXNzICk7XHJcblx0ICAgIFx0fVxyXG5cdCAgICB9IFxyXG5cclxuXHQgICAgLy8gVGhlIHRhYmxlIGlzIG5vdCB0b28gd2lkZSBmb3IgaXRzIGNvbnRhaW5lclxyXG5cdCAgICBlbHNlIHtcclxuXHQgICAgXHRjb250YWluZXIucmVtb3ZlQ2xhc3MoIHRhYmxlX3dpZGVfY2xhc3MgKTtcclxuXHQgICAgfVxyXG5cdH1cclxuXHJcbn0pKCk7Il19
