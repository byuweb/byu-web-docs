var animate=function(){var a,n,l=(n=(a=[0,6e-5,24e-5,54e-5,97e-5,.00153,.00221,.00303,.00398,.00506,.00629,.00765,.00916,.01081,.0126,.01455,.01664,.01889,.0213,.02386,.02658,.02946,.0325,.03571,.03908,.04262,.04632,.05019,.05423,.05844,.06283,.06738,.0721,.07699,.08206,.0873,.0927,.09827,.104,.1099,.11597,.12219,.12857,.1351,.14179,.14861,.15559,.16271,.16995,.17734,.18484,.19247,.20021,.20805,.216,.22405,.23219,.24041,.24871,.25708,.26552,.27401,.28256,.29114,.29978,.30844,.31712,.32583,.33455,.34328,.352,.36073,.36945,.37815,.38682,.39548,.40411,.41269,.42126,.42977,.43824,.44666,.45502,.46334,.4716,.4798,.48793,.496,.50399,.51192,.51978,.52757,.53528,.54293,.55049,.55796,.56538,.5727,.57996,.58713,.59421,.60122,.60815,.615,.62175,.62844,.63504,.64157,.648,.65437,.66064,.66684,.67296,.679,.68496,.69084,.69665,.70238,.70803,.7136,.71911,.72452,.72988,.73515,.74036,.74549,.75054,.75554,.76045,.7653,.77007,.77479,.77942,.784,.78851,.79295,.79733,.80163,.80589,.81007,.81419,.81825,.82225,.82619,.83007,.83388,.83765,.84135,.845,.84858,.85211,.85559,.85902,.86239,.8657,.86895,.87217,.87532,.87842,.88149,.88448,.88743,.89034,.89319,.896,.89876,.90147,.90414,.90675,.90933,.91185,.91434,.91678,.91917,.92152,.92383,.92609,.92831,.93049,.93264,.93473,.9368,.93881,.94079,.94273,.94463,.9465,.94832,.95011,.95186,.95357,.95525,.95689,.95849,.96006,.9616,.96309,.96455,.96599,.96738,.96874,.97007,.97136,.97263,.97386,.97506,.97623,.97736,.97847,.97954,.98058,.98159,.98258,.98353,.98445,.98535,.98621,.98705,.98786,.98864,.98939,.99011,.99081,.99147,.99212,.99273,.99332,.99388,.99442,.99493,.99541,.99587,.9963,.99671,.99709,.99745,.99779,.9981,.99838,.99865,.99888,.9991,.99929,.99946,.9996,.99972,.99982,.9999,.99996,.99999,1]).length-1,function(t){var e=Math.round(t*n);return a[e]}),u="animating";return{animateHeight:function(e,t){var n,s,i,r,a=Object.assign({start:0,end:100,fadeIn:!0,duration:200,units:"px"},t),o=l;e.style.height=a.start+a.units,e.addClass(u),e.animation=(n={duration:a.duration,delta:o,step:function(t){e.style.height=a.start+(a.end-a.start)*t+a.units},finish:function(){e.removeClass(u),e.style.removeProperty("height"),"function"==typeof a.finish&&a.finish()},interrupt:function(){e.removeClass(u),e.style.removeProperty("height"),"function"==typeof a.interrupt&&a.interrupt()}},s=new Date,i=!1,r=function(){var t=new Date-s,e=t/n.duration;1<e&&(e=1);var a=n.delta(e);n.step(a),i&&n.interrupt?n.interrupt():e<1?window.requestAnimationFrame(r):n.finish&&n.finish()},window.requestAnimationFrame(r),{stop:function(){i=!0}})},getNaturalHeight:function(t,e){var a,n;return e=e||"",(a=function(t,e){var a=document.createElement(e);for(t.appendChild(a);t.firstChild&&t.firstChild!==a;)a.appendChild(t.firstChild);return a}(t,"div")).className=e,n=a.offsetHeight,function(t){for(var e=t.parentNode;t.firstChild;)e.insertBefore(t.firstChild,t);e.removeChild(t)}(a),n}}}(),byu_main=function(){var e=document;function s(t,e){return 0<e.getElementsByClassName(t).length}return HTMLElement.prototype.hasClass=function(t){return this.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},HTMLElement.prototype.addClass=function(t){for(var e=t.split(","),a=0;a<e.length;a++)-1==(" "+this.className+" ").indexOf(" "+e[a]+" ")&&(this.className+=" "+e[a]);return this},HTMLElement.prototype.removeClass=function(t){if(this.hasClass(t)){var e=new RegExp("(\\s|^)"+t+"(\\s|$)"),a=new RegExp("(\\s|^)"+t);this.className.search(e)&&(this.className=this.className.replace(a,""))}return this},{executeOnLoad:function(t){"loading"!=e.readyState?t():e.addEventListener?e.addEventListener("DOMContentLoaded",t):e.attachEvent("onreadystatechange",function(){"complete"==e.readyState&&t()})},elExists:s,hasChildren:function(t,e){var a,n=!1;return s(t,e)&&(a=e.getElementsByClassName(t),Array.prototype.forEach.call(a,function(t){0<t.children.length&&(n=!0)})),n}}}(),byu_table=function(){"use strict";var n=document;function s(t){var e=t.offsetWidth,a=t.getElementsByTagName("table")[0],n=a.offsetWidth,s="table-wide",i="start-visible",r="end-visible";e<n?(t.hasClass(s)||t.addClass(s),0==a.scrollLeft?t.hasClass(i)||t.addClass(i):t.removeClass(i),n-a.scrollLeft==e?t.hasClass(r)||t.addClass(r):t.removeClass(r)):t.removeClass(s)}byu_main.executeOnLoad(function(){for(var t=n.getElementsByClassName("table-container"),e=0;e<t.length;e++){var a=t[e];s(a)}})}(),byu_header=function(){"use strict";var e=document,u=300,a="js-enabled",h="aria-expanded",f="menu-open",s="byu-site-navigation",i="byu-action-id-search";byu_main.executeOnLoad(function(){var t=e.getElementsByClassName("byu-header");Array.prototype.forEach.call(t,function(t){var e,n;(e=t).hasNav=byu_main.elExists(s,e),e.hasActions=byu_main.hasChildren(i,e),(e.hasNav||e.hasActions)&&(e.addClass(a),(n=e).getElementsByClassName("byu-menu-button")[0].addEventListener("click",function(t){var e,a;e=t.target,a=n,"false"!=e.getAttribute(h)?function(t,e){function a(){e.removeClass(f)}if(t.setAttribute(h,!1),e.hasNav){var n=e.navEl,s=n.offsetHeight;animate.animateHeight(n,{start:s,end:0,finish:a})}if(e.hasActions){var i=e.actionsEl,r=i.offsetHeight;animate.animateHeight(i,{start:r,end:0,finish:a})}}(e,a):function(t,e){function a(){e.hasClass(f)||e.addClass(f)}if(t.setAttribute(h,!0),e.hasNav){var n=e.navEl,s=n.offsetHeight,i=animate.getNaturalHeight(n);animate.animateHeight(n,{start:s,end:i,duration:u,finish:a})}if(e.hasActions){var r=e.actionsEl,o=r.offsetHeight,l=animate.getNaturalHeight(r,"actionsHeightWrapper");animate.animateHeight(r,{start:o,end:l,duration:u,finish:a})}}(e,a)}),e.navEl=e.getElementsByClassName(s)[0],e.actionsEl=e.getElementsByClassName(i)[0])})})}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFuaW1hdGUuanMiLCJtYWluLmpzIiwiMC1mb3VuZGF0aW9uL3RhYmxlL3RhYmxlLmpzIiwiaGVhZGVyL2Jhc2ljL2hlYWRlci5qcyJdLCJuYW1lcyI6WyJhbmltYXRlIiwieUNvb3JkaW5hdGVzIiwibGVuIiwiZWFzZUZ1bmN0aW9uIiwibGVuZ3RoIiwicHJvZ3Jlc3MiLCJwIiwiTWF0aCIsInJvdW5kIiwiYW5pbWF0aW5nQ2xhc3MiLCJhbmltYXRlSGVpZ2h0IiwiZWwiLCJzZXR0aW5nc09iaiIsIm9wdHMiLCJzdGFydCIsImludGVycnVwdCIsInJlbmRlciIsInMiLCJPYmplY3QiLCJhc3NpZ24iLCJlbmQiLCJmYWRlSW4iLCJkdXJhdGlvbiIsInVuaXRzIiwiZWFzZSIsInN0eWxlIiwiaGVpZ2h0IiwiYWRkQ2xhc3MiLCJhbmltYXRpb24iLCJkZWx0YSIsInN0ZXAiLCJmaW5pc2giLCJyZW1vdmVDbGFzcyIsInJlbW92ZVByb3BlcnR5IiwiRGF0ZSIsInRpbWVQYXNzZWQiLCJ3aW5kb3ciLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJzdG9wIiwiZ2V0TmF0dXJhbEhlaWdodCIsImNsYXNzTmFtZSIsIndyYXBwZXIiLCJ3cmFwIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJmaXJzdENoaWxkIiwid3JhcElubmVyIiwib2Zmc2V0SGVpZ2h0IiwicGFyZW50IiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSIsInJlbW92ZUNoaWxkIiwidW53cmFwIiwiYnl1X21haW4iLCJkb2MiLCJlbEV4aXN0cyIsImNvbnRhaW5lciIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJIVE1MRWxlbWVudCIsInByb3RvdHlwZSIsImhhc0NsYXNzIiwibmFtZSIsInRoaXMiLCJtYXRjaCIsIlJlZ0V4cCIsIm5ld19jbGFzcyIsIm5jIiwic3BsaXQiLCJpIiwiaW5kZXhPZiIsInNlYXJjaCIsInJlcGxhY2UiLCJleGVjdXRlT25Mb2FkIiwiZnVuY3Rpb25OYW1lIiwicmVhZHlTdGF0ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJhdHRhY2hFdmVudCIsImhhc0NoaWxkcmVuIiwiZWxzIiwiQXJyYXkiLCJmb3JFYWNoIiwiY2FsbCIsImNoaWxkcmVuIiwiYnl1X3RhYmxlIiwidXBkYXRlVGFibGUiLCJjX3dpZHRoIiwib2Zmc2V0V2lkdGgiLCJ0YWJsZSIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwidF93aWR0aCIsInRhYmxlX3dpZGVfY2xhc3MiLCJzdGFydF92aXNpYmxlX2NsYXNzIiwiZW5kX3Zpc2libGVfY2xhc3MiLCJzY3JvbGxMZWZ0IiwiY29udGFpbmVycyIsImJ5dV9oZWFkZXIiLCJtZW51T3BlbkR1cmF0aW9uIiwianNJbml0Q2xhc3MiLCJleHBhbmRlZEF0dHIiLCJtZW51T3BlbkNsYXNzIiwic2l0ZU5hdkNsYXNzIiwic2l0ZUFjdGlvbkNsYXNzIiwiaGVhZGVyRWxzIiwiaGVhZGVyRWwiLCJoYXNOYXYiLCJoYXNBY3Rpb25zIiwiZSIsImJ0biIsInRhcmdldCIsImdldEF0dHJpYnV0ZSIsInJlbW92ZU9wZW5DbGFzcyIsInNldEF0dHJpYnV0ZSIsIm5hdiIsIm5hdkVsIiwibmF2SGVpZ2h0IiwiYWN0aW9ucyIsImFjdGlvbnNFbCIsImFjdGlvbnNIZWlnaHQiLCJjbG9zZU1lbnUiLCJhZGRPcGVuQ2xhc3MiLCJuYXZFbmRIZWlnaHQiLCJhY3Rpb25zRW5kSGVpZ2h0Iiwib3Blbk1lbnUiXSwibWFwcGluZ3MiOiJBQUdBLElBQUFBLFFBQUEsV0FFQSxJQTRIQUMsRUFDQUMsRUE3SEFDLEdBNkhBRCxHQURBRCxFQUFBLENBQUEsRUFBQSxLQUFBLE1BQUEsTUFBQSxNQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE1BQUEsT0FBQSxPQUFBLE9BQUEsTUFBQSxPQUFBLE9BQUEsT0FBQSxNQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE1BQUEsT0FBQSxPQUFBLE1BQUEsTUFBQSxPQUFBLEtBQUEsTUFBQSxPQUFBLE9BQUEsT0FBQSxNQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsS0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxLQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsTUFBQSxNQUFBLE9BQUEsS0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxNQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxLQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsS0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLEtBQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE1BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsTUFBQSxPQUFBLE9BQUEsT0FBQSxLQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxLQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxNQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLEtBQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxNQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsTUFBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsTUFBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxP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QUFULEVBQUFVLE1BQ0FDLEVBQUFGLEVBQUFqRSxhQUVBaEQsUUFBQVUsY0FBQXVHLEVBQUEsQ0FBQW5HLE1BQUFxRyxFQUFBL0YsSUFBQSxFQUFBVyxPQUFBZ0YsSUFHQSxHQUFBUCxFQUFBRSxXQUFBLENBQ0EsSUFBQVUsRUFBQVosRUFBQWEsVUFDQUMsRUFBQUYsRUFBQXBFLGFBRUFoRCxRQUFBVSxjQUFBMEcsRUFBQSxDQUFBdEcsTUFBQXdHLEVBQUFsRyxJQUFBLEVBQUFXLE9BQUFnRixLQTNFQVEsQ0FBQVgsRUFBQUosR0FhQSxTQUFBSSxFQUFBSixHQU1BLFNBQUFnQixJQUNBaEIsRUFBQTNDLFNBQUF1QyxJQUNBSSxFQUFBN0UsU0FBQXlFLEdBS0EsR0FWQVEsRUFBQUksYUFBQWIsR0FBQSxHQVVBSyxFQUFBQyxPQUFBLENBQ0EsSUFBQVEsRUFBQVQsRUFBQVUsTUFDQUMsRUFBQUYsRUFBQWpFLGFBQ0F5RSxFQUFBekgsUUFBQXVDLGlCQUFBMEUsR0FFQWpILFFBQUFVLGNBQUF1RyxFQUFBLENBQUFuRyxNQUFBcUcsRUFBQS9GLElBQUFxRyxFQUFBbkcsU0FBQTJFLEVBQUFsRSxPQUFBeUYsSUFHQSxHQUFBaEIsRUFBQUUsV0FBQSxDQUNBLElBQUFVLEVBQUFaLEVBQUFhLFVBQ0FDLEVBQUFGLEVBQUFwRSxhQUNBMEUsRUFBQTFILFFBQUF1QyxpQkFBQTZFLEVBQUEsd0JBRUFwSCxRQUFBVSxjQUFBMEcsRUFBQSxDQUFBdEcsTUFBQXdHLEVBQUFsRyxJQUFBc0csRUFBQXBHLFNBQUEyRSxFQUFBbEUsT0FBQXlGLEtBNUNBRyxDQUFBZixFQUFBSixLQXJDQUEsRUFBQVUsTUFBQVYsRUFBQTlDLHVCQUFBMkMsR0FBQSxHQUNBRyxFQUFBYSxVQUFBYixFQUFBOUMsdUJBQUE0QyxHQUFBLFFBNURBIiwiZmlsZSI6InNjcmlwdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKiovXG4vKiEgQW5pbWF0ZSAqL1xuXG52YXIgYW5pbWF0ZSA9IChmdW5jdGlvbigpIHtcblxuICAgIHZhciBlYXNlRnVuY3Rpb24gPSBjdWJpY0JlemllckRlZmluZWQoKTtcbiAgICB2YXIgYW5pbWF0aW5nQ2xhc3MgPSAnYW5pbWF0aW5nJztcblxuICAgIC8vIEFuaW1hdGlvblxuXG4gICAgLypcbiAgICAgKiBGdW5jOiBhbmltYXRlSGVpZ2h0XG4gICAgICogRGVzYzogQW5pbWF0ZSB0aGUgaGVpZ2h0IG9mIGFuIGl0ZW1cbiAgICAgKiBBcmdzOiBAZWwgLSBIVE1MIEVsZW1lbnQgLSBUaGUgSFRNTCBlbGVtZW50IHRvIGFuaW1hdGVcbiAgICAgKiAgICAgICBAc2V0dGluZ3NPYmogLSBPYmplY3QgLSBDb250YWlucyBwcm9wZXJ0aWVzIHRvIG92ZXJyaWRlIGRlZmF1bHQgc2V0dGluZ3NcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhbmltYXRlSGVpZ2h0KGVsLCBzZXR0aW5nc09iaikge1xuXG4gICAgICAgIC8vIFNldCBkZWZhdWx0cyBhbmQgb3ZlcndyaXRlIHdpdGggcGFzc2VkIG9iamVjdCAoc2V0dGluZ3NPYmopXG4gICAgICAgIHZhciBzID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICBzdGFydDogMCxcbiAgICAgICAgICAgIGVuZDogMTAwLFxuICAgICAgICAgICAgZmFkZUluOiB0cnVlLFxuICAgICAgICAgICAgZHVyYXRpb246IDIwMCxcbiAgICAgICAgICAgIHVuaXRzOiBcInB4XCIsXG4gICAgICAgIH0sIHNldHRpbmdzT2JqKTtcblxuICAgICAgICB2YXIgZWFzZSA9IGVhc2VGdW5jdGlvbjtcblxuICAgICAgICBlbC5zdHlsZS5oZWlnaHQgPSBzLnN0YXJ0ICsgcy51bml0cztcbiAgICAgICAgZWwuYWRkQ2xhc3MoYW5pbWF0aW5nQ2xhc3MpO1xuXG4gICAgICAgIC8vIEFuaW1hdGUgaGVpZ2h0IGF0IGlucHV0IHJhdGVcbiAgICAgICAgZWwuYW5pbWF0aW9uID0gYW5pbWF0ZSh7XG4gICAgICAgICAgICBkdXJhdGlvbjogcy5kdXJhdGlvbixcbiAgICAgICAgICAgIGRlbHRhOiBlYXNlLFxuICAgICAgICAgICAgc3RlcDogZnVuY3Rpb24oZGVsdGEpIHtcbiAgICAgICAgICAgICAgICBlbC5zdHlsZS5oZWlnaHQgPSBzLnN0YXJ0ICsgKChzLmVuZCAtIHMuc3RhcnQpICogZGVsdGEpICsgcy51bml0cztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmaW5pc2g6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGVsLnJlbW92ZUNsYXNzKGFuaW1hdGluZ0NsYXNzKTtcbiAgICAgICAgICAgICAgICBlbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eShcImhlaWdodFwiKTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHMuZmluaXNoID09IFwiZnVuY3Rpb25cIikgeyBzLmZpbmlzaCgpOyB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaW50ZXJydXB0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBlbC5yZW1vdmVDbGFzcyhhbmltYXRpbmdDbGFzcyk7XG4gICAgICAgICAgICAgICAgZWwuc3R5bGUucmVtb3ZlUHJvcGVydHkoXCJoZWlnaHRcIik7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzLmludGVycnVwdCA9PSBcImZ1bmN0aW9uXCIpIHsgcy5pbnRlcnJ1cHQoKTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgIH0gLy8gYW5pbWF0ZUhlaWdodFxuXG5cbiAgICAvKlxuICAgICAqIEZ1bmM6IGFuaW1hdGVcbiAgICAgKiBEZXNjOiBBbmltYXRlIGZ1bmN0aW9uXG4gICAgICogU3JjOiAgaHR0cDovL2phdmFzY3JpcHQuaW5mby90dXRvcmlhbC9hbmltYXRpb24gKG1haW4gYW5pbWF0aW9uIGZ1bmN0aW9ucylcbiAgICAgKiAgICAgICBodHRwOi8vY3JlYXRpdmVqcy5jb20vcmVzb3VyY2VzL3JlcXVlc3RhbmltYXRpb25mcmFtZS8gKHJlcXVlc3RBbmltYXRpb25GcmFtZSlcbiAgICAgKiBBcmdzOiBAb3B0cyAtIE9iamVjdCAtIFRoZSBvcHRpb25zIG9iamVjdFxuICAgICAqICAgICAgICAgY29udGFpbnM6IEBkdXJhdGlvbiAtIE51bWJlciAtIE1pbGxpc2Vjb25kcyBmb3IgdG90YWwgYW5pbWF0aW9uXG4gICAgICogICAgICAgICAgICAgICAgICAgQGRlbHRhIC0gRnVuY3Rpb24gLSBFYXNpbmcgZnVuY3Rpb25cbiAgICAgKiAgICAgICAgICAgICAgICAgICBAc3RlcCAtIEZ1bmN0aW9uIC0gUmVzdWx0IGZ1bmN0aW9uICh3aGF0IHNob3VsZCBoYXBwZW4gb24gc2NyZWVuIGVhY2ggZnJhbWUpXG4gICAgICogICAgICAgICAgICAgICAgICAgQGZpbmlzaCAtIEZ1bmN0aW9uIC0gb3B0aW9uYWwtIEVuZCBmdW5jdGlvbiAod2hhdCBoYXBwZW5zIHdoZW4gYW5pbWF0aW9uIGZpbmlzaGVzKVxuICAgICAqICAgICAgICAgICAgICAgICAgIEBpbnRlcnJ1cHQgLSBGdW5jdGlvbiAtIG9wdGlvbmFsLSBFbmQgZnVuY3Rpb24gKHdoYXQgaGFwcGVucyBpZiBhbmltYXRpb24gaXMgaW50ZXJydXB0ZWQpXG4gICAgICovXG4gICAgZnVuY3Rpb24gYW5pbWF0ZShvcHRzKSB7XG5cbiAgICAgICAgdmFyIHN0YXJ0ID0gbmV3IERhdGUoKTsgLy8gR2V0IHRoZSBzdGFydCB0aW1lXG4gICAgICAgIHZhciBpbnRlcnJ1cHQgPSBmYWxzZTsgLy8gSWYgdGhpcyBpcyB0cnVlLCBhbmltYXRpb24gd2lsbCBzdG9wXG4gICAgICAgIHZhciBzdG9wID0gZnVuY3Rpb24oKSB7IGludGVycnVwdCA9IHRydWU7IH07IC8vIFN0b3BzIHRoaXMgYW5pbWF0aW9uXG5cbiAgICAgICAgLy8gVGhlIHJlbmRlciBmdW5jdGlvblxuICAgICAgICB2YXIgcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgdGltZVBhc3NlZCA9IG5ldyBEYXRlKCkgLSBzdGFydDsgLy8gVGhlIGFtb3VudCBvZiB0aW1lIGVsYXBzZWQgc2luY2Ugc3RhcnRcbiAgICAgICAgICAgIHZhciBwcm9ncmVzcyA9IHRpbWVQYXNzZWQgLyBvcHRzLmR1cmF0aW9uOyAvLyBQZXJjZW50YWdlIG9mIHRpbWUgcGFzc2VkIGluIGZ1bGwgZXhwZWN0ZWQgZHVyYXRpb25cblxuICAgICAgICAgICAgaWYgKHByb2dyZXNzID4gMSkgeyBwcm9ncmVzcyA9IDE7IH0gLy8gQ2FwIHBlcmNlbnRhZ2UgYXQgMSAoMTAwJSlcblxuICAgICAgICAgICAgdmFyIGRlbHRhID0gb3B0cy5kZWx0YShwcm9ncmVzcyk7IC8vIEFwcGx5IGVhc2luZyBmdW5jdGlvblxuICAgICAgICAgICAgb3B0cy5zdGVwKGRlbHRhKTsgLy8gQXBwbHkgdGhlIHN0ZXAgZnVjdGlvbiBmcm9tIHRoZSBvcHRpb25zIG9iamVjdCAocmVuZGVycyBhIGNoYW5nZSBvbiBzY3JlZW4pXG5cbiAgICAgICAgICAgIC8vIEludGVycnVwdCwgY29udGludWUsIG9yIGZpbmlzaCBkZXBlbmRpbmcgb24gcHJvZ3Jlc3NcbiAgICAgICAgICAgIGlmIChpbnRlcnJ1cHQgJiYgb3B0cy5pbnRlcnJ1cHQpIHtcbiAgICAgICAgICAgICAgICBvcHRzLmludGVycnVwdCgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwcm9ncmVzcyA8IDEpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJlbmRlcik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG9wdHMuZmluaXNoKSB7XG4gICAgICAgICAgICAgICAgb3B0cy5maW5pc2goKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBTdGFydCB0aGUgYW5pbWF0aW9uXG4gICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUocmVuZGVyKTtcblxuICAgICAgICByZXR1cm4geyBzdG9wOiBzdG9wIH07XG5cbiAgICB9IC8vIGFuaW1hdGVcblxuXG4gICAgLypcbiAgICAgKiBGdW5jOiBlYXNlSW5PdXRcbiAgICAgKiBEZXNjOiBFYXNpbmcgZnVuY3Rpb25cbiAgICAgKiBBcmdzOiBAcG93ZXIgLSBQb3NpdGl2ZSBJbnRlZ2VyIC0gTWF0aCBwb3dlciB0aGF0IHNwZWNpZmllcyBlYXNpbmcgY3VydmUgKGRlZmF1bHQgMylcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlYXNlSW5PdXQocG93ZXIpIHtcbiAgICAgICAgcG93ZXIgPSBwb3dlciA/IHBvd2VyIDogMztcbiAgICAgICAgdmFyIGRlbHRhID0gZnVuY3Rpb24ocHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLnBvdyhwcm9ncmVzcywgcG93ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHByb2dyZXNzKSB7XG4gICAgICAgICAgICBpZiAocHJvZ3Jlc3MgPCAuNSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVsdGEoMiAqIHByb2dyZXNzKSAvIDJcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICByZXR1cm4gKDIgLSBkZWx0YSgyICogKDEgLSBwcm9ncmVzcykpKSAvIDJcbiAgICAgICAgfVxuICAgIH0gLy8gZWFzZUluT3V0XG5cblxuICAgIC8qXG4gICAgICogRnVuYzogY3ViaWNCZXppZXJEZWZpbmVkXG4gICAgICogRGVzYzogRWFzaW5nIGZ1bmN0aW9uIGJhc2VkIG9uIENTUyBlYXNpbmc6IGN1YmljLWJlemllcigwLjMsIDAsIDAuMywgMSkuXG4gICAgICogICAgICAgeUNvb3JkaW5hdGVzIGdlbmVyYXRlZCBieSBydW5uaW5nIGEgY3ViaWMgYmV6aWVyIGZ1bmN0aW9uIChyZXR1cm5pbmcgWCBhbmQgWSBjb29yZGluYXRlcyBiYXNlZCBvbiB0aW1lKVxuICAgICAqICAgICAgIGFuZCBvdXRwdXR0aW5nIHRoZSBZIHZhbHVlcyBhc3NvY2lhdGVkIHdpdGggdGhlIFggdmFsdWVzIHRoYXQgZmFsbCBjbG9zZXN0IHRvIGVhY2ggaHVuZHJlZHRoICguMDEsIC4wMiwgLi4uKS5cbiAgICAgKiAgICAgICBUaGlzIGFsbG93cyBhIHF1aWNrIGxvb2t1cCBiYXNlZCBvbiBhbmltYXRpb24gcHJvZ3Jlc3MuIFByb2dyZXNzICglKSAqIGFycmF5IGxlbmd0aCBpcyB0aGUgaW5kZXggb2YgdGhlIFkgdmFsdWUuXG4gICAgICogQXJnczogbm9uZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN1YmljQmV6aWVyRGVmaW5lZCgpIHtcbiAgICAgICAgdmFyIHlDb29yZGluYXRlcyA9IFswLCAwLjAwMDA2LCAwLjAwMDI0LCAwLjAwMDU0LCAwLjAwMDk3LCAwLjAwMTUzLCAwLjAwMjIxLCAwLjAwMzAzLCAwLjAwMzk4LCAwLjAwNTA2LCAwLjAwNjI5LCAwLjAwNzY1LCAwLjAwOTE2LCAwLjAxMDgxLCAwLjAxMjYsIDAuMDE0NTUsIDAuMDE2NjQsIDAuMDE4ODksIDAuMDIxMywgMC4wMjM4NiwgMC4wMjY1OCwgMC4wMjk0NiwgMC4wMzI1LCAwLjAzNTcxLCAwLjAzOTA4LCAwLjA0MjYyLCAwLjA0NjMyLCAwLjA1MDE5LCAwLjA1NDIzLCAwLjA1ODQ0LCAwLjA2MjgzLCAwLjA2NzM4LCAwLjA3MjEsIDAuMDc2OTksIDAuMDgyMDYsIDAuMDg3MywgMC4wOTI3LCAwLjA5ODI3LCAwLjEwNCwgMC4xMDk5LCAwLjExNTk3LCAwLjEyMjE5LCAwLjEyODU3LCAwLjEzNTEsIDAuMTQxNzksIDAuMTQ4NjEsIDAuMTU1NTksIDAuMTYyNzEsIDAuMTY5OTUsIDAuMTc3MzQsIDAuMTg0ODQsIDAuMTkyNDcsIDAuMjAwMjEsIDAuMjA4MDUsIDAuMjE2LCAwLjIyNDA1LCAwLjIzMjE5LCAwLjI0MDQxLCAwLjI0ODcxLCAwLjI1NzA4LCAwLjI2NTUyLCAwLjI3NDAxLCAwLjI4MjU2LCAwLjI5MTE0LCAwLjI5OTc4LCAwLjMwODQ0LCAwLjMxNzEyLCAwLjMyNTgzLCAwLjMzNDU1LCAwLjM0MzI4LCAwLjM1MiwgMC4zNjA3MywgMC4zNjk0NSwgMC4zNzgxNSwgMC4zODY4MiwgMC4zOTU0OCwgMC40MDQxMSwgMC40MTI2OSwgMC40MjEyNiwgMC40Mjk3NywgMC40MzgyNCwgMC40NDY2NiwgMC40NTUwMiwgMC40NjMzNCwgMC40NzE2LCAwLjQ3OTgsIDAuNDg3OTMsIDAuNDk2LCAwLjUwMzk5LCAwLjUxMTkyLCAwLjUxOTc4LCAwLjUyNzU3LCAwLjUzNTI4LCAwLjU0MjkzLCAwLjU1MDQ5LCAwLjU1Nzk2LCAwLjU2NTM4LCAwLjU3MjcsIDAuNTc5OTYsIDAuNTg3MTMsIDAuNTk0MjEsIDAuNjAxMjIsIDAuNjA4MTUsIDAuNjE1LCAwLjYyMTc1LCAwLjYyODQ0LCAwLjYzNTA0LCAwLjY0MTU3LCAwLjY0OCwgMC42NTQzNywgMC42NjA2NCwgMC42NjY4NCwgMC42NzI5NiwgMC42NzksIDAuNjg0OTYsIDAuNjkwODQsIDAuNjk2NjUsIDAuNzAyMzgsIDAuNzA4MDMsIDAuNzEzNiwgMC43MTkxMSwgMC43MjQ1MiwgMC43Mjk4OCwgMC43MzUxNSwgMC43NDAzNiwgMC43NDU0OSwgMC43NTA1NCwgMC43NTU1NCwgMC43NjA0NSwgMC43NjUzLCAwLjc3MDA3LCAwLjc3NDc5LCAwLjc3OTQyLCAwLjc4NCwgMC43ODg1MSwgMC43OTI5NSwgMC43OTczMywgMC44MDE2MywgMC44MDU4OSwgMC44MTAwNywgMC44MTQxOSwgMC44MTgyNSwgMC44MjIyNSwgMC44MjYxOSwgMC44MzAwNywgMC44MzM4OCwgMC44Mzc2NSwgMC44NDEzNSwgMC44NDUsIDAuODQ4NTgsIDAuODUyMTEsIDAuODU1NTksIDAuODU5MDIsIDAuODYyMzksIDAuODY1NywgMC44Njg5NSwgMC44NzIxNywgMC44NzUzMiwgMC44Nzg0MiwgMC44ODE0OSwgMC44ODQ0OCwgMC44ODc0MywgMC44OTAzNCwgMC44OTMxOSwgMC44OTYsIDAuODk4NzYsIDAuOTAxNDcsIDAuOTA0MTQsIDAuOTA2NzUsIDAuOTA5MzMsIDAuOTExODUsIDAuOTE0MzQsIDAuOTE2NzgsIDAuOTE5MTcsIDAuOTIxNTIsIDAuOTIzODMsIDAuOTI2MDksIDAuOTI4MzEsIDAuOTMwNDksIDAuOTMyNjQsIDAuOTM0NzMsIDAuOTM2OCwgMC45Mzg4MSwgMC45NDA3OSwgMC45NDI3MywgMC45NDQ2MywgMC45NDY1LCAwLjk0ODMyLCAwLjk1MDExLCAwLjk1MTg2LCAwLjk1MzU3LCAwLjk1NTI1LCAwLjk1Njg5LCAwLjk1ODQ5LCAwLjk2MDA2LCAwLjk2MTYsIDAuOTYzMDksIDAuOTY0NTUsIDAuOTY1OTksIDAuOTY3MzgsIDAuOTY4NzQsIDAuOTcwMDcsIDAuOTcxMzYsIDAuOTcyNjMsIDAuOTczODYsIDAuOTc1MDYsIDAuOTc2MjMsIDAuOTc3MzYsIDAuOTc4NDcsIDAuOTc5NTQsIDAuOTgwNTgsIDAuOTgxNTksIDAuOTgyNTgsIDAuOTgzNTMsIDAuOTg0NDUsIDAuOTg1MzUsIDAuOTg2MjEsIDAuOTg3MDUsIDAuOTg3ODYsIDAuOTg4NjQsIDAuOTg5MzksIDAuOTkwMTEsIDAuOTkwODEsIDAuOTkxNDcsIDAuOTkyMTIsIDAuOTkyNzMsIDAuOTkzMzIsIDAuOTkzODgsIDAuOTk0NDIsIDAuOTk0OTMsIDAuOTk1NDEsIDAuOTk1ODcsIDAuOTk2MywgMC45OTY3MSwgMC45OTcwOSwgMC45OTc0NSwgMC45OTc3OSwgMC45OTgxLCAwLjk5ODM4LCAwLjk5ODY1LCAwLjk5ODg4LCAwLjk5OTEsIDAuOTk5MjksIDAuOTk5NDYsIDAuOTk5NiwgMC45OTk3MiwgMC45OTk4MiwgMC45OTk5LCAwLjk5OTk2LCAwLjk5OTk5LCAxXTtcbiAgICAgICAgdmFyIGxlbiA9IHlDb29yZGluYXRlcy5sZW5ndGggLSAxO1xuXG4gICAgICAgIC8vIFJldHVybiB0aGUgZWFzZWluZyBmdW5jdGlvbiwgd2hpY2ggcmV0dXJucyBhbiBlYXNlZCB2YWx1ZSAoMOKAkzEpIGJhc2VkIG9uIHRoZSBwcm9ncmVzcyAoMOKAkzEsIGkuZSAwJS0xMDAlKVxuICAgICAgICByZXR1cm4gZnVuY3Rpb24ocHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgIHZhciBwID0gTWF0aC5yb3VuZChwcm9ncmVzcyAqIGxlbik7XG4gICAgICAgICAgICByZXR1cm4geUNvb3JkaW5hdGVzW3BdO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKlxuICAgICAqIEZ1bmM6IGdldE5hdHVyYWxIZWlnaHRcbiAgICAgKiBEZXNjOiBHZXQgdGhlIGhlaWdodCBvZiBhbiBlbGVtZW50IG9uIHRoZSBwYWdlIChiZWZvcmUgdmlzaWJseSByZW5kZXJpbmcgaXQgb24gdGhlIHBhZ2UpXG4gICAgICogQXJnczogQGVsIC0gSFRNTCBFbGVtZW50IC0gVGhlIGVsZW1lbnQgdG8gbWVhc3VyZVxuICAgICAqICAgICAgIEBjbGFzc05hbWUgLSBTdHJpbmcgLSBDbGFzcyB0aGF0IHRlbXBvcmFyeSB3cmFwcGVyIGVsZW1lbnQgc2hvdWxkIGhhdmUgKHRvIGFsbG93IGZvciBjb3JyZWN0IHN0eWxpbmcgYW5kIGNvcnJlY3QgaGVpZ2h0IHRlc3RpbmcpXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0TmF0dXJhbEhlaWdodChlbCwgY2xhc3NOYW1lKSB7XG4gICAgICAgIHZhciB3cmFwcGVyLCB0ZXN0RGl2LCBoZWlnaHQ7XG4gICAgICAgIHZhciBjbGFzc05hbWUgPSBjbGFzc05hbWUgfHwgXCJcIjtcblxuICAgICAgICB3cmFwcGVyID0gd3JhcElubmVyKGVsLCBcImRpdlwiKTtcbiAgICAgICAgd3JhcHBlci5jbGFzc05hbWUgPSBjbGFzc05hbWU7XG4gICAgICAgIGhlaWdodCA9IHdyYXBwZXIub2Zmc2V0SGVpZ2h0O1xuXG4gICAgICAgIHVud3JhcCh3cmFwcGVyKTtcblxuICAgICAgICByZXR1cm4gaGVpZ2h0O1xuICAgIH1cblxuXG5cblxuICAgIC8qXG4gICAgICogRnVuYzogd3JhcElubmVyXG4gICAgICogRGVzYzogV3JhcCB0aGUgY29udGVudHMgb2YgYW4gZWxlbWVudCBpbiBhIG5ldyBIVE1MIGVsZW1lbnRcbiAgICAgKiBBcmdzOiBAZWwgLSBIVE1MRWxlbWVudCAtIFRoZSBlbGVtZW50IHdob3NlIGNvbnRlbnRzIHNob3VsZCBiZSB3cmFwcGVkXG4gICAgICogICAgICAgQHdyYXBwZXIgLSBTdHJpbmcgLSBUaGUgdHlwZSBvZiBIVE1MIGVsZW1lbnQgdGhhdCBzaG91bGQgd3JhcCB0aGUgY29udGVudHNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwSW5uZXIoZWwsIHdyYXBwZXIpIHtcbiAgICAgICAgdmFyIHdyYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHdyYXBwZXIpO1xuXG4gICAgICAgIC8vIEFwcGVuZCBhIHdyYXBwZXIgbm9kZVxuICAgICAgICBlbC5hcHBlbmRDaGlsZCh3cmFwKTtcblxuICAgICAgICAvLyBNb3ZlIGFsbCBjaGlsZHJlbiBpbnRvIHRoZSB3cmFwcGVyIGVsZW1lbnRcbiAgICAgICAgd2hpbGUgKGVsLmZpcnN0Q2hpbGQgJiYgZWwuZmlyc3RDaGlsZCAhPT0gd3JhcCkgd3JhcC5hcHBlbmRDaGlsZChlbC5maXJzdENoaWxkKTtcblxuICAgICAgICByZXR1cm4gd3JhcDtcbiAgICB9XG5cbiAgICAvKlxuICAgICAqIEZ1bmM6IHVud3JhcFxuICAgICAqIERlc2M6IFVud3JhcCB0aGUgcGFyZW50IGVsZW1lbnQgb2YgdGhlIHNwZWNpZmllZCBET00gZWxlbWVudFxuICAgICAqIFNyYzogIGh0dHBzOi8vcGxhaW5qcy5jb20vamF2YXNjcmlwdC9tYW5pcHVsYXRpb24vdW53cmFwLWEtZG9tLWVsZW1lbnQtMzUvXG4gICAgICogQXJnczogQGVsIC0gSFRNTEVsZW1lbnQgLSBUaGUgZWxlbWVudCB0byBkZXN0cm95XG4gICAgICovXG4gICAgZnVuY3Rpb24gdW53cmFwKGVsKSB7XG4gICAgICAgIC8vIGdldCB0aGUgZWxlbWVudCdzIHBhcmVudCBub2RlXG4gICAgICAgIHZhciBwYXJlbnQgPSBlbC5wYXJlbnROb2RlO1xuXG4gICAgICAgIC8vIG1vdmUgYWxsIGNoaWxkcmVuIG91dCBvZiB0aGUgd3JhcHBlciBlbGVtZW50XG4gICAgICAgIHdoaWxlIChlbC5maXJzdENoaWxkKSBwYXJlbnQuaW5zZXJ0QmVmb3JlKGVsLmZpcnN0Q2hpbGQsIGVsKTtcblxuICAgICAgICAvLyByZW1vdmUgdGhlIGVtcHR5IGVsZW1lbnRcbiAgICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKGVsKTtcbiAgICB9XG5cblxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgYW5pbWF0ZUhlaWdodDogYW5pbWF0ZUhlaWdodCxcbiAgICAgICAgZ2V0TmF0dXJhbEhlaWdodDogZ2V0TmF0dXJhbEhlaWdodFxuICAgIH1cblxuXG59KSgpOyIsIi8qXG4gKiBNb2R1bGU6IEJZVSBNYWluXG4gKiBEZXNjOiAgIEZ1bmN0aW9ucyB0aGF0IGFwcGx5IHRvIGFsbCBCWVUgcGFnZXMsIGNvbXBvbmVudHMsIG9yIHNjcmlwdHNcbiAqL1xuXG52YXIgYnl1X21haW4gPSAoZnVuY3Rpb24oKXtcblxuXHR2YXIgZG9jID0gZG9jdW1lbnQ7XG5cblx0Lypcblx0ICogSFRNTCBQcm90b3R5cGUgZnVuY3Rpb24gYXNzaWdubWVudHNcblx0ICogRGVzYzogTWFrZSBpdCBlYXN5IHRvIGFkZCwgdGVzdCwgYW5kIHJlbW92ZSBIVE1MIGNsYXNzZXMgdmlhIGNvbXBhdGlibGUsIHBsYWluIEpTXG5cdCAqIFNyYzogIGh0dHBzOi8vY3NzLXRyaWNrcy5jb20vc25pcHBldHMvamF2YXNjcmlwdC9hZGRjbGFzcy1mdW5jdGlvbi8jY29tbWVudC0xNjE4NDA1XG5cdCAqL1xuXHRcblx0Ly8gSGFzQ2xhc3Ncblx0SFRNTEVsZW1lbnQucHJvdG90eXBlLmhhc0NsYXNzID0gZnVuY3Rpb24obmFtZSkge1xuXHQgICAgcmV0dXJuIHRoaXMuY2xhc3NOYW1lLm1hdGNoKG5ldyBSZWdFeHAoJyhcXFxcc3xeKScrbmFtZSsnKFxcXFxzfCQpJykpO1xuXHR9O1xuXG5cdC8vIEFkZENsYXNzXG5cdEhUTUxFbGVtZW50LnByb3RvdHlwZS5hZGRDbGFzcyA9IGZ1bmN0aW9uKG5ld19jbGFzcykgeyAgIFxuXHQgICAgdmFyIG5jID0gbmV3X2NsYXNzLnNwbGl0KFwiLFwiKTtcblxuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuYy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIGlmICgoXCIgXCIgKyB0aGlzLmNsYXNzTmFtZSArIFwiIFwiKS5pbmRleE9mKFwiIFwiICsgbmNbaV0gKyBcIiBcIikgPT0gLTEpIHtcblx0ICAgICAgICAgICAgdGhpcy5jbGFzc05hbWUgKz0gXCIgXCIgKyBuY1tpXTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdGhpcztcblx0fTtcblxuXHQvLyBSZW1vdmVDbGFzc1xuXHRIVE1MRWxlbWVudC5wcm90b3R5cGUucmVtb3ZlQ2xhc3MgPSBmdW5jdGlvbihuYW1lKSB7XG5cdCAgaWYgKHRoaXMuaGFzQ2xhc3MobmFtZSkpIHtcblx0ICAgIHZhciBzZWFyY2ggPSBuZXcgUmVnRXhwKCcoXFxcXHN8XiknK25hbWUrJyhcXFxcc3wkKScpOyAvLyBSZWdFeCB0byBpZGVudGlmeSBtYXRjaFxuXHQgICAgdmFyIHJlcGxhY2UgPSBuZXcgUmVnRXhwKCcoXFxcXHN8XiknK25hbWUpOyAvLyBSZWdFeCB0byByZXBsYWNlIGlmIG1hdGNoZWRcblx0ICAgIGlmICggdGhpcy5jbGFzc05hbWUuc2VhcmNoKHNlYXJjaCkgKSB7XG5cdCAgICBcdHRoaXMuY2xhc3NOYW1lID0gdGhpcy5jbGFzc05hbWUucmVwbGFjZShyZXBsYWNlLCcnKTtcblx0ICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuIHRoaXM7XG5cdH07XG5cblxuXG5cblxuXHQvKlxuXHQgKiBGdW5jOiBleGVjdXRlT25Mb2FkXG5cdCAqIERlc2M6IEV4ZWN1dGUgc3BlY2lmaWVkIGZ1bmN0aW9uIHdoZW4gdGhlIERPTSBpcyByZWFkeS4gSGFuZGxlIFxuXHQgKiBBcmdzOiBAZnVuY3Rpb25OYW1lIC0gRnVuY3Rpb24gSWRlbnRpZmllciAtIE5hbWUgb2YgdGhlIGZ1bmN0aW9uIHRvIGV4ZWN1dGVcblx0ICovXG5cdGZ1bmN0aW9uIGV4ZWN1dGVPbkxvYWQoIGZ1bmN0aW9uTmFtZSApIHtcblxuXHRcdC8vIGluIGNhc2UgdGhlIGRvY3VtZW50IGlzIGFscmVhZHkgcmVuZGVyZWRcblx0XHRpZiAoZG9jLnJlYWR5U3RhdGUhPSdsb2FkaW5nJykgZnVuY3Rpb25OYW1lKCk7XG5cblx0XHQvLyBtb2Rlcm4gYnJvd3NlcnNcblx0XHRlbHNlIGlmIChkb2MuYWRkRXZlbnRMaXN0ZW5lcikgZG9jLmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbk5hbWUpO1xuXG5cdFx0Ly8gSUUgPD0gOFxuXHRcdGVsc2UgZG9jLmF0dGFjaEV2ZW50KCdvbnJlYWR5c3RhdGVjaGFuZ2UnLCBmdW5jdGlvbigpe1xuXHRcdCAgICBpZiAoZG9jLnJlYWR5U3RhdGU9PSdjb21wbGV0ZScpIGZ1bmN0aW9uTmFtZSgpO1xuXHRcdH0pO1xuXG5cdH0gLy8gZXhlY3V0ZU9uTG9hZFxuXG5cblxuXG5cdC8qXG5cdCAqIEZ1bmM6IGVsRXhpc3RzXG5cdCAqIERlc2M6IENoZWNrIHdoZXRoZXIgYW4gZWxlbWVudCBhcHBlYXJzIGluIHRoZSBET01cblx0ICogQXJnczogQGNsYXNzTmFtZSAtIFN0cmluZyAtIE5hbWUgb2YgdGhlIGNsYXNzIG9uIHRoZSBlbGVtZW50IHRvIHNlYXJjaCBmb3Jcblx0ICogXHRcdCBAY29udGFpbmVyIC0gSFRNTCBFbGVtZW50IC0gQ29udGV4dCBmb3IgZmluZGluZyB0aGUgZWxlbWVudCAoY291bGQgYmUgZG9jdW1lbnQpXG5cdCAqL1xuXHRmdW5jdGlvbiBlbEV4aXN0cyggY2xhc3NOYW1lLCBjb250YWluZXIgKSB7XG5cblx0XHRyZXR1cm4gY29udGFpbmVyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoIGNsYXNzTmFtZSApLmxlbmd0aCA+IDA7XG5cblx0fSAvLyBlbEV4aXN0c1xuXG5cblxuXG5cdC8qXG5cdCAqIEZ1bmM6IGhhc0NoaWxkcmVuXG5cdCAqIERlc2M6IENoZWNrIHdoZXRoZXIgYW4gZWxlbWVudCBoYXMgY2hpbGRyZW5cblx0ICogQXJnczogQGNsYXNzTmFtZSAtIFN0cmluZyAtIE5hbWUgb2YgdGhlIGVsZW1lbnQncyBjbGFzc1xuXHQgKiBcdFx0IEBjb250YWluZXIgLSBIVE1MIEVsZW1lbnQgLSBDb250ZXh0IGZvciBmaW5kaW5nIHRoZSBlbGVtZW50IChjb3VsZCBiZSBkb2N1bWVudClcblx0ICovXG5cdGZ1bmN0aW9uIGhhc0NoaWxkcmVuKCBjbGFzc05hbWUsIGNvbnRhaW5lciApIHtcblxuXHRcdHZhciBoYXNDaGlsZHJlbiA9IGZhbHNlO1xuXHRcdHZhciBlbHM7XG5cblx0XHRpZiAoIGVsRXhpc3RzKCBjbGFzc05hbWUsIGNvbnRhaW5lciApICkge1xuXHRcdFx0ZWxzID0gY29udGFpbmVyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoIGNsYXNzTmFtZSApO1xuXG5cdFx0XHRBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGVscywgZnVuY3Rpb24oZWwpIHtcblx0XHRcdFx0aWYgKGVsLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0XHRoYXNDaGlsZHJlbiA9IHRydWU7XG5cdFx0XHRcdH0gXG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gaGFzQ2hpbGRyZW47XG5cblx0fSAvLyBoYXNDaGlsZHJlblxuXG5cblxuXG5cdC8vIEV4cG9zZSBwdWJsaWMgbWV0aG9kc1xuXHRyZXR1cm4ge1xuXHRcdGV4ZWN1dGVPbkxvYWQ6IGV4ZWN1dGVPbkxvYWQsXG5cdFx0ZWxFeGlzdHM6IGVsRXhpc3RzLFxuXHRcdGhhc0NoaWxkcmVuOiBoYXNDaGlsZHJlbixcblx0fVxuXG59KSgpOyIsIi8qXG4gKiBNb2R1bGU6IEJZVSBUYWJsZVxuICogRGVzYzogICBIYW5kbGUgdGFibGVzIHRoYXQgYXJlIHdpZGVyIHRoYW4gdGhpZXIgY29udGFpbmVyXG4gKi9cblxudmFyIGJ5dV90YWJsZSA9IChmdW5jdGlvbigpe1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgZG9jID0gZG9jdW1lbnQ7XG5cblxuXHQvLyBFeGVjdXRlIHRoZSBmdW5jdGlvblxuXHRieXVfbWFpbi5leGVjdXRlT25Mb2FkKCB1cGRhdGVUYWJsZXMgKTtcblx0XG5cblx0Lypcblx0ICogRnVuYzogVXBkYXRlVGFibGVzXG5cdCAqIERlc2M6IERldGVjdCBhbmQgaGFuZGxlIHRhYmxlcyB0aGF0IGFyZSB3aWRlciB0aGFuIHRoZWlyIGNvbnRhaW5lci5cblx0ICogXHRcdCBXb3JrcyBvbiB0YWJsZXMgY29udGFpbmVkIHdpdGhpbiBhbiBlbGVtZW50IG9mIGNsYXNzIFwidGFibGUtY29udGFpbmVyXCIuXG5cdCAqIEFyZ3M6IG5vbmVcblx0ICovXG5cdGZ1bmN0aW9uIHVwZGF0ZVRhYmxlcygpIHtcblx0XHR2YXIgY29udGFpbmVycyA9IGRvYy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwidGFibGUtY29udGFpbmVyXCIpO1xuXG5cdFx0Zm9yICh2YXIgaT0wOyBpIDwgY29udGFpbmVycy5sZW5ndGg7IGkrKykge1xuXHRcdCAgICB2YXIgY29udGFpbmVyID0gY29udGFpbmVyc1tpXTtcblx0XHQgICAgdXBkYXRlVGFibGUoIGNvbnRhaW5lciApO1xuXHRcdH1cblx0fVxuXG5cblx0Lypcblx0ICogRnVuYzogVXBkYXRlVGFibGVcblx0ICogRGVzYzogQ2hlY2sgaWYgYSB0YWJsZSBpcyB3aWRlciB0aGFuIGl0cyBjb250YWluZXIsIGFuZCBtYXJrIHNjcm9sbGluZyBwb3NpdGlvbiB3aXRoaW4gaXRcblx0ICogQXJnczogQGNvbnRhaW5lciAtIEhUTUwgRWxlbWVudCAtIEEgY29udGFpbmVyIGVsZW1lbnQgZm9yIGEgdGFibGUgKHByb2JhYmx5IG9mIGNsYXNzIFwidGFibGUtY29udGFpbmVyXCIpXG5cdCAqL1xuXHRmdW5jdGlvbiB1cGRhdGVUYWJsZSggY29udGFpbmVyICkge1xuXHRcdHZhciBjX3dpZHRoID0gY29udGFpbmVyLm9mZnNldFdpZHRoO1xuXHQgICAgdmFyIHRhYmxlID0gY29udGFpbmVyLiBnZXRFbGVtZW50c0J5VGFnTmFtZShcInRhYmxlXCIpWzBdO1xuXHQgICAgdmFyIHRfd2lkdGggPSB0YWJsZS5vZmZzZXRXaWR0aDtcblx0ICAgIHZhciB0YWJsZV93aWRlX2NsYXNzID0gXCJ0YWJsZS13aWRlXCI7XG5cdCAgICB2YXIgc3RhcnRfdmlzaWJsZV9jbGFzcyA9IFwic3RhcnQtdmlzaWJsZVwiO1xuXHQgICAgdmFyIGVuZF92aXNpYmxlX2NsYXNzID0gXCJlbmQtdmlzaWJsZVwiO1xuXG5cdCAgICBpZiAoIGNfd2lkdGggPCB0X3dpZHRoICkge1xuXG5cdCAgICBcdC8vIEFkZCB0YWJsZSB3aWRlIGNsYXNzIGlmIGl0J3Mgbm90IGFscmVhZHkgdGhlcmVcblx0ICAgIFx0aWYgKCAhY29udGFpbmVyLmhhc0NsYXNzKCB0YWJsZV93aWRlX2NsYXNzICkgKSB7IFxuXHRcdCAgICBcdGNvbnRhaW5lci5hZGRDbGFzcyggdGFibGVfd2lkZV9jbGFzcyApO1xuXHRcdCAgICB9XG5cblx0ICAgIFx0Ly8gQ2hlY2sgaWYgdGhlIHN0YXJ0IG9mIHRoZSB0YWJsZSBpcyB2aXNpYmxlIGFuZCBoYW5kbGVcblx0ICAgIFx0aWYgKCB0YWJsZS5zY3JvbGxMZWZ0ID09IDAgKSB7XG5cdCAgICBcdFx0aWYgKCAhY29udGFpbmVyLmhhc0NsYXNzKCBzdGFydF92aXNpYmxlX2NsYXNzICkgKSB7XG5cdFx0ICAgIFx0XHRjb250YWluZXIuYWRkQ2xhc3MoIHN0YXJ0X3Zpc2libGVfY2xhc3MgKTtcblx0ICAgIFx0XHR9XG5cdCAgICBcdH0gZWxzZSB7XG5cdCAgICBcdFx0Y29udGFpbmVyLnJlbW92ZUNsYXNzKCBzdGFydF92aXNpYmxlX2NsYXNzICk7XG5cdCAgICBcdH1cblxuXHQgICAgXHQvLyBDaGVjayBpZiB0aGUgZW5kIG9mIHRoZSB0YWJsZSBpcyB2aXNpYmxlIGFuZCBoYW5kbGVcblx0ICAgIFx0aWYgKCB0X3dpZHRoIC0gdGFibGUuc2Nyb2xsTGVmdCA9PSBjX3dpZHRoICkge1xuXHQgICAgXHRcdGlmICggIWNvbnRhaW5lci5oYXNDbGFzcyggZW5kX3Zpc2libGVfY2xhc3MgKSApIHtcblx0XHQgICAgXHRcdGNvbnRhaW5lci5hZGRDbGFzcyggZW5kX3Zpc2libGVfY2xhc3MgKTtcblx0ICAgIFx0XHR9XG5cdCAgICBcdH0gZWxzZSB7XG5cdCAgICBcdFx0Y29udGFpbmVyLnJlbW92ZUNsYXNzKCBlbmRfdmlzaWJsZV9jbGFzcyApO1xuXHQgICAgXHR9XG5cdCAgICB9IFxuXG5cdCAgICAvLyBUaGUgdGFibGUgaXMgbm90IHRvbyB3aWRlIGZvciBpdHMgY29udGFpbmVyXG5cdCAgICBlbHNlIHtcblx0ICAgIFx0Y29udGFpbmVyLnJlbW92ZUNsYXNzKCB0YWJsZV93aWRlX2NsYXNzICk7XG5cdCAgICB9XG5cdH1cblxufSkoKTsiLCJ2YXIgYnl1X2hlYWRlciA9IChmdW5jdGlvbigpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIGRvYyA9IGRvY3VtZW50OyAvLyBQdXQgdGhpcyBpbiBhIHZhcmlhYmxlIHRvIGVuYWJsZSBzbWFsbGVyIGNvbXByZXNzaW9uXG5cdHZhciBtZW51T3BlbkR1cmF0aW9uID0gMzAwO1xuXG5cdC8vIEZvciBjb21wcmVzc2lvbjogaWYgYSBzdHJpbmcgaXMgdXNlZCBtb3JlIHRoYW4gb25jZSwgcHV0IGl0IGluIGEgdmFyaWFibGVcblx0dmFyIGpzSW5pdENsYXNzID0gJ2pzLWVuYWJsZWQnO1xuXHR2YXIgZXhwYW5kZWRBdHRyID0gJ2FyaWEtZXhwYW5kZWQnO1xuXHR2YXIgbWVudU9wZW5DbGFzcyA9ICdtZW51LW9wZW4nO1xuXHR2YXIgc2l0ZU5hdkNsYXNzID0gJ2J5dS1zaXRlLW5hdmlnYXRpb24nO1xuXHR2YXIgc2l0ZUFjdGlvbkNsYXNzID0gJ2J5dS1hY3Rpb24taWQtc2VhcmNoJztcblxuXG5cblxuXHQvLyBFeGVjdXRlIHRoZSBpbml0aWFsaXplIGZ1bmN0aW9uXG5cdGJ5dV9tYWluLmV4ZWN1dGVPbkxvYWQoIGluaXQgKTtcblxuXG5cblxuXG5cdC8qXG5cdCAqIEZ1bmM6IGluaXRcblx0ICogRGVzYzogSW5pdGlhbGl6ZSB0aGUgaGVhZGVyIGJ1dHRvbiBmb3IgYWxsIEJZVSBoZWFkZXJzIG9uIHBhZ2Vcblx0ICogXHRcdCAoaGFuZGxlcyBtdWx0aXBsZSBoZWRlcnMgKVxuXHQgKiBBcmdzOiBub25lXG5cdCAqL1xuXHRmdW5jdGlvbiBpbml0KCkge1xuXG5cdFx0dmFyIGhlYWRlckVscyA9IGRvYy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdieXUtaGVhZGVyJyk7XG5cblx0XHRBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGhlYWRlckVscywgZnVuY3Rpb24oZWwpIHtcblx0XHRcdGVuYWJsZU1vYmlsZU1lbnUoIGVsICk7XG5cdFx0fSk7XG5cblx0fSAvLyBpbml0XG5cblxuXG5cblx0Lypcblx0ICogRnVuYzogZW5hYmxlTW9iaWxlTWVudVxuXHQgKiBEZXNjOiBJbml0aWFsaXplIHRoZSBoZWFkZXIgYnV0dG9uXG5cdCAqIEFyZ3M6IEBoZWFkZXJFbCAtIEhUTUwgRWxlbWVudCAtIFRoZSBoZWFkZXIgdGhhdCBjb250YWlucyB0aGUgbW9iaWxlIG1lbnUgdG8gZW5hYmxlXG5cdCAqL1xuXHRmdW5jdGlvbiBlbmFibGVNb2JpbGVNZW51KCBoZWFkZXJFbCApIHtcblxuXHRcdGhlYWRlckVsLmhhc05hdiA9IGJ5dV9tYWluLmVsRXhpc3RzKHNpdGVOYXZDbGFzcywgaGVhZGVyRWwpO1xuXHRcdGhlYWRlckVsLmhhc0FjdGlvbnMgPSBieXVfbWFpbi5oYXNDaGlsZHJlbihzaXRlQWN0aW9uQ2xhc3MsIGhlYWRlckVsKTtcblxuXHRcdHZhciBzaG93TWVudUJ1dHRvbiA9IGhlYWRlckVsLmhhc05hdiB8fCBoZWFkZXJFbC5oYXNBY3Rpb25zO1xuXG5cdFx0aWYgKCBzaG93TWVudUJ1dHRvbiApIHtcblx0XHRcdGhlYWRlckVsLmFkZENsYXNzKGpzSW5pdENsYXNzKTtcblx0XHRcdGluaXRNZW51QnV0dG9uKCBoZWFkZXJFbCApO1xuXG5cdFx0XHRoZWFkZXJFbC5uYXZFbCA9IGhlYWRlckVsLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoIHNpdGVOYXZDbGFzcyApWzBdO1xuXHRcdFx0aGVhZGVyRWwuYWN0aW9uc0VsID0gaGVhZGVyRWwuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSggc2l0ZUFjdGlvbkNsYXNzIClbMF07XG5cdFx0fVxuXG5cdH0gLy8gZW5hYmxlTW9iaWxlTWVudVxuXG5cblxuXG5cdC8qXG5cdCAqIEZ1bmM6IGluaXRNZW51QnV0dG9uXG5cdCAqIERlc2M6IFxuXHQgKiBBcmdzOiBAaGVhZGVyRWwgLSBIVE1MIEVsZW1lbnQgLSBUaGUgaGVhZGVyIGVsZW1lbnQgdGhhdCBjb250YWlucyB0aGUgbWVudSBidXR0b24gdG8gZW5hYmxlXG5cdCAqL1xuXHRmdW5jdGlvbiBpbml0TWVudUJ1dHRvbiggaGVhZGVyRWwgKSB7XG5cdFx0dmFyIG1lbnVCdXR0b24gPSBoZWFkZXJFbC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdieXUtbWVudS1idXR0b24nKVswXTtcblxuXHRcdG1lbnVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKXtcblx0XHRcdGNsaWNrTWVudUJ1dHRvbiggZS50YXJnZXQsIGhlYWRlckVsICk7XG5cdFx0fSk7XG5cdH0gLy8gaW5pdE1lbnVCdXR0b25cblxuXG5cblxuXHQvKlxuXHQgKiBGdW5jOiBjbGlja01lbnVCdXR0b25cblx0ICogRGVzYzogSGFuZGxlIGNsaWNrIGV2ZW50cyBvbiBhIG1vYmlsZSBtZW51IGJ1dHRvbiB3aXRoaW4gYSBoZWFkZXJcblx0ICogQXJnczogQGJ0biAtIEhUTUwgRWxlbWVudCAtIFRoZSBidXR0b24gZWxlbWVudCB0aGF0IGhhcyBiZWVuIGNsaWNrZWRcblx0ICpcdFx0IEBoZWFkZXJFbCAtIEhUTUwgRWxlbWVudCAtIFRoZSBoZWFkZXIgZWxlbWVudCB3aG9zZSBtZW51IGJ1dHRvbiBoYXMgYmVlbiBjbGlja2VkXG5cdCAqL1xuXHRmdW5jdGlvbiBjbGlja01lbnVCdXR0b24oIGJ0biwgaGVhZGVyRWwgKSB7XG5cdFx0dmFyIG9wZW4gPSBidG4uZ2V0QXR0cmlidXRlKGV4cGFuZGVkQXR0cikgIT0gJ2ZhbHNlJztcblx0XHR2YXIgb3BlbmluZyA9IGZhbHNlO1xuXHRcdFxuXHRcdC8vIE9wZW5cblx0XHRpZiAoICFvcGVuICYmICFvcGVuaW5nICkge1xuXHRcdFx0b3Blbk1lbnUoIGJ0biwgaGVhZGVyRWwgKTtcblx0XHR9XG5cblx0XHQvLyBDbG9zZVxuXHRcdGVsc2Uge1xuXHRcdFx0Y2xvc2VNZW51KCBidG4sIGhlYWRlckVsICk7XG5cdFx0fVxuXHR9IC8vIGNsaWNrTWVudUJ1dHRvblxuXG5cblxuXG5cdC8qXG5cdCAqIEZ1bmM6IG9wZW5NZW51XG5cdCAqIERlc2M6IE9wZW4gYSBtb2JpbGUgbWVudSB3aXRoaW4gYSBoZWFkZXJcblx0ICogQXJnczogQGJ0biAtIEhUTUwgRWxlbWVudCAtIFRoZSBidXR0b24gZWxlbWVudCB0aGF0IGNvbnRyb2xzIHRoZSBtZW51IHdoaWNoIHNob3VsZCBiZSBvcGVuZWRcblx0ICpcdFx0IEBoZWFkZXJFbCAtIEhUTUwgRWxlbWVudCAtIFRoZSBoZWFkZXIgZWxlbWVudCB3aG9zZSBtZW51IHNob3VsZCBiZSBvcGVuZWRcblx0ICovXG5cdGZ1bmN0aW9uIG9wZW5NZW51KCBidG4sIGhlYWRlckVsICkge1xuXG5cdFx0Ly8gU2V0IHRoZSBvcGVuL2Nsb3NlZCBhdHRyaWJ1dGUgb24gdGhlIGJ1dHRvblxuXHRcdGJ0bi5zZXRBdHRyaWJ1dGUoZXhwYW5kZWRBdHRyLCB0cnVlKTtcblxuXHRcdC8vIFNldCB0aGUgb3Blbi9jbG9zZWQgYXR0cmlidXRlIG9uIHRoZSBoZWFkZXJcblx0XHRmdW5jdGlvbiBhZGRPcGVuQ2xhc3MoKSB7XG5cdFx0XHRpZiAoICFoZWFkZXJFbC5oYXNDbGFzcyggbWVudU9wZW5DbGFzcyApICkge1xuXHRcdFx0XHRoZWFkZXJFbC5hZGRDbGFzcyggbWVudU9wZW5DbGFzcyApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIEFuaW1hdGUgdGhlIGVsZW1lbnRzXG5cdFx0aWYgKCBoZWFkZXJFbC5oYXNOYXYgKSB7XG5cdFx0XHR2YXIgbmF2ID0gaGVhZGVyRWwubmF2RWw7XG5cdFx0XHR2YXIgbmF2SGVpZ2h0ID0gbmF2Lm9mZnNldEhlaWdodDtcblx0XHRcdHZhciBuYXZFbmRIZWlnaHQgPSBhbmltYXRlLmdldE5hdHVyYWxIZWlnaHQoIG5hdiApO1xuXG5cdFx0XHRhbmltYXRlLmFuaW1hdGVIZWlnaHQoIG5hdiwgeyBzdGFydDogbmF2SGVpZ2h0LCBlbmQ6IG5hdkVuZEhlaWdodCwgZHVyYXRpb246IG1lbnVPcGVuRHVyYXRpb24sIGZpbmlzaDogYWRkT3BlbkNsYXNzIH0gKTtcblx0XHR9XG5cblx0XHRpZiAoIGhlYWRlckVsLmhhc0FjdGlvbnMgKSB7XG5cdFx0XHR2YXIgYWN0aW9ucyA9IGhlYWRlckVsLmFjdGlvbnNFbDtcblx0XHRcdHZhciBhY3Rpb25zSGVpZ2h0ID0gYWN0aW9ucy5vZmZzZXRIZWlnaHQ7XG5cdFx0XHR2YXIgYWN0aW9uc0VuZEhlaWdodCA9IGFuaW1hdGUuZ2V0TmF0dXJhbEhlaWdodCggYWN0aW9ucywgXCJhY3Rpb25zSGVpZ2h0V3JhcHBlclwiICk7XG5cblx0XHRcdGFuaW1hdGUuYW5pbWF0ZUhlaWdodCggYWN0aW9ucywgeyBzdGFydDogYWN0aW9uc0hlaWdodCwgZW5kOiBhY3Rpb25zRW5kSGVpZ2h0LCBkdXJhdGlvbjogbWVudU9wZW5EdXJhdGlvbiwgZmluaXNoOiBhZGRPcGVuQ2xhc3MgfSApO1xuXHRcdH1cblxuXHR9IC8vIG9wZW5NZW51XG5cblxuXG5cdC8qXG5cdCAqIEZ1bmM6IGNsb3NlTWVudVxuXHQgKiBEZXNjOiBDbG9zZSBhIG1vYmlsZSBtZW51IHdpdGhpbiBhIGhlYWRlclxuXHQgKiBBcmdzOiBAYnRuIC0gSFRNTCBFbGVtZW50IC0gVGhlIGJ1dHRvbiBlbGVtZW50IHRoYXQgY29udHJvbHMgdGhlIG1lbnUgd2hpY2ggc2hvdWxkIGJlIGNsb3NlZFxuXHQgKlx0XHQgQGhlYWRlckVsIC0gSFRNTCBFbGVtZW50IC0gVGhlIGhlYWRlciBlbGVtZW50IHdob3NlIG1lbnUgc2hvdWxkIGJlIGNsb3NlZFxuXHQgKi9cblx0ZnVuY3Rpb24gY2xvc2VNZW51KCBidG4sIGhlYWRlckVsICkge1xuXG5cdFx0Ly8gU2V0IHRoZSBvcGVuL2Nsb3NlZCBhdHRyaWJ1dGUgb24gdGhlIGJ1dHRvblxuXHRcdGJ0bi5zZXRBdHRyaWJ1dGUoZXhwYW5kZWRBdHRyLCBmYWxzZSk7XG5cblx0XHQvLyBTZXQgdGhlIG9wZW4vY2xvc2VkIGF0dHJpYnV0ZSBvbiB0aGUgaGVhZGVyXG5cblx0XHRmdW5jdGlvbiByZW1vdmVPcGVuQ2xhc3MoKSB7XG5cdFx0XHRoZWFkZXJFbC5yZW1vdmVDbGFzcyggbWVudU9wZW5DbGFzcyApO1x0XHRcdFxuXHRcdH1cblxuXHRcdC8vIEFuaW1hdGUgdGhlIGVsZW1lbnRzXG5cdFx0aWYgKCBoZWFkZXJFbC5oYXNOYXYgKSB7XG5cdFx0XHR2YXIgbmF2ID0gaGVhZGVyRWwubmF2RWw7XG5cdFx0XHR2YXIgbmF2SGVpZ2h0ID0gbmF2Lm9mZnNldEhlaWdodDtcblxuXHRcdFx0YW5pbWF0ZS5hbmltYXRlSGVpZ2h0KCBuYXYsIHsgc3RhcnQ6IG5hdkhlaWdodCwgZW5kOiAwLCBmaW5pc2g6IHJlbW92ZU9wZW5DbGFzcyB9ICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBoZWFkZXJFbC5oYXNBY3Rpb25zICkge1xuXHRcdFx0dmFyIGFjdGlvbnMgPSBoZWFkZXJFbC5hY3Rpb25zRWw7XG5cdFx0XHR2YXIgYWN0aW9uc0hlaWdodCA9IGFjdGlvbnMub2Zmc2V0SGVpZ2h0O1xuXG5cdFx0XHRhbmltYXRlLmFuaW1hdGVIZWlnaHQoIGFjdGlvbnMsIHsgc3RhcnQ6IGFjdGlvbnNIZWlnaHQsIGVuZDogMCwgZmluaXNoOiByZW1vdmVPcGVuQ2xhc3MgfSApO1xuXHRcdH1cblxuXHR9IC8vIGNsb3NlTWVudVxuXG5cbn0pKCk7Il19
