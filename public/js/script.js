var animate=function(){var a,n,l=(n=(a=[0,6e-5,24e-5,54e-5,97e-5,.00153,.00221,.00303,.00398,.00506,.00629,.00765,.00916,.01081,.0126,.01455,.01664,.01889,.0213,.02386,.02658,.02946,.0325,.03571,.03908,.04262,.04632,.05019,.05423,.05844,.06283,.06738,.0721,.07699,.08206,.0873,.0927,.09827,.104,.1099,.11597,.12219,.12857,.1351,.14179,.14861,.15559,.16271,.16995,.17734,.18484,.19247,.20021,.20805,.216,.22405,.23219,.24041,.24871,.25708,.26552,.27401,.28256,.29114,.29978,.30844,.31712,.32583,.33455,.34328,.352,.36073,.36945,.37815,.38682,.39548,.40411,.41269,.42126,.42977,.43824,.44666,.45502,.46334,.4716,.4798,.48793,.496,.50399,.51192,.51978,.52757,.53528,.54293,.55049,.55796,.56538,.5727,.57996,.58713,.59421,.60122,.60815,.615,.62175,.62844,.63504,.64157,.648,.65437,.66064,.66684,.67296,.679,.68496,.69084,.69665,.70238,.70803,.7136,.71911,.72452,.72988,.73515,.74036,.74549,.75054,.75554,.76045,.7653,.77007,.77479,.77942,.784,.78851,.79295,.79733,.80163,.80589,.81007,.81419,.81825,.82225,.82619,.83007,.83388,.83765,.84135,.845,.84858,.85211,.85559,.85902,.86239,.8657,.86895,.87217,.87532,.87842,.88149,.88448,.88743,.89034,.89319,.896,.89876,.90147,.90414,.90675,.90933,.91185,.91434,.91678,.91917,.92152,.92383,.92609,.92831,.93049,.93264,.93473,.9368,.93881,.94079,.94273,.94463,.9465,.94832,.95011,.95186,.95357,.95525,.95689,.95849,.96006,.9616,.96309,.96455,.96599,.96738,.96874,.97007,.97136,.97263,.97386,.97506,.97623,.97736,.97847,.97954,.98058,.98159,.98258,.98353,.98445,.98535,.98621,.98705,.98786,.98864,.98939,.99011,.99081,.99147,.99212,.99273,.99332,.99388,.99442,.99493,.99541,.99587,.9963,.99671,.99709,.99745,.99779,.9981,.99838,.99865,.99888,.9991,.99929,.99946,.9996,.99972,.99982,.9999,.99996,.99999,1]).length-1,function(t){var e=Math.round(t*n);return a[e]}),u="animating";return{animateHeight:function(e,t){var n,s,i,r,a=Object.assign({start:0,end:100,fadeIn:!0,duration:200,units:"px"},t),o=l;e.style.height=a.start+a.units,e.addClass(u),e.animation=(n={duration:a.duration,delta:o,step:function(t){e.style.height=a.start+(a.end-a.start)*t+a.units},finish:function(){e.removeClass(u),e.style.removeProperty("height"),"function"==typeof a.finish&&a.finish()},interrupt:function(){e.removeClass(u),e.style.removeProperty("height"),"function"==typeof a.interrupt&&a.interrupt()}},s=new Date,i=!1,r=function(){var t=new Date-s,e=t/n.duration;1<e&&(e=1);var a=n.delta(e);n.step(a),i&&n.interrupt?n.interrupt():e<1?window.requestAnimationFrame(r):n.finish&&n.finish()},window.requestAnimationFrame(r),{stop:function(){i=!0}})},getNaturalHeight:function(t,e){var a,n;return e=e||"",(a=function(t,e){var a=document.createElement(e);for(t.appendChild(a);t.firstChild&&t.firstChild!==a;)a.appendChild(t.firstChild);return a}(t,"div")).className=e,n=a.offsetHeight,function(t){for(var e=t.parentNode;t.firstChild;)e.insertBefore(t.firstChild,t);e.removeChild(t)}(a),n}}}(),byu_main=function(){var e=document;function s(t,e){return 0<e.getElementsByClassName(t).length}return HTMLElement.prototype.hasClass=function(t){return this.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},HTMLElement.prototype.addClass=function(t){for(var e=t.split(","),a=0;a<e.length;a++)-1==(" "+this.className+" ").indexOf(" "+e[a]+" ")&&(this.className+=" "+e[a]);return this},HTMLElement.prototype.removeClass=function(t){if(this.hasClass(t)){var e=new RegExp("(\\s|^)"+t+"(\\s|$)"),a=new RegExp("(\\s|^)"+t);this.className.search(e)&&(this.className=this.className.replace(a,""))}return this},{executeOnLoad:function(t){"loading"!=e.readyState?t():e.addEventListener?e.addEventListener("DOMContentLoaded",t):e.attachEvent("onreadystatechange",function(){"complete"==e.readyState&&t()})},elExists:s,hasChildren:function(t,e){var a,n=!1;return s(t,e)&&(a=e.getElementsByClassName(t),Array.prototype.forEach.call(a,function(t){0<t.children.length&&(n=!0)})),n}}}(),byu_table=function(){"use strict";var n=document;function s(t){var e=t.offsetWidth,a=t.getElementsByTagName("table")[0],n=a.offsetWidth,s="table-wide",i="start-visible",r="end-visible";e<n?(t.hasClass(s)||t.addClass(s),0==a.scrollLeft?t.hasClass(i)||t.addClass(i):t.removeClass(i),n-a.scrollLeft==e?t.hasClass(r)||t.addClass(r):t.removeClass(r)):t.removeClass(s)}byu_main.executeOnLoad(function(){for(var t=n.getElementsByClassName("table-container"),e=0;e<t.length;e++){var a=t[e];s(a)}})}(),byu_header=function(){"use strict";var e=document,u=300,a="js-enabled",h="aria-expanded",f="menu-open",s="byu-site-navigation",i="byu-action-id-search";byu_main.executeOnLoad(function(){var t=e.getElementsByClassName("byu-header");Array.prototype.forEach.call(t,function(t){var e,n;(e=t).hasNav=byu_main.elExists(s,e),e.hasActions=byu_main.hasChildren(i,e),(e.hasNav||e.hasActions)&&(e.addClass(a),(n=e).getElementsByClassName("byu-menu-button")[0].addEventListener("click",function(t){var e,a;e=t.target,a=n,"false"!=e.getAttribute(h)?function(t,e){function a(){e.removeClass(f)}if(t.setAttribute(h,!1),e.hasNav){var n=e.navEl,s=n.offsetHeight;animate.animateHeight(n,{start:s,end:0,finish:a})}if(e.hasActions){var i=e.actionsEl,r=i.offsetHeight;animate.animateHeight(i,{start:r,end:0,finish:a})}}(e,a):function(t,e){function a(){e.hasClass(f)||e.addClass(f)}if(t.setAttribute(h,!0),e.hasNav){var n=e.navEl,s=n.offsetHeight,i=animate.getNaturalHeight(n);animate.animateHeight(n,{start:s,end:i,duration:u,finish:a})}if(e.hasActions){var r=e.actionsEl,o=r.offsetHeight,l=animate.getNaturalHeight(r,"actionsHeightWrapper");animate.animateHeight(r,{start:o,end:l,duration:u,finish:a})}}(e,a)}),e.navEl=e.getElementsByClassName(s)[0],e.actionsEl=e.getElementsByClassName(i)[0])})})}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFuaW1hdGUuanMiLCJtYWluLmpzIiwiMC1mb3VuZGF0aW9uL3RhYmxlL3RhYmxlLmpzIiwiaGVhZGVycy9oZWFkZXIvaGVhZGVyLmpzIl0sIm5hbWVzIjpbImFuaW1hdGUiLCJ5Q29vcmRpbmF0ZXMiLCJsZW4iLCJlYXNlRnVuY3Rpb24iLCJsZW5ndGgiLCJwcm9ncmVzcyIsInAiLCJNYXRoIiwicm91bmQiLCJhbmltYXRpbmdDbGFzcyIsImFuaW1hdGVIZWlnaHQiLCJlbCIsInNldHRpbmdzT2JqIiwib3B0cyIsInN0YXJ0IiwiaW50ZXJydXB0IiwicmVuZGVyIiwicyIsIk9iamVjdCIsImFzc2lnbiIsImVuZCIsImZhZGVJbiIsImR1cmF0aW9uIiwidW5pdHMiLCJlYXNlIiwic3R5bGUiLCJoZWlnaHQiLCJhZGRDbGFzcyIsImFuaW1hdGlvbiIsImRlbHRhIiwic3RlcCIsImZpbmlzaCIsInJlbW92ZUNsYXNzIiwicmVtb3ZlUHJvcGVydHkiLCJEYXRlIiwidGltZVBhc3NlZCIsIndpbmRvdyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInN0b3AiLCJnZXROYXR1cmFsSGVpZ2h0IiwiY2xhc3NOYW1lIiwid3JhcHBlciIsIndyYXAiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJhcHBlbmRDaGlsZCIsImZpcnN0Q2hpbGQiLCJ3cmFwSW5uZXIiLCJvZmZzZXRIZWlnaHQiLCJwYXJlbnQiLCJwYXJlbnROb2RlIiwiaW5zZXJ0QmVmb3JlIiwicmVtb3ZlQ2hpbGQiLCJ1bndyYXAiLCJieXVfbWFpbiIsImRvYyIsImVsRXhpc3RzIiwiY29udGFpbmVyIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsIkhUTUxFbGVtZW50IiwicHJvdG90eXBlIiwiaGFzQ2xhc3MiLCJuYW1lIiwidGhpcyIsIm1hdGNoIiwiUmVnRXhwIiwibmV3X2NsYXNzIiwibmMiLCJzcGxpdCIsImkiLCJpbmRleE9mIiwic2VhcmNoIiwicmVwbGFjZSIsImV4ZWN1dGVPbkxvYWQiLCJmdW5jdGlvbk5hbWUiLCJyZWFkeVN0YXRlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImF0dGFjaEV2ZW50IiwiaGFzQ2hpbGRyZW4iLCJlbHMiLCJBcnJheSIsImZvckVhY2giLCJjYWxsIiwiY2hpbGRyZW4iLCJieXVfdGFibGUiLCJ1cGRhdGVUYWJsZSIsImNfd2lkdGgiLCJvZmZzZXRXaWR0aCIsInRhYmxlIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJ0X3dpZHRoIiwidGFibGVfd2lkZV9jbGFzcyIsInN0YXJ0X3Zpc2libGVfY2xhc3MiLCJlbmRfdmlzaWJsZV9jbGFzcyIsInNjcm9sbExlZnQiLCJjb250YWluZXJzIiwiYnl1X2hlYWRlciIsIm1lbnVPcGVuRHVyYXRpb24iLCJqc0luaXRDbGFzcyIsImV4cGFuZGVkQXR0ciIsIm1lbnVPcGVuQ2xhc3MiLCJzaXRlTmF2Q2xhc3MiLCJzaXRlQWN0aW9uQ2xhc3MiLCJoZWFkZXJFbHMiLCJoZWFkZXJFbCIsImhhc05hdiIsImhhc0FjdGlvbnMiLCJlIiwiYnRuIiwidGFyZ2V0IiwiZ2V0QXR0cmlidXRlIiwicmVtb3ZlT3BlbkNsYXNzIiwic2V0QXR0cmlidXRlIiwibmF2IiwibmF2RWwiLCJuYXZIZWlnaHQiLCJhY3Rpb25zIiwiYWN0aW9uc0VsIiwiYWN0aW9uc0hlaWdodCIsImNsb3NlTWVudSIsImFkZE9wZW5DbGFzcyIsIm5hdkVuZEhlaWdodCIsImFjdGlvbnNFbmRIZWlnaHQiLCJvcGVuTWVudSJdLCJtYXBwaW5ncyI6IkFBR0EsSUFBQUEsUUFBQSxXQUVBLElBNEhBQyxFQUNBQyxFQTdIQUMsR0E2SEFELEdBREFELEVBQUEsQ0FBQSxFQUFBLEtBQUEsTUFBQSxNQUFBLE1BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsTUFBQSxPQUFBLE9BQUEsT0FBQSxNQUFBLE9BQUEsT0FBQSxPQUFBLE1BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsTUFBQSxPQUFBLE9BQUEsTUFBQSxNQUFBLE9BQUEsS0FBQSxNQUFBLE9BQUEsT0FBQSxPQUFBLE1BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxLQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLEtBQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxNQUFBLE1BQUEsT0FBQSxLQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE1BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLEtBQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxLQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsS0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsTUFBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxNQUFBLE9BQUEsT0FBQSxPQUFBLEtBQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLEtBQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE1BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsS0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE1BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxNQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxNQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFB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RUFBQVQsRUFBQVUsTUFDQUMsRUFBQUYsRUFBQWpFLGFBRUFoRCxRQUFBVSxjQUFBdUcsRUFBQSxDQUFBbkcsTUFBQXFHLEVBQUEvRixJQUFBLEVBQUFXLE9BQUFnRixJQUdBLEdBQUFQLEVBQUFFLFdBQUEsQ0FDQSxJQUFBVSxFQUFBWixFQUFBYSxVQUNBQyxFQUFBRixFQUFBcEUsYUFFQWhELFFBQUFVLGNBQUEwRyxFQUFBLENBQUF0RyxNQUFBd0csRUFBQWxHLElBQUEsRUFBQVcsT0FBQWdGLEtBM0VBUSxDQUFBWCxFQUFBSixHQWFBLFNBQUFJLEVBQUFKLEdBTUEsU0FBQWdCLElBQ0FoQixFQUFBM0MsU0FBQXVDLElBQ0FJLEVBQUE3RSxTQUFBeUUsR0FLQSxHQVZBUSxFQUFBSSxhQUFBYixHQUFBLEdBVUFLLEVBQUFDLE9BQUEsQ0FDQSxJQUFBUSxFQUFBVCxFQUFBVSxNQUNBQyxFQUFBRixFQUFBakUsYUFDQXlFLEVBQUF6SCxRQUFBdUMsaUJBQUEwRSxHQUVBakgsUUFBQVUsY0FBQXVHLEVBQUEsQ0FBQW5HLE1BQUFxRyxFQUFBL0YsSUFBQXFHLEVBQUFuRyxTQUFBMkUsRUFBQWxFLE9BQUF5RixJQUdBLEdBQUFoQixFQUFBRSxXQUFBLENBQ0EsSUFBQVUsRUFBQVosRUFBQWEsVUFDQUMsRUFBQUYsRUFBQXBFLGFBQ0EwRSxFQUFBMUgsUUFBQXVDLGlCQUFBNkUsRUFBQSx3QkFFQXBILFFBQUFVLGNBQUEwRyxFQUFBLENBQUF0RyxNQUFBd0csRUFBQWxHLElBQUFzRyxFQUFBcEcsU0FBQTJFLEVBQUFsRSxPQUFBeUYsS0E1Q0FHLENBQUFmLEVBQUFKLEtBckNBQSxFQUFBVSxNQUFBVixFQUFBOUMsdUJBQUEyQyxHQUFBLEdBQ0FHLEVBQUFhLFVBQUFiLEVBQUE5Qyx1QkFBQTRDLEdBQUEsUUE1REEiLCJmaWxlIjoic2NyaXB0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKi9cclxuLyohIEFuaW1hdGUgKi9cclxuXHJcbnZhciBhbmltYXRlID0gKGZ1bmN0aW9uKCkge1xyXG5cclxuICAgIHZhciBlYXNlRnVuY3Rpb24gPSBjdWJpY0JlemllckRlZmluZWQoKTtcclxuICAgIHZhciBhbmltYXRpbmdDbGFzcyA9ICdhbmltYXRpbmcnO1xyXG5cclxuICAgIC8vIEFuaW1hdGlvblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBGdW5jOiBhbmltYXRlSGVpZ2h0XHJcbiAgICAgKiBEZXNjOiBBbmltYXRlIHRoZSBoZWlnaHQgb2YgYW4gaXRlbVxyXG4gICAgICogQXJnczogQGVsIC0gSFRNTCBFbGVtZW50IC0gVGhlIEhUTUwgZWxlbWVudCB0byBhbmltYXRlXHJcbiAgICAgKiAgICAgICBAc2V0dGluZ3NPYmogLSBPYmplY3QgLSBDb250YWlucyBwcm9wZXJ0aWVzIHRvIG92ZXJyaWRlIGRlZmF1bHQgc2V0dGluZ3NcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gYW5pbWF0ZUhlaWdodChlbCwgc2V0dGluZ3NPYmopIHtcclxuXHJcbiAgICAgICAgLy8gU2V0IGRlZmF1bHRzIGFuZCBvdmVyd3JpdGUgd2l0aCBwYXNzZWQgb2JqZWN0IChzZXR0aW5nc09iailcclxuICAgICAgICB2YXIgcyA9IE9iamVjdC5hc3NpZ24oe1xyXG4gICAgICAgICAgICBzdGFydDogMCxcclxuICAgICAgICAgICAgZW5kOiAxMDAsXHJcbiAgICAgICAgICAgIGZhZGVJbjogdHJ1ZSxcclxuICAgICAgICAgICAgZHVyYXRpb246IDIwMCxcclxuICAgICAgICAgICAgdW5pdHM6IFwicHhcIixcclxuICAgICAgICB9LCBzZXR0aW5nc09iaik7XHJcblxyXG4gICAgICAgIHZhciBlYXNlID0gZWFzZUZ1bmN0aW9uO1xyXG5cclxuICAgICAgICBlbC5zdHlsZS5oZWlnaHQgPSBzLnN0YXJ0ICsgcy51bml0cztcclxuICAgICAgICBlbC5hZGRDbGFzcyhhbmltYXRpbmdDbGFzcyk7XHJcblxyXG4gICAgICAgIC8vIEFuaW1hdGUgaGVpZ2h0IGF0IGlucHV0IHJhdGVcclxuICAgICAgICBlbC5hbmltYXRpb24gPSBhbmltYXRlKHtcclxuICAgICAgICAgICAgZHVyYXRpb246IHMuZHVyYXRpb24sXHJcbiAgICAgICAgICAgIGRlbHRhOiBlYXNlLFxyXG4gICAgICAgICAgICBzdGVwOiBmdW5jdGlvbihkZWx0YSkge1xyXG4gICAgICAgICAgICAgICAgZWwuc3R5bGUuaGVpZ2h0ID0gcy5zdGFydCArICgocy5lbmQgLSBzLnN0YXJ0KSAqIGRlbHRhKSArIHMudW5pdHM7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZpbmlzaDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBlbC5yZW1vdmVDbGFzcyhhbmltYXRpbmdDbGFzcyk7XHJcbiAgICAgICAgICAgICAgICBlbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eShcImhlaWdodFwiKTtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygcy5maW5pc2ggPT0gXCJmdW5jdGlvblwiKSB7IHMuZmluaXNoKCk7IH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaW50ZXJydXB0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGVsLnJlbW92ZUNsYXNzKGFuaW1hdGluZ0NsYXNzKTtcclxuICAgICAgICAgICAgICAgIGVsLnN0eWxlLnJlbW92ZVByb3BlcnR5KFwiaGVpZ2h0XCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzLmludGVycnVwdCA9PSBcImZ1bmN0aW9uXCIpIHsgcy5pbnRlcnJ1cHQoKTsgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfSAvLyBhbmltYXRlSGVpZ2h0XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBGdW5jOiBhbmltYXRlXHJcbiAgICAgKiBEZXNjOiBBbmltYXRlIGZ1bmN0aW9uXHJcbiAgICAgKiBTcmM6ICBodHRwOi8vamF2YXNjcmlwdC5pbmZvL3R1dG9yaWFsL2FuaW1hdGlvbiAobWFpbiBhbmltYXRpb24gZnVuY3Rpb25zKVxyXG4gICAgICogICAgICAgaHR0cDovL2NyZWF0aXZlanMuY29tL3Jlc291cmNlcy9yZXF1ZXN0YW5pbWF0aW9uZnJhbWUvIChyZXF1ZXN0QW5pbWF0aW9uRnJhbWUpXHJcbiAgICAgKiBBcmdzOiBAb3B0cyAtIE9iamVjdCAtIFRoZSBvcHRpb25zIG9iamVjdFxyXG4gICAgICogICAgICAgICBjb250YWluczogQGR1cmF0aW9uIC0gTnVtYmVyIC0gTWlsbGlzZWNvbmRzIGZvciB0b3RhbCBhbmltYXRpb25cclxuICAgICAqICAgICAgICAgICAgICAgICAgIEBkZWx0YSAtIEZ1bmN0aW9uIC0gRWFzaW5nIGZ1bmN0aW9uXHJcbiAgICAgKiAgICAgICAgICAgICAgICAgICBAc3RlcCAtIEZ1bmN0aW9uIC0gUmVzdWx0IGZ1bmN0aW9uICh3aGF0IHNob3VsZCBoYXBwZW4gb24gc2NyZWVuIGVhY2ggZnJhbWUpXHJcbiAgICAgKiAgICAgICAgICAgICAgICAgICBAZmluaXNoIC0gRnVuY3Rpb24gLSBvcHRpb25hbC0gRW5kIGZ1bmN0aW9uICh3aGF0IGhhcHBlbnMgd2hlbiBhbmltYXRpb24gZmluaXNoZXMpXHJcbiAgICAgKiAgICAgICAgICAgICAgICAgICBAaW50ZXJydXB0IC0gRnVuY3Rpb24gLSBvcHRpb25hbC0gRW5kIGZ1bmN0aW9uICh3aGF0IGhhcHBlbnMgaWYgYW5pbWF0aW9uIGlzIGludGVycnVwdGVkKVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBhbmltYXRlKG9wdHMpIHtcclxuXHJcbiAgICAgICAgdmFyIHN0YXJ0ID0gbmV3IERhdGUoKTsgLy8gR2V0IHRoZSBzdGFydCB0aW1lXHJcbiAgICAgICAgdmFyIGludGVycnVwdCA9IGZhbHNlOyAvLyBJZiB0aGlzIGlzIHRydWUsIGFuaW1hdGlvbiB3aWxsIHN0b3BcclxuICAgICAgICB2YXIgc3RvcCA9IGZ1bmN0aW9uKCkgeyBpbnRlcnJ1cHQgPSB0cnVlOyB9OyAvLyBTdG9wcyB0aGlzIGFuaW1hdGlvblxyXG5cclxuICAgICAgICAvLyBUaGUgcmVuZGVyIGZ1bmN0aW9uXHJcbiAgICAgICAgdmFyIHJlbmRlciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgdGltZVBhc3NlZCA9IG5ldyBEYXRlKCkgLSBzdGFydDsgLy8gVGhlIGFtb3VudCBvZiB0aW1lIGVsYXBzZWQgc2luY2Ugc3RhcnRcclxuICAgICAgICAgICAgdmFyIHByb2dyZXNzID0gdGltZVBhc3NlZCAvIG9wdHMuZHVyYXRpb247IC8vIFBlcmNlbnRhZ2Ugb2YgdGltZSBwYXNzZWQgaW4gZnVsbCBleHBlY3RlZCBkdXJhdGlvblxyXG5cclxuICAgICAgICAgICAgaWYgKHByb2dyZXNzID4gMSkgeyBwcm9ncmVzcyA9IDE7IH0gLy8gQ2FwIHBlcmNlbnRhZ2UgYXQgMSAoMTAwJSlcclxuXHJcbiAgICAgICAgICAgIHZhciBkZWx0YSA9IG9wdHMuZGVsdGEocHJvZ3Jlc3MpOyAvLyBBcHBseSBlYXNpbmcgZnVuY3Rpb25cclxuICAgICAgICAgICAgb3B0cy5zdGVwKGRlbHRhKTsgLy8gQXBwbHkgdGhlIHN0ZXAgZnVjdGlvbiBmcm9tIHRoZSBvcHRpb25zIG9iamVjdCAocmVuZGVycyBhIGNoYW5nZSBvbiBzY3JlZW4pXHJcblxyXG4gICAgICAgICAgICAvLyBJbnRlcnJ1cHQsIGNvbnRpbnVlLCBvciBmaW5pc2ggZGVwZW5kaW5nIG9uIHByb2dyZXNzXHJcbiAgICAgICAgICAgIGlmIChpbnRlcnJ1cHQgJiYgb3B0cy5pbnRlcnJ1cHQpIHtcclxuICAgICAgICAgICAgICAgIG9wdHMuaW50ZXJydXB0KCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocHJvZ3Jlc3MgPCAxKSB7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJlbmRlcik7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAob3B0cy5maW5pc2gpIHtcclxuICAgICAgICAgICAgICAgIG9wdHMuZmluaXNoKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBTdGFydCB0aGUgYW5pbWF0aW9uXHJcbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShyZW5kZXIpO1xyXG5cclxuICAgICAgICByZXR1cm4geyBzdG9wOiBzdG9wIH07XHJcblxyXG4gICAgfSAvLyBhbmltYXRlXHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBGdW5jOiBlYXNlSW5PdXRcclxuICAgICAqIERlc2M6IEVhc2luZyBmdW5jdGlvblxyXG4gICAgICogQXJnczogQHBvd2VyIC0gUG9zaXRpdmUgSW50ZWdlciAtIE1hdGggcG93ZXIgdGhhdCBzcGVjaWZpZXMgZWFzaW5nIGN1cnZlIChkZWZhdWx0IDMpXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGVhc2VJbk91dChwb3dlcikge1xyXG4gICAgICAgIHBvd2VyID0gcG93ZXIgPyBwb3dlciA6IDM7XHJcbiAgICAgICAgdmFyIGRlbHRhID0gZnVuY3Rpb24ocHJvZ3Jlc3MpIHtcclxuICAgICAgICAgICAgcmV0dXJuIE1hdGgucG93KHByb2dyZXNzLCBwb3dlcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24ocHJvZ3Jlc3MpIHtcclxuICAgICAgICAgICAgaWYgKHByb2dyZXNzIDwgLjUpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVsdGEoMiAqIHByb2dyZXNzKSAvIDJcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICgyIC0gZGVsdGEoMiAqICgxIC0gcHJvZ3Jlc3MpKSkgLyAyXHJcbiAgICAgICAgfVxyXG4gICAgfSAvLyBlYXNlSW5PdXRcclxuXHJcblxyXG4gICAgLypcclxuICAgICAqIEZ1bmM6IGN1YmljQmV6aWVyRGVmaW5lZFxyXG4gICAgICogRGVzYzogRWFzaW5nIGZ1bmN0aW9uIGJhc2VkIG9uIENTUyBlYXNpbmc6IGN1YmljLWJlemllcigwLjMsIDAsIDAuMywgMSkuXHJcbiAgICAgKiAgICAgICB5Q29vcmRpbmF0ZXMgZ2VuZXJhdGVkIGJ5IHJ1bm5pbmcgYSBjdWJpYyBiZXppZXIgZnVuY3Rpb24gKHJldHVybmluZyBYIGFuZCBZIGNvb3JkaW5hdGVzIGJhc2VkIG9uIHRpbWUpXHJcbiAgICAgKiAgICAgICBhbmQgb3V0cHV0dGluZyB0aGUgWSB2YWx1ZXMgYXNzb2NpYXRlZCB3aXRoIHRoZSBYIHZhbHVlcyB0aGF0IGZhbGwgY2xvc2VzdCB0byBlYWNoIGh1bmRyZWR0aCAoLjAxLCAuMDIsIC4uLikuXHJcbiAgICAgKiAgICAgICBUaGlzIGFsbG93cyBhIHF1aWNrIGxvb2t1cCBiYXNlZCBvbiBhbmltYXRpb24gcHJvZ3Jlc3MuIFByb2dyZXNzICglKSAqIGFycmF5IGxlbmd0aCBpcyB0aGUgaW5kZXggb2YgdGhlIFkgdmFsdWUuXHJcbiAgICAgKiBBcmdzOiBub25lXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGN1YmljQmV6aWVyRGVmaW5lZCgpIHtcclxuICAgICAgICB2YXIgeUNvb3JkaW5hdGVzID0gWzAsIDAuMDAwMDYsIDAuMDAwMjQsIDAuMDAwNTQsIDAuMDAwOTcsIDAuMDAxNTMsIDAuMDAyMjEsIDAuMDAzMDMsIDAuMDAzOTgsIDAuMDA1MDYsIDAuMDA2MjksIDAuMDA3NjUsIDAuMDA5MTYsIDAuMDEwODEsIDAuMDEyNiwgMC4wMTQ1NSwgMC4wMTY2NCwgMC4wMTg4OSwgMC4wMjEzLCAwLjAyMzg2LCAwLjAyNjU4LCAwLjAyOTQ2LCAwLjAzMjUsIDAuMDM1NzEsIDAuMDM5MDgsIDAuMDQyNjIsIDAuMDQ2MzIsIDAuMDUwMTksIDAuMDU0MjMsIDAuMDU4NDQsIDAuMDYyODMsIDAuMDY3MzgsIDAuMDcyMSwgMC4wNzY5OSwgMC4wODIwNiwgMC4wODczLCAwLjA5MjcsIDAuMDk4MjcsIDAuMTA0LCAwLjEwOTksIDAuMTE1OTcsIDAuMTIyMTksIDAuMTI4NTcsIDAuMTM1MSwgMC4xNDE3OSwgMC4xNDg2MSwgMC4xNTU1OSwgMC4xNjI3MSwgMC4xNjk5NSwgMC4xNzczNCwgMC4xODQ4NCwgMC4xOTI0NywgMC4yMDAyMSwgMC4yMDgwNSwgMC4yMTYsIDAuMjI0MDUsIDAuMjMyMTksIDAuMjQwNDEsIDAuMjQ4NzEsIDAuMjU3MDgsIDAuMjY1NTIsIDAuMjc0MDEsIDAuMjgyNTYsIDAuMjkxMTQsIDAuMjk5NzgsIDAuMzA4NDQsIDAuMzE3MTIsIDAuMzI1ODMsIDAuMzM0NTUsIDAuMzQzMjgsIDAuMzUyLCAwLjM2MDczLCAwLjM2OTQ1LCAwLjM3ODE1LCAwLjM4NjgyLCAwLjM5NTQ4LCAwLjQwNDExLCAwLjQxMjY5LCAwLjQyMTI2LCAwLjQyOTc3LCAwLjQzODI0LCAwLjQ0NjY2LCAwLjQ1NTAyLCAwLjQ2MzM0LCAwLjQ3MTYsIDAuNDc5OCwgMC40ODc5MywgMC40OTYsIDAuNTAzOTksIDAuNTExOTIsIDAuNTE5NzgsIDAuNTI3NTcsIDAuNTM1MjgsIDAuNTQyOTMsIDAuNTUwNDksIDAuNTU3OTYsIDAuNTY1MzgsIDAuNTcyNywgMC41Nzk5NiwgMC41ODcxMywgMC41OTQyMSwgMC42MDEyMiwgMC42MDgxNSwgMC42MTUsIDAuNjIxNzUsIDAuNjI4NDQsIDAuNjM1MDQsIDAuNjQxNTcsIDAuNjQ4LCAwLjY1NDM3LCAwLjY2MDY0LCAwLjY2Njg0LCAwLjY3Mjk2LCAwLjY3OSwgMC42ODQ5NiwgMC42OTA4NCwgMC42OTY2NSwgMC43MDIzOCwgMC43MDgwMywgMC43MTM2LCAwLjcxOTExLCAwLjcyNDUyLCAwLjcyOTg4LCAwLjczNTE1LCAwLjc0MDM2LCAwLjc0NTQ5LCAwLjc1MDU0LCAwLjc1NTU0LCAwLjc2MDQ1LCAwLjc2NTMsIDAuNzcwMDcsIDAuNzc0NzksIDAuNzc5NDIsIDAuNzg0LCAwLjc4ODUxLCAwLjc5Mjk1LCAwLjc5NzMzLCAwLjgwMTYzLCAwLjgwNTg5LCAwLjgxMDA3LCAwLjgxNDE5LCAwLjgxODI1LCAwLjgyMjI1LCAwLjgyNjE5LCAwLjgzMDA3LCAwLjgzMzg4LCAwLjgzNzY1LCAwLjg0MTM1LCAwLjg0NSwgMC44NDg1OCwgMC44NTIxMSwgMC44NTU1OSwgMC44NTkwMiwgMC44NjIzOSwgMC44NjU3LCAwLjg2ODk1LCAwLjg3MjE3LCAwLjg3NTMyLCAwLjg3ODQyLCAwLjg4MTQ5LCAwLjg4NDQ4LCAwLjg4NzQzLCAwLjg5MDM0LCAwLjg5MzE5LCAwLjg5NiwgMC44OTg3NiwgMC45MDE0NywgMC45MDQxNCwgMC45MDY3NSwgMC45MDkzMywgMC45MTE4NSwgMC45MTQzNCwgMC45MTY3OCwgMC45MTkxNywgMC45MjE1MiwgMC45MjM4MywgMC45MjYwOSwgMC45MjgzMSwgMC45MzA0OSwgMC45MzI2NCwgMC45MzQ3MywgMC45MzY4LCAwLjkzODgxLCAwLjk0MDc5LCAwLjk0MjczLCAwLjk0NDYzLCAwLjk0NjUsIDAuOTQ4MzIsIDAuOTUwMTEsIDAuOTUxODYsIDAuOTUzNTcsIDAuOTU1MjUsIDAuOTU2ODksIDAuOTU4NDksIDAuOTYwMDYsIDAuOTYxNiwgMC45NjMwOSwgMC45NjQ1NSwgMC45NjU5OSwgMC45NjczOCwgMC45Njg3NCwgMC45NzAwNywgMC45NzEzNiwgMC45NzI2MywgMC45NzM4NiwgMC45NzUwNiwgMC45NzYyMywgMC45NzczNiwgMC45Nzg0NywgMC45Nzk1NCwgMC45ODA1OCwgMC45ODE1OSwgMC45ODI1OCwgMC45ODM1MywgMC45ODQ0NSwgMC45ODUzNSwgMC45ODYyMSwgMC45ODcwNSwgMC45ODc4NiwgMC45ODg2NCwgMC45ODkzOSwgMC45OTAxMSwgMC45OTA4MSwgMC45OTE0NywgMC45OTIxMiwgMC45OTI3MywgMC45OTMzMiwgMC45OTM4OCwgMC45OTQ0MiwgMC45OTQ5MywgMC45OTU0MSwgMC45OTU4NywgMC45OTYzLCAwLjk5NjcxLCAwLjk5NzA5LCAwLjk5NzQ1LCAwLjk5Nzc5LCAwLjk5ODEsIDAuOTk4MzgsIDAuOTk4NjUsIDAuOTk4ODgsIDAuOTk5MSwgMC45OTkyOSwgMC45OTk0NiwgMC45OTk2LCAwLjk5OTcyLCAwLjk5OTgyLCAwLjk5OTksIDAuOTk5OTYsIDAuOTk5OTksIDFdO1xyXG4gICAgICAgIHZhciBsZW4gPSB5Q29vcmRpbmF0ZXMubGVuZ3RoIC0gMTtcclxuXHJcbiAgICAgICAgLy8gUmV0dXJuIHRoZSBlYXNlaW5nIGZ1bmN0aW9uLCB3aGljaCByZXR1cm5zIGFuIGVhc2VkIHZhbHVlICgw4oCTMSkgYmFzZWQgb24gdGhlIHByb2dyZXNzICgw4oCTMSwgaS5lIDAlLTEwMCUpXHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHByb2dyZXNzKSB7XHJcbiAgICAgICAgICAgIHZhciBwID0gTWF0aC5yb3VuZChwcm9ncmVzcyAqIGxlbik7XHJcbiAgICAgICAgICAgIHJldHVybiB5Q29vcmRpbmF0ZXNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKlxyXG4gICAgICogRnVuYzogZ2V0TmF0dXJhbEhlaWdodFxyXG4gICAgICogRGVzYzogR2V0IHRoZSBoZWlnaHQgb2YgYW4gZWxlbWVudCBvbiB0aGUgcGFnZSAoYmVmb3JlIHZpc2libHkgcmVuZGVyaW5nIGl0IG9uIHRoZSBwYWdlKVxyXG4gICAgICogQXJnczogQGVsIC0gSFRNTCBFbGVtZW50IC0gVGhlIGVsZW1lbnQgdG8gbWVhc3VyZVxyXG4gICAgICogICAgICAgQGNsYXNzTmFtZSAtIFN0cmluZyAtIENsYXNzIHRoYXQgdGVtcG9yYXJ5IHdyYXBwZXIgZWxlbWVudCBzaG91bGQgaGF2ZSAodG8gYWxsb3cgZm9yIGNvcnJlY3Qgc3R5bGluZyBhbmQgY29ycmVjdCBoZWlnaHQgdGVzdGluZylcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gZ2V0TmF0dXJhbEhlaWdodChlbCwgY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgdmFyIHdyYXBwZXIsIHRlc3REaXYsIGhlaWdodDtcclxuICAgICAgICB2YXIgY2xhc3NOYW1lID0gY2xhc3NOYW1lIHx8IFwiXCI7XHJcblxyXG4gICAgICAgIHdyYXBwZXIgPSB3cmFwSW5uZXIoZWwsIFwiZGl2XCIpO1xyXG4gICAgICAgIHdyYXBwZXIuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xyXG4gICAgICAgIGhlaWdodCA9IHdyYXBwZXIub2Zmc2V0SGVpZ2h0O1xyXG5cclxuICAgICAgICB1bndyYXAod3JhcHBlcik7XHJcblxyXG4gICAgICAgIHJldHVybiBoZWlnaHQ7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcblxyXG4gICAgLypcclxuICAgICAqIEZ1bmM6IHdyYXBJbm5lclxyXG4gICAgICogRGVzYzogV3JhcCB0aGUgY29udGVudHMgb2YgYW4gZWxlbWVudCBpbiBhIG5ldyBIVE1MIGVsZW1lbnRcclxuICAgICAqIEFyZ3M6IEBlbCAtIEhUTUxFbGVtZW50IC0gVGhlIGVsZW1lbnQgd2hvc2UgY29udGVudHMgc2hvdWxkIGJlIHdyYXBwZWRcclxuICAgICAqICAgICAgIEB3cmFwcGVyIC0gU3RyaW5nIC0gVGhlIHR5cGUgb2YgSFRNTCBlbGVtZW50IHRoYXQgc2hvdWxkIHdyYXAgdGhlIGNvbnRlbnRzXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIHdyYXBJbm5lcihlbCwgd3JhcHBlcikge1xyXG4gICAgICAgIHZhciB3cmFwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh3cmFwcGVyKTtcclxuXHJcbiAgICAgICAgLy8gQXBwZW5kIGEgd3JhcHBlciBub2RlXHJcbiAgICAgICAgZWwuYXBwZW5kQ2hpbGQod3JhcCk7XHJcblxyXG4gICAgICAgIC8vIE1vdmUgYWxsIGNoaWxkcmVuIGludG8gdGhlIHdyYXBwZXIgZWxlbWVudFxyXG4gICAgICAgIHdoaWxlIChlbC5maXJzdENoaWxkICYmIGVsLmZpcnN0Q2hpbGQgIT09IHdyYXApIHdyYXAuYXBwZW5kQ2hpbGQoZWwuZmlyc3RDaGlsZCk7XHJcblxyXG4gICAgICAgIHJldHVybiB3cmFwO1xyXG4gICAgfVxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBGdW5jOiB1bndyYXBcclxuICAgICAqIERlc2M6IFVud3JhcCB0aGUgcGFyZW50IGVsZW1lbnQgb2YgdGhlIHNwZWNpZmllZCBET00gZWxlbWVudFxyXG4gICAgICogU3JjOiAgaHR0cHM6Ly9wbGFpbmpzLmNvbS9qYXZhc2NyaXB0L21hbmlwdWxhdGlvbi91bndyYXAtYS1kb20tZWxlbWVudC0zNS9cclxuICAgICAqIEFyZ3M6IEBlbCAtIEhUTUxFbGVtZW50IC0gVGhlIGVsZW1lbnQgdG8gZGVzdHJveVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiB1bndyYXAoZWwpIHtcclxuICAgICAgICAvLyBnZXQgdGhlIGVsZW1lbnQncyBwYXJlbnQgbm9kZVxyXG4gICAgICAgIHZhciBwYXJlbnQgPSBlbC5wYXJlbnROb2RlO1xyXG5cclxuICAgICAgICAvLyBtb3ZlIGFsbCBjaGlsZHJlbiBvdXQgb2YgdGhlIHdyYXBwZXIgZWxlbWVudFxyXG4gICAgICAgIHdoaWxlIChlbC5maXJzdENoaWxkKSBwYXJlbnQuaW5zZXJ0QmVmb3JlKGVsLmZpcnN0Q2hpbGQsIGVsKTtcclxuXHJcbiAgICAgICAgLy8gcmVtb3ZlIHRoZSBlbXB0eSBlbGVtZW50XHJcbiAgICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKGVsKTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgYW5pbWF0ZUhlaWdodDogYW5pbWF0ZUhlaWdodCxcclxuICAgICAgICBnZXROYXR1cmFsSGVpZ2h0OiBnZXROYXR1cmFsSGVpZ2h0XHJcbiAgICB9XHJcblxyXG5cclxufSkoKTsiLCIvKlxyXG4gKiBNb2R1bGU6IEJZVSBNYWluXHJcbiAqIERlc2M6ICAgRnVuY3Rpb25zIHRoYXQgYXBwbHkgdG8gYWxsIEJZVSBwYWdlcywgY29tcG9uZW50cywgb3Igc2NyaXB0c1xyXG4gKi9cclxuXHJcbnZhciBieXVfbWFpbiA9IChmdW5jdGlvbigpe1xyXG5cclxuXHR2YXIgZG9jID0gZG9jdW1lbnQ7XHJcblxyXG5cdC8qXHJcblx0ICogSFRNTCBQcm90b3R5cGUgZnVuY3Rpb24gYXNzaWdubWVudHNcclxuXHQgKiBEZXNjOiBNYWtlIGl0IGVhc3kgdG8gYWRkLCB0ZXN0LCBhbmQgcmVtb3ZlIEhUTUwgY2xhc3NlcyB2aWEgY29tcGF0aWJsZSwgcGxhaW4gSlNcclxuXHQgKiBTcmM6ICBodHRwczovL2Nzcy10cmlja3MuY29tL3NuaXBwZXRzL2phdmFzY3JpcHQvYWRkY2xhc3MtZnVuY3Rpb24vI2NvbW1lbnQtMTYxODQwNVxyXG5cdCAqL1xyXG5cdFxyXG5cdC8vIEhhc0NsYXNzXHJcblx0SFRNTEVsZW1lbnQucHJvdG90eXBlLmhhc0NsYXNzID0gZnVuY3Rpb24obmFtZSkge1xyXG5cdCAgICByZXR1cm4gdGhpcy5jbGFzc05hbWUubWF0Y2gobmV3IFJlZ0V4cCgnKFxcXFxzfF4pJytuYW1lKycoXFxcXHN8JCknKSk7XHJcblx0fTtcclxuXHJcblx0Ly8gQWRkQ2xhc3NcclxuXHRIVE1MRWxlbWVudC5wcm90b3R5cGUuYWRkQ2xhc3MgPSBmdW5jdGlvbihuZXdfY2xhc3MpIHsgICBcclxuXHQgICAgdmFyIG5jID0gbmV3X2NsYXNzLnNwbGl0KFwiLFwiKTtcclxuXHJcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmMubGVuZ3RoOyBpKyspIHtcclxuXHQgICAgICAgIGlmICgoXCIgXCIgKyB0aGlzLmNsYXNzTmFtZSArIFwiIFwiKS5pbmRleE9mKFwiIFwiICsgbmNbaV0gKyBcIiBcIikgPT0gLTEpIHtcclxuXHQgICAgICAgICAgICB0aGlzLmNsYXNzTmFtZSArPSBcIiBcIiArIG5jW2ldO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICB9XHJcblx0ICAgIHJldHVybiB0aGlzO1xyXG5cdH07XHJcblxyXG5cdC8vIFJlbW92ZUNsYXNzXHJcblx0SFRNTEVsZW1lbnQucHJvdG90eXBlLnJlbW92ZUNsYXNzID0gZnVuY3Rpb24obmFtZSkge1xyXG5cdCAgaWYgKHRoaXMuaGFzQ2xhc3MobmFtZSkpIHtcclxuXHQgICAgdmFyIHNlYXJjaCA9IG5ldyBSZWdFeHAoJyhcXFxcc3xeKScrbmFtZSsnKFxcXFxzfCQpJyk7IC8vIFJlZ0V4IHRvIGlkZW50aWZ5IG1hdGNoXHJcblx0ICAgIHZhciByZXBsYWNlID0gbmV3IFJlZ0V4cCgnKFxcXFxzfF4pJytuYW1lKTsgLy8gUmVnRXggdG8gcmVwbGFjZSBpZiBtYXRjaGVkXHJcblx0ICAgIGlmICggdGhpcy5jbGFzc05hbWUuc2VhcmNoKHNlYXJjaCkgKSB7XHJcblx0ICAgIFx0dGhpcy5jbGFzc05hbWUgPSB0aGlzLmNsYXNzTmFtZS5yZXBsYWNlKHJlcGxhY2UsJycpO1xyXG5cdCAgICB9XHJcblx0ICB9XHJcblx0ICByZXR1cm4gdGhpcztcclxuXHR9O1xyXG5cclxuXHJcblxyXG5cclxuXHJcblx0LypcclxuXHQgKiBGdW5jOiBleGVjdXRlT25Mb2FkXHJcblx0ICogRGVzYzogRXhlY3V0ZSBzcGVjaWZpZWQgZnVuY3Rpb24gd2hlbiB0aGUgRE9NIGlzIHJlYWR5LiBIYW5kbGUgXHJcblx0ICogQXJnczogQGZ1bmN0aW9uTmFtZSAtIEZ1bmN0aW9uIElkZW50aWZpZXIgLSBOYW1lIG9mIHRoZSBmdW5jdGlvbiB0byBleGVjdXRlXHJcblx0ICovXHJcblx0ZnVuY3Rpb24gZXhlY3V0ZU9uTG9hZCggZnVuY3Rpb25OYW1lICkge1xyXG5cclxuXHRcdC8vIGluIGNhc2UgdGhlIGRvY3VtZW50IGlzIGFscmVhZHkgcmVuZGVyZWRcclxuXHRcdGlmIChkb2MucmVhZHlTdGF0ZSE9J2xvYWRpbmcnKSBmdW5jdGlvbk5hbWUoKTtcclxuXHJcblx0XHQvLyBtb2Rlcm4gYnJvd3NlcnNcclxuXHRcdGVsc2UgaWYgKGRvYy5hZGRFdmVudExpc3RlbmVyKSBkb2MuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uTmFtZSk7XHJcblxyXG5cdFx0Ly8gSUUgPD0gOFxyXG5cdFx0ZWxzZSBkb2MuYXR0YWNoRXZlbnQoJ29ucmVhZHlzdGF0ZWNoYW5nZScsIGZ1bmN0aW9uKCl7XHJcblx0XHQgICAgaWYgKGRvYy5yZWFkeVN0YXRlPT0nY29tcGxldGUnKSBmdW5jdGlvbk5hbWUoKTtcclxuXHRcdH0pO1xyXG5cclxuXHR9IC8vIGV4ZWN1dGVPbkxvYWRcclxuXHJcblxyXG5cclxuXHJcblx0LypcclxuXHQgKiBGdW5jOiBlbEV4aXN0c1xyXG5cdCAqIERlc2M6IENoZWNrIHdoZXRoZXIgYW4gZWxlbWVudCBhcHBlYXJzIGluIHRoZSBET01cclxuXHQgKiBBcmdzOiBAY2xhc3NOYW1lIC0gU3RyaW5nIC0gTmFtZSBvZiB0aGUgY2xhc3Mgb24gdGhlIGVsZW1lbnQgdG8gc2VhcmNoIGZvclxyXG5cdCAqIFx0XHQgQGNvbnRhaW5lciAtIEhUTUwgRWxlbWVudCAtIENvbnRleHQgZm9yIGZpbmRpbmcgdGhlIGVsZW1lbnQgKGNvdWxkIGJlIGRvY3VtZW50KVxyXG5cdCAqL1xyXG5cdGZ1bmN0aW9uIGVsRXhpc3RzKCBjbGFzc05hbWUsIGNvbnRhaW5lciApIHtcclxuXHJcblx0XHRyZXR1cm4gY29udGFpbmVyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoIGNsYXNzTmFtZSApLmxlbmd0aCA+IDA7XHJcblxyXG5cdH0gLy8gZWxFeGlzdHNcclxuXHJcblxyXG5cclxuXHJcblx0LypcclxuXHQgKiBGdW5jOiBoYXNDaGlsZHJlblxyXG5cdCAqIERlc2M6IENoZWNrIHdoZXRoZXIgYW4gZWxlbWVudCBoYXMgY2hpbGRyZW5cclxuXHQgKiBBcmdzOiBAY2xhc3NOYW1lIC0gU3RyaW5nIC0gTmFtZSBvZiB0aGUgZWxlbWVudCdzIGNsYXNzXHJcblx0ICogXHRcdCBAY29udGFpbmVyIC0gSFRNTCBFbGVtZW50IC0gQ29udGV4dCBmb3IgZmluZGluZyB0aGUgZWxlbWVudCAoY291bGQgYmUgZG9jdW1lbnQpXHJcblx0ICovXHJcblx0ZnVuY3Rpb24gaGFzQ2hpbGRyZW4oIGNsYXNzTmFtZSwgY29udGFpbmVyICkge1xyXG5cclxuXHRcdHZhciBoYXNDaGlsZHJlbiA9IGZhbHNlO1xyXG5cdFx0dmFyIGVscztcclxuXHJcblx0XHRpZiAoIGVsRXhpc3RzKCBjbGFzc05hbWUsIGNvbnRhaW5lciApICkge1xyXG5cdFx0XHRlbHMgPSBjb250YWluZXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSggY2xhc3NOYW1lICk7XHJcblxyXG5cdFx0XHRBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGVscywgZnVuY3Rpb24oZWwpIHtcclxuXHRcdFx0XHRpZiAoZWwuY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdFx0aGFzQ2hpbGRyZW4gPSB0cnVlO1xyXG5cdFx0XHRcdH0gXHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBoYXNDaGlsZHJlbjtcclxuXHJcblx0fSAvLyBoYXNDaGlsZHJlblxyXG5cclxuXHJcblxyXG5cclxuXHQvLyBFeHBvc2UgcHVibGljIG1ldGhvZHNcclxuXHRyZXR1cm4ge1xyXG5cdFx0ZXhlY3V0ZU9uTG9hZDogZXhlY3V0ZU9uTG9hZCxcclxuXHRcdGVsRXhpc3RzOiBlbEV4aXN0cyxcclxuXHRcdGhhc0NoaWxkcmVuOiBoYXNDaGlsZHJlbixcclxuXHR9XHJcblxyXG59KSgpOyIsIi8qXHJcbiAqIE1vZHVsZTogQllVIFRhYmxlXHJcbiAqIERlc2M6ICAgSGFuZGxlIHRhYmxlcyB0aGF0IGFyZSB3aWRlciB0aGFuIHRoaWVyIGNvbnRhaW5lclxyXG4gKi9cclxuXHJcbnZhciBieXVfdGFibGUgPSAoZnVuY3Rpb24oKXtcclxuXHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHR2YXIgZG9jID0gZG9jdW1lbnQ7XHJcblxyXG5cclxuXHQvLyBFeGVjdXRlIHRoZSBmdW5jdGlvblxyXG5cdGJ5dV9tYWluLmV4ZWN1dGVPbkxvYWQoIHVwZGF0ZVRhYmxlcyApO1xyXG5cdFxyXG5cclxuXHQvKlxyXG5cdCAqIEZ1bmM6IFVwZGF0ZVRhYmxlc1xyXG5cdCAqIERlc2M6IERldGVjdCBhbmQgaGFuZGxlIHRhYmxlcyB0aGF0IGFyZSB3aWRlciB0aGFuIHRoZWlyIGNvbnRhaW5lci5cclxuXHQgKiBcdFx0IFdvcmtzIG9uIHRhYmxlcyBjb250YWluZWQgd2l0aGluIGFuIGVsZW1lbnQgb2YgY2xhc3MgXCJ0YWJsZS1jb250YWluZXJcIi5cclxuXHQgKiBBcmdzOiBub25lXHJcblx0ICovXHJcblx0ZnVuY3Rpb24gdXBkYXRlVGFibGVzKCkge1xyXG5cdFx0dmFyIGNvbnRhaW5lcnMgPSBkb2MuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcInRhYmxlLWNvbnRhaW5lclwiKTtcclxuXHJcblx0XHRmb3IgKHZhciBpPTA7IGkgPCBjb250YWluZXJzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHQgICAgdmFyIGNvbnRhaW5lciA9IGNvbnRhaW5lcnNbaV07XHJcblx0XHQgICAgdXBkYXRlVGFibGUoIGNvbnRhaW5lciApO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblxyXG5cdC8qXHJcblx0ICogRnVuYzogVXBkYXRlVGFibGVcclxuXHQgKiBEZXNjOiBDaGVjayBpZiBhIHRhYmxlIGlzIHdpZGVyIHRoYW4gaXRzIGNvbnRhaW5lciwgYW5kIG1hcmsgc2Nyb2xsaW5nIHBvc2l0aW9uIHdpdGhpbiBpdFxyXG5cdCAqIEFyZ3M6IEBjb250YWluZXIgLSBIVE1MIEVsZW1lbnQgLSBBIGNvbnRhaW5lciBlbGVtZW50IGZvciBhIHRhYmxlIChwcm9iYWJseSBvZiBjbGFzcyBcInRhYmxlLWNvbnRhaW5lclwiKVxyXG5cdCAqL1xyXG5cdGZ1bmN0aW9uIHVwZGF0ZVRhYmxlKCBjb250YWluZXIgKSB7XHJcblx0XHR2YXIgY193aWR0aCA9IGNvbnRhaW5lci5vZmZzZXRXaWR0aDtcclxuXHQgICAgdmFyIHRhYmxlID0gY29udGFpbmVyLiBnZXRFbGVtZW50c0J5VGFnTmFtZShcInRhYmxlXCIpWzBdO1xyXG5cdCAgICB2YXIgdF93aWR0aCA9IHRhYmxlLm9mZnNldFdpZHRoO1xyXG5cdCAgICB2YXIgdGFibGVfd2lkZV9jbGFzcyA9IFwidGFibGUtd2lkZVwiO1xyXG5cdCAgICB2YXIgc3RhcnRfdmlzaWJsZV9jbGFzcyA9IFwic3RhcnQtdmlzaWJsZVwiO1xyXG5cdFx0dmFyIGVuZF92aXNpYmxlX2NsYXNzID0gXCJlbmQtdmlzaWJsZVwiO1xyXG5cclxuXHQgICAgaWYgKCBjX3dpZHRoIDwgdF93aWR0aCApIHtcclxuXHJcblx0ICAgIFx0Ly8gQWRkIHRhYmxlIHdpZGUgY2xhc3MgaWYgaXQncyBub3QgYWxyZWFkeSB0aGVyZVxyXG5cdCAgICBcdGlmICggIWNvbnRhaW5lci5oYXNDbGFzcyggdGFibGVfd2lkZV9jbGFzcyApICkgeyBcclxuXHRcdFx0XHRjb250YWluZXIuYWRkQ2xhc3MoIHRhYmxlX3dpZGVfY2xhc3MgKTtcclxuXHRcdCAgICB9XHJcblxyXG5cdCAgICBcdC8vIENoZWNrIGlmIHRoZSBzdGFydCBvZiB0aGUgdGFibGUgaXMgdmlzaWJsZSBhbmQgaGFuZGxlXHJcblx0ICAgIFx0aWYgKCB0YWJsZS5zY3JvbGxMZWZ0ID09IDAgKSB7XHJcblx0ICAgIFx0XHRpZiAoICFjb250YWluZXIuaGFzQ2xhc3MoIHN0YXJ0X3Zpc2libGVfY2xhc3MgKSApIHtcclxuXHRcdFx0XHRcdGNvbnRhaW5lci5hZGRDbGFzcyggc3RhcnRfdmlzaWJsZV9jbGFzcyApO1xyXG5cdCAgICBcdFx0fVxyXG5cdCAgICBcdH0gZWxzZSB7XHJcblx0ICAgIFx0XHRjb250YWluZXIucmVtb3ZlQ2xhc3MoIHN0YXJ0X3Zpc2libGVfY2xhc3MgKTtcclxuXHQgICAgXHR9XHJcblxyXG5cdCAgICBcdC8vIENoZWNrIGlmIHRoZSBlbmQgb2YgdGhlIHRhYmxlIGlzIHZpc2libGUgYW5kIGhhbmRsZVxyXG5cdCAgICBcdGlmICggdF93aWR0aCAtIHRhYmxlLnNjcm9sbExlZnQgPT0gY193aWR0aCApIHtcclxuXHQgICAgXHRcdGlmICggIWNvbnRhaW5lci5oYXNDbGFzcyggZW5kX3Zpc2libGVfY2xhc3MgKSApIHtcclxuXHRcdFx0XHRcdGNvbnRhaW5lci5hZGRDbGFzcyggZW5kX3Zpc2libGVfY2xhc3MgKTtcclxuXHQgICAgXHRcdH1cclxuXHQgICAgXHR9IGVsc2Uge1xyXG5cdCAgICBcdFx0Y29udGFpbmVyLnJlbW92ZUNsYXNzKCBlbmRfdmlzaWJsZV9jbGFzcyApO1xyXG5cdCAgICBcdH1cclxuXHQgICAgfSBcclxuXHJcblx0ICAgIC8vIFRoZSB0YWJsZSBpcyBub3QgdG9vIHdpZGUgZm9yIGl0cyBjb250YWluZXJcclxuXHQgICAgZWxzZSB7XHJcblx0ICAgIFx0Y29udGFpbmVyLnJlbW92ZUNsYXNzKCB0YWJsZV93aWRlX2NsYXNzICk7XHJcblx0ICAgIH1cclxuXHR9XHJcblxyXG59KSgpOyIsInZhciBieXVfaGVhZGVyID0gKGZ1bmN0aW9uKCkge1xyXG5cclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdHZhciBkb2MgPSBkb2N1bWVudDsgLy8gUHV0IHRoaXMgaW4gYSB2YXJpYWJsZSB0byBlbmFibGUgc21hbGxlciBjb21wcmVzc2lvblxyXG5cdHZhciBtZW51T3BlbkR1cmF0aW9uID0gMzAwO1xyXG5cclxuXHQvLyBGb3IgY29tcHJlc3Npb246IGlmIGEgc3RyaW5nIGlzIHVzZWQgbW9yZSB0aGFuIG9uY2UsIHB1dCBpdCBpbiBhIHZhcmlhYmxlXHJcblx0dmFyIGpzSW5pdENsYXNzID0gJ2pzLWVuYWJsZWQnO1xyXG5cdHZhciBleHBhbmRlZEF0dHIgPSAnYXJpYS1leHBhbmRlZCc7XHJcblx0dmFyIG1lbnVPcGVuQ2xhc3MgPSAnbWVudS1vcGVuJztcclxuXHR2YXIgc2l0ZU5hdkNsYXNzID0gJ2J5dS1zaXRlLW5hdmlnYXRpb24nO1xyXG5cdHZhciBzaXRlQWN0aW9uQ2xhc3MgPSAnYnl1LWFjdGlvbi1pZC1zZWFyY2gnO1xyXG5cclxuXHJcblxyXG5cclxuXHQvLyBFeGVjdXRlIHRoZSBpbml0aWFsaXplIGZ1bmN0aW9uXHJcblx0Ynl1X21haW4uZXhlY3V0ZU9uTG9hZCggaW5pdCApO1xyXG5cclxuXHJcblxyXG5cclxuXHJcblx0LypcclxuXHQgKiBGdW5jOiBpbml0XHJcblx0ICogRGVzYzogSW5pdGlhbGl6ZSB0aGUgaGVhZGVyIGJ1dHRvbiBmb3IgYWxsIEJZVSBoZWFkZXJzIG9uIHBhZ2VcclxuXHQgKiBcdFx0IChoYW5kbGVzIG11bHRpcGxlIGhlZGVycyApXHJcblx0ICogQXJnczogbm9uZVxyXG5cdCAqL1xyXG5cdGZ1bmN0aW9uIGluaXQoKSB7XHJcblxyXG5cdFx0dmFyIGhlYWRlckVscyA9IGRvYy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdieXUtaGVhZGVyJyk7XHJcblxyXG5cdFx0QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChoZWFkZXJFbHMsIGZ1bmN0aW9uKGVsKSB7XHJcblx0XHRcdGVuYWJsZU1vYmlsZU1lbnUoIGVsICk7XHJcblx0XHR9KTtcclxuXHJcblx0fSAvLyBpbml0XHJcblxyXG5cclxuXHJcblxyXG5cdC8qXHJcblx0ICogRnVuYzogZW5hYmxlTW9iaWxlTWVudVxyXG5cdCAqIERlc2M6IEluaXRpYWxpemUgdGhlIGhlYWRlciBidXR0b25cclxuXHQgKiBBcmdzOiBAaGVhZGVyRWwgLSBIVE1MIEVsZW1lbnQgLSBUaGUgaGVhZGVyIHRoYXQgY29udGFpbnMgdGhlIG1vYmlsZSBtZW51IHRvIGVuYWJsZVxyXG5cdCAqL1xyXG5cdGZ1bmN0aW9uIGVuYWJsZU1vYmlsZU1lbnUoIGhlYWRlckVsICkge1xyXG5cclxuXHRcdGhlYWRlckVsLmhhc05hdiA9IGJ5dV9tYWluLmVsRXhpc3RzKHNpdGVOYXZDbGFzcywgaGVhZGVyRWwpO1xyXG5cdFx0aGVhZGVyRWwuaGFzQWN0aW9ucyA9IGJ5dV9tYWluLmhhc0NoaWxkcmVuKHNpdGVBY3Rpb25DbGFzcywgaGVhZGVyRWwpO1xyXG5cclxuXHRcdHZhciBzaG93TWVudUJ1dHRvbiA9IGhlYWRlckVsLmhhc05hdiB8fCBoZWFkZXJFbC5oYXNBY3Rpb25zO1xyXG5cclxuXHRcdGlmICggc2hvd01lbnVCdXR0b24gKSB7XHJcblx0XHRcdGhlYWRlckVsLmFkZENsYXNzKGpzSW5pdENsYXNzKTtcclxuXHRcdFx0aW5pdE1lbnVCdXR0b24oIGhlYWRlckVsICk7XHJcblxyXG5cdFx0XHRoZWFkZXJFbC5uYXZFbCA9IGhlYWRlckVsLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoIHNpdGVOYXZDbGFzcyApWzBdO1xyXG5cdFx0XHRoZWFkZXJFbC5hY3Rpb25zRWwgPSBoZWFkZXJFbC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCBzaXRlQWN0aW9uQ2xhc3MgKVswXTtcclxuXHRcdH1cclxuXHJcblx0fSAvLyBlbmFibGVNb2JpbGVNZW51XHJcblxyXG5cclxuXHJcblxyXG5cdC8qXHJcblx0ICogRnVuYzogaW5pdE1lbnVCdXR0b25cclxuXHQgKiBEZXNjOiBcclxuXHQgKiBBcmdzOiBAaGVhZGVyRWwgLSBIVE1MIEVsZW1lbnQgLSBUaGUgaGVhZGVyIGVsZW1lbnQgdGhhdCBjb250YWlucyB0aGUgbWVudSBidXR0b24gdG8gZW5hYmxlXHJcblx0ICovXHJcblx0ZnVuY3Rpb24gaW5pdE1lbnVCdXR0b24oIGhlYWRlckVsICkge1xyXG5cdFx0dmFyIG1lbnVCdXR0b24gPSBoZWFkZXJFbC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdieXUtbWVudS1idXR0b24nKVswXTtcclxuXHJcblx0XHRtZW51QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSl7XHJcblx0XHRcdGNsaWNrTWVudUJ1dHRvbiggZS50YXJnZXQsIGhlYWRlckVsICk7XHJcblx0XHR9KTtcclxuXHR9IC8vIGluaXRNZW51QnV0dG9uXHJcblxyXG5cclxuXHJcblxyXG5cdC8qXHJcblx0ICogRnVuYzogY2xpY2tNZW51QnV0dG9uXHJcblx0ICogRGVzYzogSGFuZGxlIGNsaWNrIGV2ZW50cyBvbiBhIG1vYmlsZSBtZW51IGJ1dHRvbiB3aXRoaW4gYSBoZWFkZXJcclxuXHQgKiBBcmdzOiBAYnRuIC0gSFRNTCBFbGVtZW50IC0gVGhlIGJ1dHRvbiBlbGVtZW50IHRoYXQgaGFzIGJlZW4gY2xpY2tlZFxyXG5cdCAqXHRcdCBAaGVhZGVyRWwgLSBIVE1MIEVsZW1lbnQgLSBUaGUgaGVhZGVyIGVsZW1lbnQgd2hvc2UgbWVudSBidXR0b24gaGFzIGJlZW4gY2xpY2tlZFxyXG5cdCAqL1xyXG5cdGZ1bmN0aW9uIGNsaWNrTWVudUJ1dHRvbiggYnRuLCBoZWFkZXJFbCApIHtcclxuXHRcdHZhciBvcGVuID0gYnRuLmdldEF0dHJpYnV0ZShleHBhbmRlZEF0dHIpICE9ICdmYWxzZSc7XHJcblx0XHR2YXIgb3BlbmluZyA9IGZhbHNlO1xyXG5cdFx0XHJcblx0XHQvLyBPcGVuXHJcblx0XHRpZiAoICFvcGVuICYmICFvcGVuaW5nICkge1xyXG5cdFx0XHRvcGVuTWVudSggYnRuLCBoZWFkZXJFbCApO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIENsb3NlXHJcblx0XHRlbHNlIHtcclxuXHRcdFx0Y2xvc2VNZW51KCBidG4sIGhlYWRlckVsICk7XHJcblx0XHR9XHJcblx0fSAvLyBjbGlja01lbnVCdXR0b25cclxuXHJcblxyXG5cclxuXHJcblx0LypcclxuXHQgKiBGdW5jOiBvcGVuTWVudVxyXG5cdCAqIERlc2M6IE9wZW4gYSBtb2JpbGUgbWVudSB3aXRoaW4gYSBoZWFkZXJcclxuXHQgKiBBcmdzOiBAYnRuIC0gSFRNTCBFbGVtZW50IC0gVGhlIGJ1dHRvbiBlbGVtZW50IHRoYXQgY29udHJvbHMgdGhlIG1lbnUgd2hpY2ggc2hvdWxkIGJlIG9wZW5lZFxyXG5cdCAqXHRcdCBAaGVhZGVyRWwgLSBIVE1MIEVsZW1lbnQgLSBUaGUgaGVhZGVyIGVsZW1lbnQgd2hvc2UgbWVudSBzaG91bGQgYmUgb3BlbmVkXHJcblx0ICovXHJcblx0ZnVuY3Rpb24gb3Blbk1lbnUoIGJ0biwgaGVhZGVyRWwgKSB7XHJcblxyXG5cdFx0Ly8gU2V0IHRoZSBvcGVuL2Nsb3NlZCBhdHRyaWJ1dGUgb24gdGhlIGJ1dHRvblxyXG5cdFx0YnRuLnNldEF0dHJpYnV0ZShleHBhbmRlZEF0dHIsIHRydWUpO1xyXG5cclxuXHRcdC8vIFNldCB0aGUgb3Blbi9jbG9zZWQgYXR0cmlidXRlIG9uIHRoZSBoZWFkZXJcclxuXHRcdGZ1bmN0aW9uIGFkZE9wZW5DbGFzcygpIHtcclxuXHRcdFx0aWYgKCAhaGVhZGVyRWwuaGFzQ2xhc3MoIG1lbnVPcGVuQ2xhc3MgKSApIHtcclxuXHRcdFx0XHRoZWFkZXJFbC5hZGRDbGFzcyggbWVudU9wZW5DbGFzcyApO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gQW5pbWF0ZSB0aGUgZWxlbWVudHNcclxuXHRcdGlmICggaGVhZGVyRWwuaGFzTmF2ICkge1xyXG5cdFx0XHR2YXIgbmF2ID0gaGVhZGVyRWwubmF2RWw7XHJcblx0XHRcdHZhciBuYXZIZWlnaHQgPSBuYXYub2Zmc2V0SGVpZ2h0O1xyXG5cdFx0XHR2YXIgbmF2RW5kSGVpZ2h0ID0gYW5pbWF0ZS5nZXROYXR1cmFsSGVpZ2h0KCBuYXYgKTtcclxuXHJcblx0XHRcdGFuaW1hdGUuYW5pbWF0ZUhlaWdodCggbmF2LCB7IHN0YXJ0OiBuYXZIZWlnaHQsIGVuZDogbmF2RW5kSGVpZ2h0LCBkdXJhdGlvbjogbWVudU9wZW5EdXJhdGlvbiwgZmluaXNoOiBhZGRPcGVuQ2xhc3MgfSApO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggaGVhZGVyRWwuaGFzQWN0aW9ucyApIHtcclxuXHRcdFx0dmFyIGFjdGlvbnMgPSBoZWFkZXJFbC5hY3Rpb25zRWw7XHJcblx0XHRcdHZhciBhY3Rpb25zSGVpZ2h0ID0gYWN0aW9ucy5vZmZzZXRIZWlnaHQ7XHJcblx0XHRcdHZhciBhY3Rpb25zRW5kSGVpZ2h0ID0gYW5pbWF0ZS5nZXROYXR1cmFsSGVpZ2h0KCBhY3Rpb25zLCBcImFjdGlvbnNIZWlnaHRXcmFwcGVyXCIgKTtcclxuXHJcblx0XHRcdGFuaW1hdGUuYW5pbWF0ZUhlaWdodCggYWN0aW9ucywgeyBzdGFydDogYWN0aW9uc0hlaWdodCwgZW5kOiBhY3Rpb25zRW5kSGVpZ2h0LCBkdXJhdGlvbjogbWVudU9wZW5EdXJhdGlvbiwgZmluaXNoOiBhZGRPcGVuQ2xhc3MgfSApO1xyXG5cdFx0fVxyXG5cclxuXHR9IC8vIG9wZW5NZW51XHJcblxyXG5cclxuXHJcblx0LypcclxuXHQgKiBGdW5jOiBjbG9zZU1lbnVcclxuXHQgKiBEZXNjOiBDbG9zZSBhIG1vYmlsZSBtZW51IHdpdGhpbiBhIGhlYWRlclxyXG5cdCAqIEFyZ3M6IEBidG4gLSBIVE1MIEVsZW1lbnQgLSBUaGUgYnV0dG9uIGVsZW1lbnQgdGhhdCBjb250cm9scyB0aGUgbWVudSB3aGljaCBzaG91bGQgYmUgY2xvc2VkXHJcblx0ICpcdFx0IEBoZWFkZXJFbCAtIEhUTUwgRWxlbWVudCAtIFRoZSBoZWFkZXIgZWxlbWVudCB3aG9zZSBtZW51IHNob3VsZCBiZSBjbG9zZWRcclxuXHQgKi9cclxuXHRmdW5jdGlvbiBjbG9zZU1lbnUoIGJ0biwgaGVhZGVyRWwgKSB7XHJcblxyXG5cdFx0Ly8gU2V0IHRoZSBvcGVuL2Nsb3NlZCBhdHRyaWJ1dGUgb24gdGhlIGJ1dHRvblxyXG5cdFx0YnRuLnNldEF0dHJpYnV0ZShleHBhbmRlZEF0dHIsIGZhbHNlKTtcclxuXHJcblx0XHQvLyBTZXQgdGhlIG9wZW4vY2xvc2VkIGF0dHJpYnV0ZSBvbiB0aGUgaGVhZGVyXHJcblxyXG5cdFx0ZnVuY3Rpb24gcmVtb3ZlT3BlbkNsYXNzKCkge1xyXG5cdFx0XHRoZWFkZXJFbC5yZW1vdmVDbGFzcyggbWVudU9wZW5DbGFzcyApO1x0XHRcdFxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEFuaW1hdGUgdGhlIGVsZW1lbnRzXHJcblx0XHRpZiAoIGhlYWRlckVsLmhhc05hdiApIHtcclxuXHRcdFx0dmFyIG5hdiA9IGhlYWRlckVsLm5hdkVsO1xyXG5cdFx0XHR2YXIgbmF2SGVpZ2h0ID0gbmF2Lm9mZnNldEhlaWdodDtcclxuXHJcblx0XHRcdGFuaW1hdGUuYW5pbWF0ZUhlaWdodCggbmF2LCB7IHN0YXJ0OiBuYXZIZWlnaHQsIGVuZDogMCwgZmluaXNoOiByZW1vdmVPcGVuQ2xhc3MgfSApO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggaGVhZGVyRWwuaGFzQWN0aW9ucyApIHtcclxuXHRcdFx0dmFyIGFjdGlvbnMgPSBoZWFkZXJFbC5hY3Rpb25zRWw7XHJcblx0XHRcdHZhciBhY3Rpb25zSGVpZ2h0ID0gYWN0aW9ucy5vZmZzZXRIZWlnaHQ7XHJcblxyXG5cdFx0XHRhbmltYXRlLmFuaW1hdGVIZWlnaHQoIGFjdGlvbnMsIHsgc3RhcnQ6IGFjdGlvbnNIZWlnaHQsIGVuZDogMCwgZmluaXNoOiByZW1vdmVPcGVuQ2xhc3MgfSApO1xyXG5cdFx0fVxyXG5cclxuXHR9IC8vIGNsb3NlTWVudVxyXG5cclxuXHJcbn0pKCk7Il19
