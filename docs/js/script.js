var animate=function(){var n,a,l=(a=(n=[0,6e-5,24e-5,54e-5,97e-5,.00153,.00221,.00303,.00398,.00506,.00629,.00765,.00916,.01081,.0126,.01455,.01664,.01889,.0213,.02386,.02658,.02946,.0325,.03571,.03908,.04262,.04632,.05019,.05423,.05844,.06283,.06738,.0721,.07699,.08206,.0873,.0927,.09827,.104,.1099,.11597,.12219,.12857,.1351,.14179,.14861,.15559,.16271,.16995,.17734,.18484,.19247,.20021,.20805,.216,.22405,.23219,.24041,.24871,.25708,.26552,.27401,.28256,.29114,.29978,.30844,.31712,.32583,.33455,.34328,.352,.36073,.36945,.37815,.38682,.39548,.40411,.41269,.42126,.42977,.43824,.44666,.45502,.46334,.4716,.4798,.48793,.496,.50399,.51192,.51978,.52757,.53528,.54293,.55049,.55796,.56538,.5727,.57996,.58713,.59421,.60122,.60815,.615,.62175,.62844,.63504,.64157,.648,.65437,.66064,.66684,.67296,.679,.68496,.69084,.69665,.70238,.70803,.7136,.71911,.72452,.72988,.73515,.74036,.74549,.75054,.75554,.76045,.7653,.77007,.77479,.77942,.784,.78851,.79295,.79733,.80163,.80589,.81007,.81419,.81825,.82225,.82619,.83007,.83388,.83765,.84135,.845,.84858,.85211,.85559,.85902,.86239,.8657,.86895,.87217,.87532,.87842,.88149,.88448,.88743,.89034,.89319,.896,.89876,.90147,.90414,.90675,.90933,.91185,.91434,.91678,.91917,.92152,.92383,.92609,.92831,.93049,.93264,.93473,.9368,.93881,.94079,.94273,.94463,.9465,.94832,.95011,.95186,.95357,.95525,.95689,.95849,.96006,.9616,.96309,.96455,.96599,.96738,.96874,.97007,.97136,.97263,.97386,.97506,.97623,.97736,.97847,.97954,.98058,.98159,.98258,.98353,.98445,.98535,.98621,.98705,.98786,.98864,.98939,.99011,.99081,.99147,.99212,.99273,.99332,.99388,.99442,.99493,.99541,.99587,.9963,.99671,.99709,.99745,.99779,.9981,.99838,.99865,.99888,.9991,.99929,.99946,.9996,.99972,.99982,.9999,.99996,.99999,1]).length-1,function(e){var t=Math.round(e*a);return n[t]}),u="animating";return{animateHeight:function(t,e){var a,s,i,r,n=Object.assign({start:0,end:100,fadeIn:!0,duration:200,units:"px"},e),o=l;t.style.height=n.start+n.units,addClass(t,u),t.animation=(a={duration:n.duration,delta:o,step:function(e){t.style.height=n.start+(n.end-n.start)*e+n.units},finish:function(){removeClass(t,u),t.style.removeProperty("height"),"function"==typeof n.finish&&n.finish()},interrupt:function(){removeClass(t,u),t.style.removeProperty("height"),"function"==typeof n.interrupt&&n.interrupt()}},s=new Date,i=!1,r=function(){var e=new Date-s,t=e/a.duration;1<t&&(t=1);var n=a.delta(t);a.step(n),i&&a.interrupt?a.interrupt():t<1?window.requestAnimationFrame(r):a.finish&&a.finish()},window.requestAnimationFrame(r),{stop:function(){i=!0}})},getNaturalHeight:function(e){var t,n;return n=(t=function(e,t){var n=document.createElement(t);for(e.appendChild(n);e.firstChild&&e.firstChild!==n;)n.appendChild(e.firstChild);return n}(e,"div")).offsetHeight,function(e){for(var t=e.parentNode;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)}(t),n}}}(),byu_main=function(){var t=document;return HTMLElement.prototype.hasClass=function(e){return this.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))},HTMLElement.prototype.addClass=function(e){for(var t=e.split(","),n=0;n<t.length;n++)-1==(" "+this.className+" ").indexOf(" "+t[n]+" ")&&(this.className+=" "+t[n]);return this},HTMLElement.prototype.removeClass=function(e){if(this.hasClass(e)){var t=new RegExp("(\\s|^)"+e+"(\\s|$)");this.className=this.className.replace(t," ")}return this},{executeOnLoad:function(e){"loading"!=t.readyState?e():t.addEventListener?t.addEventListener("DOMContentLoaded",e):t.attachEvent("onreadystatechange",function(){"complete"==t.readyState&&e()})}}}(),byu_header=function(){"use strict";var e,t=document,n="js-enabled";return byu_main.executeOnLoad(function(){(e=t.getElementsByClassName("byu-header")[0]).addClass(n),e.hasClass(n)&&console.log("Header js initialized")}),{}}(),byu_table=function(){"use strict";var a=document;function s(e){var t=e.offsetWidth,n=e.getElementsByTagName("table")[0],a=n.offsetWidth,s="table-wide",i="start-visible",r="end-visible";t<a?(e.hasClass(s)||e.addClass(s),0==n.scrollLeft?e.hasClass(i)||e.addClass(i):e.removeClass(i),a-n.scrollLeft==t?e.hasClass(r)||e.addClass(r):e.removeClass(r)):e.removeClass(s)}byu_main.executeOnLoad(function(){for(var e=a.getElementsByClassName("table-container"),t=0;t<e.length;t++){var n=e[t];s(n)}})}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFuaW1hdGUuanMiLCJtYWluLmpzIiwiaGVhZGVyL2hlYWRlci5qcyIsIjAtZm91bmRhdGlvbi90YWJsZS90YWJsZS5qcyJdLCJuYW1lcyI6WyJhbmltYXRlIiwieUNvb3JkaW5hdGVzIiwibGVuIiwiZWFzZUZ1bmN0aW9uIiwibGVuZ3RoIiwicHJvZ3Jlc3MiLCJwIiwiTWF0aCIsInJvdW5kIiwiYW5pbWF0aW5nQ2xhc3MiLCJhbmltYXRlSGVpZ2h0IiwiZWwiLCJzZXR0aW5nc09iaiIsIm9wdHMiLCJzdGFydCIsImludGVycnVwdCIsInJlbmRlciIsInMiLCJPYmplY3QiLCJhc3NpZ24iLCJlbmQiLCJmYWRlSW4iLCJkdXJhdGlvbiIsInVuaXRzIiwiZWFzZSIsInN0eWxlIiwiaGVpZ2h0IiwiYWRkQ2xhc3MiLCJhbmltYXRpb24iLCJkZWx0YSIsInN0ZXAiLCJmaW5pc2giLCJyZW1vdmVDbGFzcyIsInJlbW92ZVByb3BlcnR5IiwiRGF0ZSIsInRpbWVQYXNzZWQiLCJ3aW5kb3ciLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJzdG9wIiwiZ2V0TmF0dXJhbEhlaWdodCIsIndyYXBwZXIiLCJ3cmFwIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJmaXJzdENoaWxkIiwid3JhcElubmVyIiwib2Zmc2V0SGVpZ2h0IiwicGFyZW50IiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSIsInJlbW92ZUNoaWxkIiwidW53cmFwIiwiYnl1X21haW4iLCJkb2MiLCJIVE1MRWxlbWVudCIsInByb3RvdHlwZSIsImhhc0NsYXNzIiwibmFtZSIsInRoaXMiLCJjbGFzc05hbWUiLCJtYXRjaCIsIlJlZ0V4cCIsIm5ld19jbGFzcyIsIm5jIiwic3BsaXQiLCJpIiwiaW5kZXhPZiIsInJlZyIsInJlcGxhY2UiLCJleGVjdXRlT25Mb2FkIiwiZnVuY3Rpb25OYW1lIiwicmVhZHlTdGF0ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJhdHRhY2hFdmVudCIsImJ5dV9oZWFkZXIiLCJoZWFkZXJFbCIsImpzSW5pdENsYXNzIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImNvbnNvbGUiLCJsb2ciLCJieXVfdGFibGUiLCJ1cGRhdGVUYWJsZSIsImNvbnRhaW5lciIsImNfd2lkdGgiLCJvZmZzZXRXaWR0aCIsInRhYmxlIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJ0X3dpZHRoIiwidGFibGVfd2lkZV9jbGFzcyIsInN0YXJ0X3Zpc2libGVfY2xhc3MiLCJlbmRfdmlzaWJsZV9jbGFzcyIsInNjcm9sbExlZnQiLCJjb250YWluZXJzIl0sIm1hcHBpbmdzIjoiQUFHQSxJQUFBQSxRQUFBLFdBRUEsSUE0SEFDLEVBQ0FDLEVBN0hBQyxHQTZIQUQsR0FEQUQsRUFBQSxDQUFBLEVBQUEsS0FBQSxNQUFBLE1BQUEsTUFBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxNQUFBLE9BQUEsT0FBQSxPQUFBLE1BQUEsT0FBQSxPQUFBLE9BQUEsTUFBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxNQUFBLE9BQUEsT0FBQSxNQUFBLE1BQUEsT0FBQSxLQUFBLE1BQUEsT0FBQSxPQUFBLE9BQUEsTUFBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLEtBQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsS0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE1BQUEsTUFBQSxPQUFBLEtBQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsTUFBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsS0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLEtBQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxLQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxNQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE1BQUEsT0FBQSxPQUFBLE9BQUEsS0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsS0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsTUFBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxLQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsTUFBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE1BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE1BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE9BQUEsTUFBQSxPQUFBLE9BQUEsT0FBQSxPQUFBLE1BQUEsT0FBQSxPQUFBLE9BQUEsTUFBQSxPQUFBLE9BQUEsTUFBQSxPQUFBLE9BQUEsTUFBQSxPQUFBLE9BQUEsSUFDQUcsT0FBQSxFQUdBLFNBQUFDLEdBQ0EsSUFBQUMsRUFBQUMsS0FBQUMsTUFBQUgsRUFBQUgsR0FDQSxPQUFBRCxFQUFBSyxLQWpJQUcsRUFBQSxZQThMQSxNQUFBLENBQ0FDLGNBckxBLFNBQUFDLEVBQUFDLEdBR0EsSUErQ0FDLEVBRUFDLEVBQ0FDLEVBSUFDLEVBdERBQyxFQUFBQyxPQUFBQyxPQUFBLENBQ0FMLE1BQUEsRUFDQU0sSUFBQSxJQUNB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QUFBd0IsdUJBQUEsY0FBQSxJQUNBbkQsU0FBQWtELEdBQ0FELEVBQUFuQixTQUFBb0IsSUFDQUUsUUFBQUMsSUFBQSwyQkFJQSxHQXpCQSxHQ0tBQyxVQUFBLFdBRUEsYUFFQSxJQUFBM0IsRUFBQVosU0E0QkEsU0FBQXdDLEVBQUFDLEdBQ0EsSUFBQUMsRUFBQUQsRUFBQUUsWUFDQUMsRUFBQUgsRUFBQUkscUJBQUEsU0FBQSxHQUNBQyxFQUFBRixFQUFBRCxZQUNBSSxFQUFBLGFBQ0FDLEVBQUEsZ0JBQ0FDLEVBQUEsY0FFQVAsRUFBQUksR0FHQUwsRUFBQTFCLFNBQUFnQyxJQUNBTixFQUFBeEQsU0FBQThELEdBSUEsR0FBQUgsRUFBQU0sV0FDQVQsRUFBQTFCLFNBQUFpQyxJQUNBUCxFQUFBeEQsU0FBQStELEdBR0FQLEVBQUFuRCxZQUFBMEQsR0FJQUYsRUFBQUYsRUFBQU0sWUFBQVIsRUFDQUQsRUFBQTFCLFNBQUFrQyxJQUNBUixFQUFBeEQsU0FBQWdFLEdBR0FSLEVBQUFuRCxZQUFBMkQsSUFNQVIsRUFBQW5ELFlBQUF5RCxHQTVEQXBDLFNBQUFpQixjQVNBLFdBR0EsSUFGQSxJQUFBdUIsRUFBQXZDLEVBQUF3Qix1QkFBQSxtQkFFQVosRUFBQSxFQUFBQSxFQUFBMkIsRUFBQXpGLE9BQUE4RCxJQUFBLENBQ0EsSUFBQWlCLEVBQUFVLEVBQUEzQixHQUNBZ0IsRUFBQUMsTUF0QkEiLCJmaWxlIjoic2NyaXB0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKi9cbi8qISBBbmltYXRlICovXG5cbnZhciBhbmltYXRlID0gKGZ1bmN0aW9uKCkge1xuXG4gICAgdmFyIGVhc2VGdW5jdGlvbiA9IGN1YmljQmV6aWVyRGVmaW5lZCgpO1xuICAgIHZhciBhbmltYXRpbmdDbGFzcyA9ICdhbmltYXRpbmcnO1xuXG4gICAgLy8gQW5pbWF0aW9uXG5cbiAgICAvKlxuICAgICAqIEZ1bmM6IGFuaW1hdGVIZWlnaHRcbiAgICAgKiBEZXNjOiBBbmltYXRlIHRoZSBoZWlnaHQgb2YgYW4gaXRlbVxuICAgICAqIEFyZ3M6IEBlbCAtIEhUTUwgRWxlbWVudCAtIFRoZSBIVE1MIGVsZW1lbnQgdG8gYW5pbWF0ZVxuICAgICAqICAgICAgIEBzZXR0aW5nc09iaiAtIE9iamVjdCAtIENvbnRhaW5zIHByb3BlcnRpZXMgdG8gb3ZlcnJpZGUgZGVmYXVsdCBzZXR0aW5nc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFuaW1hdGVIZWlnaHQoZWwsIHNldHRpbmdzT2JqKSB7XG5cbiAgICAgICAgLy8gU2V0IGRlZmF1bHRzIGFuZCBvdmVyd3JpdGUgd2l0aCBwYXNzZWQgb2JqZWN0IChzZXR0aW5nc09iailcbiAgICAgICAgdmFyIHMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIHN0YXJ0OiAwLFxuICAgICAgICAgICAgZW5kOiAxMDAsXG4gICAgICAgICAgICBmYWRlSW46IHRydWUsXG4gICAgICAgICAgICBkdXJhdGlvbjogMjAwLFxuICAgICAgICAgICAgdW5pdHM6IFwicHhcIixcbiAgICAgICAgfSwgc2V0dGluZ3NPYmopO1xuXG4gICAgICAgIHZhciBlYXNlID0gZWFzZUZ1bmN0aW9uO1xuXG4gICAgICAgIGVsLnN0eWxlLmhlaWdodCA9IHMuc3RhcnQgKyBzLnVuaXRzO1xuICAgICAgICBhZGRDbGFzcyhlbCwgYW5pbWF0aW5nQ2xhc3MpO1xuXG4gICAgICAgIC8vIEFuaW1hdGUgaGVpZ2h0IGF0IGlucHV0IHJhdGVcbiAgICAgICAgZWwuYW5pbWF0aW9uID0gYW5pbWF0ZSh7XG4gICAgICAgICAgICBkdXJhdGlvbjogcy5kdXJhdGlvbixcbiAgICAgICAgICAgIGRlbHRhOiBlYXNlLFxuICAgICAgICAgICAgc3RlcDogZnVuY3Rpb24oZGVsdGEpIHtcbiAgICAgICAgICAgICAgICBlbC5zdHlsZS5oZWlnaHQgPSBzLnN0YXJ0ICsgKChzLmVuZCAtIHMuc3RhcnQpICogZGVsdGEpICsgcy51bml0cztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmaW5pc2g6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKGVsLCBhbmltYXRpbmdDbGFzcyk7XG4gICAgICAgICAgICAgICAgZWwuc3R5bGUucmVtb3ZlUHJvcGVydHkoXCJoZWlnaHRcIik7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzLmZpbmlzaCA9PSBcImZ1bmN0aW9uXCIpIHsgcy5maW5pc2goKTsgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGludGVycnVwdDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoZWwsIGFuaW1hdGluZ0NsYXNzKTtcbiAgICAgICAgICAgICAgICBlbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eShcImhlaWdodFwiKTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHMuaW50ZXJydXB0ID09IFwiZnVuY3Rpb25cIikgeyBzLmludGVycnVwdCgpOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgfSAvLyBhbmltYXRlSGVpZ2h0XG5cblxuICAgIC8qXG4gICAgICogRnVuYzogYW5pbWF0ZVxuICAgICAqIERlc2M6IEFuaW1hdGUgZnVuY3Rpb25cbiAgICAgKiBTcmM6ICBodHRwOi8vamF2YXNjcmlwdC5pbmZvL3R1dG9yaWFsL2FuaW1hdGlvbiAobWFpbiBhbmltYXRpb24gZnVuY3Rpb25zKVxuICAgICAqICAgICAgIGh0dHA6Ly9jcmVhdGl2ZWpzLmNvbS9yZXNvdXJjZXMvcmVxdWVzdGFuaW1hdGlvbmZyYW1lLyAocmVxdWVzdEFuaW1hdGlvbkZyYW1lKVxuICAgICAqIEFyZ3M6IEBvcHRzIC0gT2JqZWN0IC0gVGhlIG9wdGlvbnMgb2JqZWN0XG4gICAgICogICAgICAgICBjb250YWluczogQGR1cmF0aW9uIC0gTnVtYmVyIC0gTWlsbGlzZWNvbmRzIGZvciB0b3RhbCBhbmltYXRpb25cbiAgICAgKiAgICAgICAgICAgICAgICAgICBAZGVsdGEgLSBGdW5jdGlvbiAtIEVhc2luZyBmdW5jdGlvblxuICAgICAqICAgICAgICAgICAgICAgICAgIEBzdGVwIC0gRnVuY3Rpb24gLSBSZXN1bHQgZnVuY3Rpb24gKHdoYXQgc2hvdWxkIGhhcHBlbiBvbiBzY3JlZW4gZWFjaCBmcmFtZSlcbiAgICAgKiAgICAgICAgICAgICAgICAgICBAZmluaXNoIC0gRnVuY3Rpb24gLSBvcHRpb25hbC0gRW5kIGZ1bmN0aW9uICh3aGF0IGhhcHBlbnMgd2hlbiBhbmltYXRpb24gZmluaXNoZXMpXG4gICAgICogICAgICAgICAgICAgICAgICAgQGludGVycnVwdCAtIEZ1bmN0aW9uIC0gb3B0aW9uYWwtIEVuZCBmdW5jdGlvbiAod2hhdCBoYXBwZW5zIGlmIGFuaW1hdGlvbiBpcyBpbnRlcnJ1cHRlZClcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhbmltYXRlKG9wdHMpIHtcblxuICAgICAgICB2YXIgc3RhcnQgPSBuZXcgRGF0ZSgpOyAvLyBHZXQgdGhlIHN0YXJ0IHRpbWVcbiAgICAgICAgdmFyIGludGVycnVwdCA9IGZhbHNlOyAvLyBJZiB0aGlzIGlzIHRydWUsIGFuaW1hdGlvbiB3aWxsIHN0b3BcbiAgICAgICAgdmFyIHN0b3AgPSBmdW5jdGlvbigpIHsgaW50ZXJydXB0ID0gdHJ1ZTsgfTsgLy8gU3RvcHMgdGhpcyBhbmltYXRpb25cblxuICAgICAgICAvLyBUaGUgcmVuZGVyIGZ1bmN0aW9uXG4gICAgICAgIHZhciByZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciB0aW1lUGFzc2VkID0gbmV3IERhdGUoKSAtIHN0YXJ0OyAvLyBUaGUgYW1vdW50IG9mIHRpbWUgZWxhcHNlZCBzaW5jZSBzdGFydFxuICAgICAgICAgICAgdmFyIHByb2dyZXNzID0gdGltZVBhc3NlZCAvIG9wdHMuZHVyYXRpb247IC8vIFBlcmNlbnRhZ2Ugb2YgdGltZSBwYXNzZWQgaW4gZnVsbCBleHBlY3RlZCBkdXJhdGlvblxuXG4gICAgICAgICAgICBpZiAocHJvZ3Jlc3MgPiAxKSB7IHByb2dyZXNzID0gMTsgfSAvLyBDYXAgcGVyY2VudGFnZSBhdCAxICgxMDAlKVxuXG4gICAgICAgICAgICB2YXIgZGVsdGEgPSBvcHRzLmRlbHRhKHByb2dyZXNzKTsgLy8gQXBwbHkgZWFzaW5nIGZ1bmN0aW9uXG4gICAgICAgICAgICBvcHRzLnN0ZXAoZGVsdGEpOyAvLyBBcHBseSB0aGUgc3RlcCBmdWN0aW9uIGZyb20gdGhlIG9wdGlvbnMgb2JqZWN0IChyZW5kZXJzIGEgY2hhbmdlIG9uIHNjcmVlbilcblxuICAgICAgICAgICAgLy8gSW50ZXJydXB0LCBjb250aW51ZSwgb3IgZmluaXNoIGRlcGVuZGluZyBvbiBwcm9ncmVzc1xuICAgICAgICAgICAgaWYgKGludGVycnVwdCAmJiBvcHRzLmludGVycnVwdCkge1xuICAgICAgICAgICAgICAgIG9wdHMuaW50ZXJydXB0KCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHByb2dyZXNzIDwgMSkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUocmVuZGVyKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAob3B0cy5maW5pc2gpIHtcbiAgICAgICAgICAgICAgICBvcHRzLmZpbmlzaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFN0YXJ0IHRoZSBhbmltYXRpb25cbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShyZW5kZXIpO1xuXG4gICAgICAgIHJldHVybiB7IHN0b3A6IHN0b3AgfTtcblxuICAgIH0gLy8gYW5pbWF0ZVxuXG5cbiAgICAvKlxuICAgICAqIEZ1bmM6IGVhc2VJbk91dFxuICAgICAqIERlc2M6IEVhc2luZyBmdW5jdGlvblxuICAgICAqIEFyZ3M6IEBwb3dlciAtIFBvc2l0aXZlIEludGVnZXIgLSBNYXRoIHBvd2VyIHRoYXQgc3BlY2lmaWVzIGVhc2luZyBjdXJ2ZSAoZGVmYXVsdCAzKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVhc2VJbk91dChwb3dlcikge1xuICAgICAgICBwb3dlciA9IHBvd2VyID8gcG93ZXIgOiAzO1xuICAgICAgICB2YXIgZGVsdGEgPSBmdW5jdGlvbihwcm9ncmVzcykge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGgucG93KHByb2dyZXNzLCBwb3dlcik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24ocHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgIGlmIChwcm9ncmVzcyA8IC41KVxuICAgICAgICAgICAgICAgIHJldHVybiBkZWx0YSgyICogcHJvZ3Jlc3MpIC8gMlxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHJldHVybiAoMiAtIGRlbHRhKDIgKiAoMSAtIHByb2dyZXNzKSkpIC8gMlxuICAgICAgICB9XG4gICAgfSAvLyBlYXNlSW5PdXRcblxuXG4gICAgLypcbiAgICAgKiBGdW5jOiBjdWJpY0JlemllckRlZmluZWRcbiAgICAgKiBEZXNjOiBFYXNpbmcgZnVuY3Rpb24gYmFzZWQgb24gQ1NTIGVhc2luZzogY3ViaWMtYmV6aWVyKDAuMywgMCwgMC4zLCAxKS5cbiAgICAgKiAgICAgICB5Q29vcmRpbmF0ZXMgZ2VuZXJhdGVkIGJ5IHJ1bm5pbmcgYSBjdWJpYyBiZXppZXIgZnVuY3Rpb24gKHJldHVybmluZyBYIGFuZCBZIGNvb3JkaW5hdGVzIGJhc2VkIG9uIHRpbWUpXG4gICAgICogICAgICAgYW5kIG91dHB1dHRpbmcgdGhlIFkgdmFsdWVzIGFzc29jaWF0ZWQgd2l0aCB0aGUgWCB2YWx1ZXMgdGhhdCBmYWxsIGNsb3Nlc3QgdG8gZWFjaCBodW5kcmVkdGggKC4wMSwgLjAyLCAuLi4pLlxuICAgICAqICAgICAgIFRoaXMgYWxsb3dzIGEgcXVpY2sgbG9va3VwIGJhc2VkIG9uIGFuaW1hdGlvbiBwcm9ncmVzcy4gUHJvZ3Jlc3MgKCUpICogYXJyYXkgbGVuZ3RoIGlzIHRoZSBpbmRleCBvZiB0aGUgWSB2YWx1ZS5cbiAgICAgKiBBcmdzOiBub25lXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3ViaWNCZXppZXJEZWZpbmVkKCkge1xuICAgICAgICB2YXIgeUNvb3JkaW5hdGVzID0gWzAsIDAuMDAwMDYsIDAuMDAwMjQsIDAuMDAwNTQsIDAuMDAwOTcsIDAuMDAxNTMsIDAuMDAyMjEsIDAuMDAzMDMsIDAuMDAzOTgsIDAuMDA1MDYsIDAuMDA2MjksIDAuMDA3NjUsIDAuMDA5MTYsIDAuMDEwODEsIDAuMDEyNiwgMC4wMTQ1NSwgMC4wMTY2NCwgMC4wMTg4OSwgMC4wMjEzLCAwLjAyMzg2LCAwLjAyNjU4LCAwLjAyOTQ2LCAwLjAzMjUsIDAuMDM1NzEsIDAuMDM5MDgsIDAuMDQyNjIsIDAuMDQ2MzIsIDAuMDUwMTksIDAuMDU0MjMsIDAuMDU4NDQsIDAuMDYyODMsIDAuMDY3MzgsIDAuMDcyMSwgMC4wNzY5OSwgMC4wODIwNiwgMC4wODczLCAwLjA5MjcsIDAuMDk4MjcsIDAuMTA0LCAwLjEwOTksIDAuMTE1OTcsIDAuMTIyMTksIDAuMTI4NTcsIDAuMTM1MSwgMC4xNDE3OSwgMC4xNDg2MSwgMC4xNTU1OSwgMC4xNjI3MSwgMC4xNjk5NSwgMC4xNzczNCwgMC4xODQ4NCwgMC4xOTI0NywgMC4yMDAyMSwgMC4yMDgwNSwgMC4yMTYsIDAuMjI0MDUsIDAuMjMyMTksIDAuMjQwNDEsIDAuMjQ4NzEsIDAuMjU3MDgsIDAuMjY1NTIsIDAuMjc0MDEsIDAuMjgyNTYsIDAuMjkxMTQsIDAuMjk5NzgsIDAuMzA4NDQsIDAuMzE3MTIsIDAuMzI1ODMsIDAuMzM0NTUsIDAuMzQzMjgsIDAuMzUyLCAwLjM2MDczLCAwLjM2OTQ1LCAwLjM3ODE1LCAwLjM4NjgyLCAwLjM5NTQ4LCAwLjQwNDExLCAwLjQxMjY5LCAwLjQyMTI2LCAwLjQyOTc3LCAwLjQzODI0LCAwLjQ0NjY2LCAwLjQ1NTAyLCAwLjQ2MzM0LCAwLjQ3MTYsIDAuNDc5OCwgMC40ODc5MywgMC40OTYsIDAuNTAzOTksIDAuNTExOTIsIDAuNTE5NzgsIDAuNTI3NTcsIDAuNTM1MjgsIDAuNTQyOTMsIDAuNTUwNDksIDAuNTU3OTYsIDAuNTY1MzgsIDAuNTcyNywgMC41Nzk5NiwgMC41ODcxMywgMC41OTQyMSwgMC42MDEyMiwgMC42MDgxNSwgMC42MTUsIDAuNjIxNzUsIDAuNjI4NDQsIDAuNjM1MDQsIDAuNjQxNTcsIDAuNjQ4LCAwLjY1NDM3LCAwLjY2MDY0LCAwLjY2Njg0LCAwLjY3Mjk2LCAwLjY3OSwgMC42ODQ5NiwgMC42OTA4NCwgMC42OTY2NSwgMC43MDIzOCwgMC43MDgwMywgMC43MTM2LCAwLjcxOTExLCAwLjcyNDUyLCAwLjcyOTg4LCAwLjczNTE1LCAwLjc0MDM2LCAwLjc0NTQ5LCAwLjc1MDU0LCAwLjc1NTU0LCAwLjc2MDQ1LCAwLjc2NTMsIDAuNzcwMDcsIDAuNzc0NzksIDAuNzc5NDIsIDAuNzg0LCAwLjc4ODUxLCAwLjc5Mjk1LCAwLjc5NzMzLCAwLjgwMTYzLCAwLjgwNTg5LCAwLjgxMDA3LCAwLjgxNDE5LCAwLjgxODI1LCAwLjgyMjI1LCAwLjgyNjE5LCAwLjgzMDA3LCAwLjgzMzg4LCAwLjgzNzY1LCAwLjg0MTM1LCAwLjg0NSwgMC44NDg1OCwgMC44NTIxMSwgMC44NTU1OSwgMC44NTkwMiwgMC44NjIzOSwgMC44NjU3LCAwLjg2ODk1LCAwLjg3MjE3LCAwLjg3NTMyLCAwLjg3ODQyLCAwLjg4MTQ5LCAwLjg4NDQ4LCAwLjg4NzQzLCAwLjg5MDM0LCAwLjg5MzE5LCAwLjg5NiwgMC44OTg3NiwgMC45MDE0NywgMC45MDQxNCwgMC45MDY3NSwgMC45MDkzMywgMC45MTE4NSwgMC45MTQzNCwgMC45MTY3OCwgMC45MTkxNywgMC45MjE1MiwgMC45MjM4MywgMC45MjYwOSwgMC45MjgzMSwgMC45MzA0OSwgMC45MzI2NCwgMC45MzQ3MywgMC45MzY4LCAwLjkzODgxLCAwLjk0MDc5LCAwLjk0MjczLCAwLjk0NDYzLCAwLjk0NjUsIDAuOTQ4MzIsIDAuOTUwMTEsIDAuOTUxODYsIDAuOTUzNTcsIDAuOTU1MjUsIDAuOTU2ODksIDAuOTU4NDksIDAuOTYwMDYsIDAuOTYxNiwgMC45NjMwOSwgMC45NjQ1NSwgMC45NjU5OSwgMC45NjczOCwgMC45Njg3NCwgMC45NzAwNywgMC45NzEzNiwgMC45NzI2MywgMC45NzM4NiwgMC45NzUwNiwgMC45NzYyMywgMC45NzczNiwgMC45Nzg0NywgMC45Nzk1NCwgMC45ODA1OCwgMC45ODE1OSwgMC45ODI1OCwgMC45ODM1MywgMC45ODQ0NSwgMC45ODUzNSwgMC45ODYyMSwgMC45ODcwNSwgMC45ODc4NiwgMC45ODg2NCwgMC45ODkzOSwgMC45OTAxMSwgMC45OTA4MSwgMC45OTE0NywgMC45OTIxMiwgMC45OTI3MywgMC45OTMzMiwgMC45OTM4OCwgMC45OTQ0MiwgMC45OTQ5MywgMC45OTU0MSwgMC45OTU4NywgMC45OTYzLCAwLjk5NjcxLCAwLjk5NzA5LCAwLjk5NzQ1LCAwLjk5Nzc5LCAwLjk5ODEsIDAuOTk4MzgsIDAuOTk4NjUsIDAuOTk4ODgsIDAuOTk5MSwgMC45OTkyOSwgMC45OTk0NiwgMC45OTk2LCAwLjk5OTcyLCAwLjk5OTgyLCAwLjk5OTksIDAuOTk5OTYsIDAuOTk5OTksIDFdO1xuICAgICAgICB2YXIgbGVuID0geUNvb3JkaW5hdGVzLmxlbmd0aCAtIDE7XG5cbiAgICAgICAgLy8gUmV0dXJuIHRoZSBlYXNlaW5nIGZ1bmN0aW9uLCB3aGljaCByZXR1cm5zIGFuIGVhc2VkIHZhbHVlICgw4oCTMSkgYmFzZWQgb24gdGhlIHByb2dyZXNzICgw4oCTMSwgaS5lIDAlLTEwMCUpXG4gICAgICAgIHJldHVybiBmdW5jdGlvbihwcm9ncmVzcykge1xuICAgICAgICAgICAgdmFyIHAgPSBNYXRoLnJvdW5kKHByb2dyZXNzICogbGVuKTtcbiAgICAgICAgICAgIHJldHVybiB5Q29vcmRpbmF0ZXNbcF07XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qXG4gICAgICogRnVuYzogZ2V0TmF0dXJhbEhlaWdodFxuICAgICAqIERlc2M6IEdldCB0aGUgaGVpZ2h0IG9mIGFuIGVsZW1lbnQgb24gdGhlIHBhZ2UgKGJlZm9yZSB2aXNpYmx5IHJlbmRlcmluZyBpdCBvbiB0aGUgcGFnZSlcbiAgICAgKiBBcmdzOiBAZWwgLSBIVE1MIEVsZW1lbnQgLSBUaGUgZWxlbWVudCB0byBtZWFzdXJlXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0TmF0dXJhbEhlaWdodChlbCkge1xuICAgICAgICB2YXIgd3JhcHBlciwgdGVzdERpdiwgaGVpZ2h0O1xuXG4gICAgICAgIHdyYXBwZXIgPSB3cmFwSW5uZXIoZWwsIFwiZGl2XCIpO1xuICAgICAgICBoZWlnaHQgPSB3cmFwcGVyLm9mZnNldEhlaWdodDtcblxuICAgICAgICB1bndyYXAod3JhcHBlcik7XG5cbiAgICAgICAgcmV0dXJuIGhlaWdodDtcbiAgICB9XG5cblxuXG5cbiAgICAvKlxuICAgICAqIEZ1bmM6IHdyYXBJbm5lclxuICAgICAqIERlc2M6IFdyYXAgdGhlIGNvbnRlbnRzIG9mIGFuIGVsZW1lbnQgaW4gYSBuZXcgSFRNTCBlbGVtZW50XG4gICAgICogQXJnczogQGVsIC0gSFRNTEVsZW1lbnQgLSBUaGUgZWxlbWVudCB3aG9zZSBjb250ZW50cyBzaG91bGQgYmUgd3JhcHBlZFxuICAgICAqICAgICAgIEB3cmFwcGVyIC0gU3RyaW5nIC0gVGhlIHR5cGUgb2YgSFRNTCBlbGVtZW50IHRoYXQgc2hvdWxkIHdyYXAgdGhlIGNvbnRlbnRzXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcElubmVyKGVsLCB3cmFwcGVyKSB7XG4gICAgICAgIHZhciB3cmFwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh3cmFwcGVyKTtcblxuICAgICAgICAvLyBBcHBlbmQgYSB3cmFwcGVyIG5vZGVcbiAgICAgICAgZWwuYXBwZW5kQ2hpbGQod3JhcCk7XG5cbiAgICAgICAgLy8gTW92ZSBhbGwgY2hpbGRyZW4gaW50byB0aGUgd3JhcHBlciBlbGVtZW50XG4gICAgICAgIHdoaWxlIChlbC5maXJzdENoaWxkICYmIGVsLmZpcnN0Q2hpbGQgIT09IHdyYXApIHdyYXAuYXBwZW5kQ2hpbGQoZWwuZmlyc3RDaGlsZCk7XG5cbiAgICAgICAgcmV0dXJuIHdyYXA7XG4gICAgfVxuXG4gICAgLypcbiAgICAgKiBGdW5jOiB1bndyYXBcbiAgICAgKiBEZXNjOiBVbndyYXAgdGhlIHBhcmVudCBlbGVtZW50IG9mIHRoZSBzcGVjaWZpZWQgRE9NIGVsZW1lbnRcbiAgICAgKiBTcmM6ICBodHRwczovL3BsYWluanMuY29tL2phdmFzY3JpcHQvbWFuaXB1bGF0aW9uL3Vud3JhcC1hLWRvbS1lbGVtZW50LTM1L1xuICAgICAqIEFyZ3M6IEBlbCAtIEhUTUxFbGVtZW50IC0gVGhlIGVsZW1lbnQgdG8gZGVzdHJveVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVud3JhcChlbCkge1xuICAgICAgICAvLyBnZXQgdGhlIGVsZW1lbnQncyBwYXJlbnQgbm9kZVxuICAgICAgICB2YXIgcGFyZW50ID0gZWwucGFyZW50Tm9kZTtcblxuICAgICAgICAvLyBtb3ZlIGFsbCBjaGlsZHJlbiBvdXQgb2YgdGhlIHdyYXBwZXIgZWxlbWVudFxuICAgICAgICB3aGlsZSAoZWwuZmlyc3RDaGlsZCkgcGFyZW50Lmluc2VydEJlZm9yZShlbC5maXJzdENoaWxkLCBlbCk7XG5cbiAgICAgICAgLy8gcmVtb3ZlIHRoZSBlbXB0eSBlbGVtZW50XG4gICAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChlbCk7XG4gICAgfVxuXG5cblxuICAgIHJldHVybiB7XG4gICAgICAgIGFuaW1hdGVIZWlnaHQ6IGFuaW1hdGVIZWlnaHQsXG4gICAgICAgIGdldE5hdHVyYWxIZWlnaHQ6IGdldE5hdHVyYWxIZWlnaHRcbiAgICB9XG5cblxufSkoKTsiLCIvKlxuICogTW9kdWxlOiBCWVUgTWFpblxuICogRGVzYzogICBGdW5jdGlvbnMgdGhhdCBhcHBseSB0byBhbGwgQllVIHBhZ2VzLCBjb21wb25lbnRzLCBvciBzY3JpcHRzXG4gKi9cblxudmFyIGJ5dV9tYWluID0gKGZ1bmN0aW9uKCl7XG5cblx0dmFyIGRvYyA9IGRvY3VtZW50O1xuXG5cdC8qXG5cdCAqIEhUTUwgUHJvdG90eXBlIGZ1bmN0aW9uIGFzc2lnbm1lbnRzXG5cdCAqIERlc2M6IE1ha2UgaXQgZWFzeSB0byBhZGQsIHRlc3QsIGFuZCByZW1vdmUgSFRNTCBjbGFzc2VzIHZpYSBjb21wYXRpYmxlLCBwbGFpbiBKU1xuXHQgKiBTcmM6ICBodHRwczovL2Nzcy10cmlja3MuY29tL3NuaXBwZXRzL2phdmFzY3JpcHQvYWRkY2xhc3MtZnVuY3Rpb24vI2NvbW1lbnQtMTYxODQwNVxuXHQgKi9cblx0XG5cdC8vIEhhc0NsYXNzXG5cdEhUTUxFbGVtZW50LnByb3RvdHlwZS5oYXNDbGFzcyA9IGZ1bmN0aW9uKG5hbWUpIHtcblx0ICAgIHJldHVybiB0aGlzLmNsYXNzTmFtZS5tYXRjaChuZXcgUmVnRXhwKCcoXFxcXHN8XiknK25hbWUrJyhcXFxcc3wkKScpKTtcblx0fTtcblxuXHQvLyBBZGRDbGFzc1xuXHRIVE1MRWxlbWVudC5wcm90b3R5cGUuYWRkQ2xhc3MgPSBmdW5jdGlvbihuZXdfY2xhc3MpIHsgICBcblx0ICAgIHZhciBuYyA9IG5ld19jbGFzcy5zcGxpdChcIixcIik7XG5cblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICBpZiAoKFwiIFwiICsgdGhpcy5jbGFzc05hbWUgKyBcIiBcIikuaW5kZXhPZihcIiBcIiArIG5jW2ldICsgXCIgXCIpID09IC0xKSB7XG5cdCAgICAgICAgICAgIHRoaXMuY2xhc3NOYW1lICs9IFwiIFwiICsgbmNbaV07XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIHRoaXM7XG5cdH07XG5cblx0Ly8gUmVtb3ZlQ2xhc3Ncblx0SFRNTEVsZW1lbnQucHJvdG90eXBlLnJlbW92ZUNsYXNzID0gZnVuY3Rpb24obmFtZSkge1xuXHQgIGlmICh0aGlzLmhhc0NsYXNzKG5hbWUpKSB7XG5cdCAgICB2YXIgcmVnID0gbmV3IFJlZ0V4cCgnKFxcXFxzfF4pJytuYW1lKycoXFxcXHN8JCknKTtcblx0ICAgIHRoaXMuY2xhc3NOYW1lID0gdGhpcy5jbGFzc05hbWUucmVwbGFjZShyZWcsJyAnKTtcblx0ICB9XG5cdCAgcmV0dXJuIHRoaXM7XG5cdH07XG5cblxuXHQvKlxuXHQgKiBGdW5jOiBFeGVjdXRlT25Mb2FkXG5cdCAqIERlc2M6IEV4ZWN1dGUgc3BlY2lmaWVkIGZ1bmN0aW9uIHdoZW4gdGhlIERPTSBpcyByZWFkeS4gSGFuZGxlIFxuXHQgKiBBcmdzOiBmdW5jdGlvbk5hbWUgLSBGdW5jdGlvbiBJZGVudGlmaWVyIC0gTmFtZSBvZiB0aGUgZnVuY3Rpb24gdG8gZXhlY3V0ZVxuXHQgKi9cblx0ZnVuY3Rpb24gZXhlY3V0ZU9uTG9hZCggZnVuY3Rpb25OYW1lICkge1xuXHRcdC8vIGluIGNhc2UgdGhlIGRvY3VtZW50IGlzIGFscmVhZHkgcmVuZGVyZWRcblx0XHRpZiAoZG9jLnJlYWR5U3RhdGUhPSdsb2FkaW5nJykgZnVuY3Rpb25OYW1lKCk7XG5cdFx0Ly8gbW9kZXJuIGJyb3dzZXJzXG5cdFx0ZWxzZSBpZiAoZG9jLmFkZEV2ZW50TGlzdGVuZXIpIGRvYy5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb25OYW1lKTtcblx0XHQvLyBJRSA8PSA4XG5cdFx0ZWxzZSBkb2MuYXR0YWNoRXZlbnQoJ29ucmVhZHlzdGF0ZWNoYW5nZScsIGZ1bmN0aW9uKCl7XG5cdFx0ICAgIGlmIChkb2MucmVhZHlTdGF0ZT09J2NvbXBsZXRlJykgZnVuY3Rpb25OYW1lKCk7XG5cdFx0fSk7XG5cdH1cblxuXG5cdC8vIEV4cG9zZSBwdWJsaWMgbWV0aG9kc1xuXHRyZXR1cm4ge1xuXHRcdGV4ZWN1dGVPbkxvYWQ6IGV4ZWN1dGVPbkxvYWQsXG5cdH1cblxufSkoKTsiLCJ2YXIgYnl1X2hlYWRlciA9IChmdW5jdGlvbigpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIGRvYyA9IGRvY3VtZW50OyAvLyBQdXQgdGhpcyBpbiBhIHZhcmlhYmxlIHRvIGVuYWJsZSBzbWFsbGVyIGNvbXByZXNzaW9uXG5cdHZhciBqc0luaXRDbGFzcyA9ICdqcy1lbmFibGVkJztcblx0dmFyIGhlYWRlckVsO1xuXG5cdC8vIEV4ZWN1dGUgdGhlIGluaXRpYWxpemUgZnVuY3Rpb25cblx0Ynl1X21haW4uZXhlY3V0ZU9uTG9hZCggaW5pdCApO1xuXG5cblx0Lypcblx0ICogRnVuYzogSW5pdFxuXHQgKiBEZXNjOiBJbml0aWFsaXplIHRoZSBoZWFkZXIgYnV0dG9uXG5cdCAqIEFyZ3M6IG5vbmVcblx0ICovXG5cdGZ1bmN0aW9uIGluaXQoKSB7XG5cdFx0aGVhZGVyRWwgPSBkb2MuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYnl1LWhlYWRlcicpWzBdO1xuXHRcdGhlYWRlckVsLmFkZENsYXNzKGpzSW5pdENsYXNzKTtcblx0XHRpZiggaGVhZGVyRWwuaGFzQ2xhc3MoanNJbml0Q2xhc3MpICkge1xuXHRcdFx0Y29uc29sZS5sb2coICdIZWFkZXIganMgaW5pdGlhbGl6ZWQnICk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHt9O1xuXG59KSgpOyIsIi8qXG4gKiBNb2R1bGU6IEJZVSBUYWJsZVxuICogRGVzYzogICBIYW5kbGUgdGFibGVzIHRoYXQgYXJlIHdpZGVyIHRoYW4gdGhpZXIgY29udGFpbmVyXG4gKi9cblxudmFyIGJ5dV90YWJsZSA9IChmdW5jdGlvbigpe1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgZG9jID0gZG9jdW1lbnQ7XG5cblxuXHQvLyBFeGVjdXRlIHRoZSBmdW5jdGlvblxuXHRieXVfbWFpbi5leGVjdXRlT25Mb2FkKCB1cGRhdGVUYWJsZXMgKTtcblx0XG5cblx0Lypcblx0ICogRnVuYzogVXBkYXRlVGFibGVzXG5cdCAqIERlc2M6IERldGVjdCBhbmQgaGFuZGxlIHRhYmxlcyB0aGF0IGFyZSB3aWRlciB0aGFuIHRoZWlyIGNvbnRhaW5lci5cblx0ICogXHRcdCBXb3JrcyBvbiB0YWJsZXMgY29udGFpbmVkIHdpdGhpbiBhbiBlbGVtZW50IG9mIGNsYXNzIFwidGFibGUtY29udGFpbmVyXCIuXG5cdCAqIEFyZ3M6IG5vbmVcblx0ICovXG5cdGZ1bmN0aW9uIHVwZGF0ZVRhYmxlcygpIHtcblx0XHR2YXIgY29udGFpbmVycyA9IGRvYy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwidGFibGUtY29udGFpbmVyXCIpO1xuXG5cdFx0Zm9yICh2YXIgaT0wOyBpIDwgY29udGFpbmVycy5sZW5ndGg7IGkrKykge1xuXHRcdCAgICB2YXIgY29udGFpbmVyID0gY29udGFpbmVyc1tpXTtcblx0XHQgICAgdXBkYXRlVGFibGUoIGNvbnRhaW5lciApO1xuXHRcdH1cblx0fVxuXG5cblx0Lypcblx0ICogRnVuYzogVXBkYXRlVGFibGVcblx0ICogRGVzYzogQ2hlY2sgaWYgYSB0YWJsZSBpcyB3aWRlciB0aGFuIGl0cyBjb250YWluZXIsIGFuZCBtYXJrIHNjcm9sbGluZyBwb3NpdGlvbiB3aXRoaW4gaXRcblx0ICogQXJnczogQGNvbnRhaW5lciAtIEhUTUwgRWxlbWVudCAtIEEgY29udGFpbmVyIGVsZW1lbnQgZm9yIGEgdGFibGUgKHByb2JhYmx5IG9mIGNsYXNzIFwidGFibGUtY29udGFpbmVyXCIpXG5cdCAqL1xuXHRmdW5jdGlvbiB1cGRhdGVUYWJsZSggY29udGFpbmVyICkge1xuXHRcdHZhciBjX3dpZHRoID0gY29udGFpbmVyLm9mZnNldFdpZHRoO1xuXHQgICAgdmFyIHRhYmxlID0gY29udGFpbmVyLiBnZXRFbGVtZW50c0J5VGFnTmFtZShcInRhYmxlXCIpWzBdO1xuXHQgICAgdmFyIHRfd2lkdGggPSB0YWJsZS5vZmZzZXRXaWR0aDtcblx0ICAgIHZhciB0YWJsZV93aWRlX2NsYXNzID0gXCJ0YWJsZS13aWRlXCI7XG5cdCAgICB2YXIgc3RhcnRfdmlzaWJsZV9jbGFzcyA9IFwic3RhcnQtdmlzaWJsZVwiO1xuXHQgICAgdmFyIGVuZF92aXNpYmxlX2NsYXNzID0gXCJlbmQtdmlzaWJsZVwiO1xuXG5cdCAgICBpZiAoIGNfd2lkdGggPCB0X3dpZHRoICkge1xuXG5cdCAgICBcdC8vIEFkZCB0YWJsZSB3aWRlIGNsYXNzIGlmIGl0J3Mgbm90IGFscmVhZHkgdGhlcmVcblx0ICAgIFx0aWYgKCAhY29udGFpbmVyLmhhc0NsYXNzKCB0YWJsZV93aWRlX2NsYXNzICkgKSB7IFxuXHRcdCAgICBcdGNvbnRhaW5lci5hZGRDbGFzcyggdGFibGVfd2lkZV9jbGFzcyApO1xuXHRcdCAgICB9XG5cblx0ICAgIFx0Ly8gQ2hlY2sgaWYgdGhlIHN0YXJ0IG9mIHRoZSB0YWJsZSBpcyB2aXNpYmxlIGFuZCBoYW5kbGVcblx0ICAgIFx0aWYgKCB0YWJsZS5zY3JvbGxMZWZ0ID09IDAgKSB7XG5cdCAgICBcdFx0aWYgKCAhY29udGFpbmVyLmhhc0NsYXNzKCBzdGFydF92aXNpYmxlX2NsYXNzICkgKSB7XG5cdFx0ICAgIFx0XHRjb250YWluZXIuYWRkQ2xhc3MoIHN0YXJ0X3Zpc2libGVfY2xhc3MgKTtcblx0ICAgIFx0XHR9XG5cdCAgICBcdH0gZWxzZSB7XG5cdCAgICBcdFx0Y29udGFpbmVyLnJlbW92ZUNsYXNzKCBzdGFydF92aXNpYmxlX2NsYXNzICk7XG5cdCAgICBcdH1cblxuXHQgICAgXHQvLyBDaGVjayBpZiB0aGUgZW5kIG9mIHRoZSB0YWJsZSBpcyB2aXNpYmxlIGFuZCBoYW5kbGVcblx0ICAgIFx0aWYgKCB0X3dpZHRoIC0gdGFibGUuc2Nyb2xsTGVmdCA9PSBjX3dpZHRoICkge1xuXHQgICAgXHRcdGlmICggIWNvbnRhaW5lci5oYXNDbGFzcyggZW5kX3Zpc2libGVfY2xhc3MgKSApIHtcblx0XHQgICAgXHRcdGNvbnRhaW5lci5hZGRDbGFzcyggZW5kX3Zpc2libGVfY2xhc3MgKTtcblx0ICAgIFx0XHR9XG5cdCAgICBcdH0gZWxzZSB7XG5cdCAgICBcdFx0Y29udGFpbmVyLnJlbW92ZUNsYXNzKCBlbmRfdmlzaWJsZV9jbGFzcyApO1xuXHQgICAgXHR9XG5cdCAgICB9IFxuXG5cdCAgICAvLyBUaGUgdGFibGUgaXMgbm90IHRvbyB3aWRlIGZvciBpdHMgY29udGFpbmVyXG5cdCAgICBlbHNlIHtcblx0ICAgIFx0Y29udGFpbmVyLnJlbW92ZUNsYXNzKCB0YWJsZV93aWRlX2NsYXNzICk7XG5cdCAgICB9XG5cdH1cblxufSkoKTsiXX0=
